{"version":3,"sources":["assets\\Scripts\\UI\\BelongItem.js"],"names":["ItemType","require","BelongItem","cc","Class","Component","properties","itemType","Car","type","Id","Integer","ItemName","icon","Sprite","Atlas","SpriteAtlas","price","nameLbl","Label","desLbl","Data","init","data","spriteFrame","getSpriteFrame","name","House","string","ownNum","Mate","ClickOpen","Mgr","AudioMgr","playSFX","param","global","getTranslation","Type","flag","director","GlobalEvent","emit","Event","OpenCommonBuy","Refresh","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var ItemType = require(\"ItemType\");\r\nvar BelongItem = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        itemType:{\r\n            default:ItemType.Car,\r\n            type:ItemType,\r\n        },\r\n        Id:cc.Integer,\r\n        ItemName:\"\",\r\n        icon:cc.Sprite,\r\n        Atlas:cc.SpriteAtlas,\r\n        price:cc.Integer,\r\n        nameLbl:cc.Label,\r\n        desLbl:cc.Label,\r\n        Data:null,\r\n    },\r\n\r\n    init:function (data, itemType) {\r\n        this.Id = data.Id;\r\n        this.Data = data;\r\n        this.itemType = itemType;\r\n        this.icon.spriteFrame = this.Atlas.getSpriteFrame(data.icon);\r\n        //this.nameLbl.string = data.name;\r\n        this.ItemName = data.name;\r\n        if(data.price == null)\r\n            this.price = 0;\r\n        else\r\n            this.price = data.price;\r\n        \r\n        if(this.itemType == ItemType.Car || this.itemType == ItemType.House)\r\n        {\r\n            this.desLbl.string = \"x\" + data.ownNum;\r\n        }\r\n        else if(this.itemType == ItemType.Mate)\r\n        {\r\n            this.desLbl.string = \"\";\r\n        }\r\n    },\r\n\r\n    ClickOpen:function(){\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        if(this.itemType == ItemType.Car || this.itemType == ItemType.House)\r\n        {\r\n            var param = {};\r\n            if(this.itemType == ItemType.Car)\r\n                param.name = cc.Mgr.global.getTranslation(\"car_\" + this.Id);\r\n            else\r\n                param.name = cc.Mgr.global.getTranslation(\"company_\"+this.Id);\r\n            param.Id = this.Id;\r\n            param.Type = ItemType.House;\r\n            if(this.itemType == ItemType.Car)\r\n                param.Type = ItemType.Car;\r\n            param.price = this.price;\r\n            param.icon = this.Data.icon;\r\n            param.flag = \"Sale\";\r\n            cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCommonBuy, param);\r\n        }\r\n        else if(this.itemType == ItemType.Mate)\r\n        {\r\n            var param = {};\r\n            param.name = param.name = cc.Mgr.global.getTranslation(\"role_\"+this.Id);\r\n            param.Id = this.Id;\r\n            param.Type = ItemType.Mate;\r\n            param.price = this.price;\r\n            param.flag = \"Sale\";\r\n            cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCommonBuy, param);\r\n        }\r\n\r\n    },\r\n\r\n    Refresh:function(data){\r\n        if(this.itemType == ItemType.Car || this.itemType == ItemType.House)\r\n        {\r\n            this.desLbl.string = \"x\" + data.ownNum;\r\n        }\r\n    },\r\n\r\n});\r\nmodule.exports = BelongItem;"]}