{"version":3,"sources":["assets\\Scripts\\UI\\SkillItem.js"],"names":["SkillItem","cc","Class","Component","properties","StartAtlas","SpriteAtlas","Atlas","icon","Sprite","maskSp","lvLbl","Label","Line","UpTip","Node","Data","ShowData","data","len","active","string","level","spriteFrame","getSpriteFrame","node","setState","subId","JudeShowUpTip","isOk","Mgr","UserDataMgr","CanShowUpTip","Id","ClickOpenUp","AudioMgr","playSFX","director","GlobalEvent","emit","Event","OpenUpgradeSkill","module","exports"],"mappings":";;;;;;AACA,IAAIA,SAAS,GAAGC,EAAE,CAACC,KAAK,CAAC;EACrB,WAASD,EAAE,CAACE,SAAS;EAErBC,UAAU,EAAE;IACXC,UAAU,EAACJ,EAAE,CAACK,WAAW;IACtBC,KAAK,EAACN,EAAE,CAACK,WAAW;IACpBE,IAAI,EAACP,EAAE,CAACQ,MAAM;IACdC,MAAM,EAACT,EAAE,CAACQ,MAAM;IAChBE,KAAK,EAACV,EAAE,CAACW,KAAK;IACdC,IAAI,EAACZ,EAAE,CAACQ,MAAM;IACdK,KAAK,EAACb,EAAE,CAACc,IAAI;IACbC,IAAI,EAAC;EACT,CAAC;EAEDC,QAAQ,EAAC,SAAAA,SAAUC,IAAI,EAAEC,GAAG,EAAE;IAC1B,IAAI,CAACL,KAAK,CAACM,MAAM,GAAG,KAAK;IACzB,IAAI,CAACJ,IAAI,GAAGE,IAAI;IAChB,IAAI,CAACP,KAAK,CAACU,MAAM,GAAGH,IAAI,CAACI,KAAK;IAC9B,IAAI,CAACd,IAAI,CAACe,WAAW,GAAG,IAAI,CAAChB,KAAK,CAACiB,cAAc,CAACN,IAAI,CAACV,IAAI,CAAC;IAC5D,IAAGU,IAAI,CAACI,KAAK,IAAI,CAAC,EAClB;MACI;MACA,IAAI,CAACZ,MAAM,CAACe,IAAI,CAACL,MAAM,GAAG,KAAK;MAC/B,IAAI,CAACP,IAAI,CAACa,QAAQ,CAAC,CAAC,CAAC;IACzB,CAAC,MAED;MACI;MACA,IAAI,CAAChB,MAAM,CAACe,IAAI,CAACL,MAAM,GAAG,IAAI;MAC9B,IAAI,CAACP,IAAI,CAACa,QAAQ,CAAC,CAAC,CAAC;IACzB;IACA,IAAI,CAACb,IAAI,CAACY,IAAI,CAACL,MAAM,GAAG,KAAK;IAC7B,IAAGF,IAAI,CAACS,KAAK,IAAIR,GAAG,EACpB;MACI,IAAI,CAACN,IAAI,CAACY,IAAI,CAACL,MAAM,GAAG,IAAI;IAChC;IAEA,IAAI,CAACQ,aAAa,EAAE;EACxB,CAAC;EAEDA,aAAa,EAAC,SAAAA,cAAA,EAAU;IACpB,IAAIC,IAAI,GAAG5B,EAAE,CAAC6B,GAAG,CAACC,WAAW,CAACC,YAAY,CAAC,IAAI,CAAChB,IAAI,CAACiB,EAAE,EAAE,IAAI,CAACjB,IAAI,CAACW,KAAK,EAAG,IAAI,CAACX,IAAI,CAACM,KAAK,GAAG,CAAC,CAAE;IAChG,IAAI,CAACR,KAAK,CAACM,MAAM,GAAGS,IAAI;EAC5B,CAAC;EAEDK,WAAW,EAAC,SAAAA,YAAA,EAAU;IAClBjC,EAAE,CAAC6B,GAAG,CAACK,QAAQ,CAACC,OAAO,CAAC,OAAO,CAAC;IAChCnC,EAAE,CAACoC,QAAQ,CAACC,WAAW,CAACC,IAAI,CAACtC,EAAE,CAAC6B,GAAG,CAACU,KAAK,CAACC,gBAAgB,EAAE,IAAI,CAACzB,IAAI,CAAC;EAC1E;AACJ,CAAC,CAAC;AACF0B,MAAM,CAACC,OAAO,GAAG3C,SAAS","sourceRoot":"/","sourcesContent":["\r\nvar SkillItem = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n    \tStartAtlas:cc.SpriteAtlas,\r\n        Atlas:cc.SpriteAtlas,\r\n        icon:cc.Sprite,\r\n        maskSp:cc.Sprite,\r\n        lvLbl:cc.Label,\r\n        Line:cc.Sprite,\r\n        UpTip:cc.Node,\r\n        Data:null,\r\n    },\r\n\r\n    ShowData:function (data ,len) {\r\n        this.UpTip.active = false;\r\n        this.Data = data;\r\n        this.lvLbl.string = data.level;\r\n        this.icon.spriteFrame = this.Atlas.getSpriteFrame(data.icon);\r\n        if(data.level != 0)\r\n        {\r\n            //this.icon.setState(0);\r\n            this.maskSp.node.active = false;\r\n            this.Line.setState(0);\r\n        }\r\n        else\r\n        {\r\n            //this.icon.setState(1);\r\n            this.maskSp.node.active = true;\r\n            this.Line.setState(1);\r\n        }\r\n        this.Line.node.active = false;\r\n        if(data.subId != len)\r\n        {\r\n            this.Line.node.active = true;\r\n        } \r\n\r\n        this.JudeShowUpTip();\r\n    },\r\n\r\n    JudeShowUpTip:function(){\r\n        var isOk = cc.Mgr.UserDataMgr.CanShowUpTip(this.Data.Id, this.Data.subId, (this.Data.level + 1));\r\n        this.UpTip.active = isOk;\r\n    },\r\n\r\n    ClickOpenUp:function(){\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenUpgradeSkill, this.Data);\r\n    },\r\n});\r\nmodule.exports = SkillItem;\r\n"]}