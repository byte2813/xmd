{"version":3,"sources":["assets\\Scripts\\Core\\UserDataMgr.js"],"names":["ItemType","require","RewardType","MateBonusType","SkillType","MateUnLockType","MateGetType","UserState","AchieveCondData","AchieveCond","SkillStruct","AchieveStruct","RecordStruct","GoodsStruct","CarStruct","HouseStruct","CompanyStruct","MateStruct","eyouClientTiktok","eyouClientKs","eyouClient","httpUtil","crypto","UserDataMgr","cc","Class","_cc$Class","Component","properties","userId","tutorialInBus","tutorialInDate","tutorialInMarket","tutorialStockBonus","tutorialMatePoint","VideoLastTime","VideoAdsTimes","Integer","playTimes","playerName","Sex","SkillList","type","AchievementList","RecordList","MarryAge","MarryRoleId","DivorceAge","FundationAge","FundationCompanyId","BankruptAge","MillionAge","TenMillionAge","HundredMillionAge","RetireAge","BetWinRatio","DateSuccescRatio","HighAssets","InitMoney","Cash","HpPoint","Age","Honor","Reputation","AssetsMoney","WareHouseCapcity","WareHouseAllCapcity","hasCompany","CanGetStockProfit","RecoverYear","SkillBonusPoint","TreatBonus","WareHouseCapcityBonus","CashBonus","CashRationBonus","ReputationBonus","HpPointBonus","WareHouseBonusEveryYear","RetireBonus","DateBonus","InitMoneyBonus","StockAddBonus","StockUpBonus","DateMoneyBonus","BetBonus","SkillPointGetBonus","ReputationInitBonus","CarBuyBonus","EventCostBonus","HouseBuyBonuse","HistoryHighAssets","userState","OK","EventDataIdList","GoodsList","CarList","HouseList","CompanyList","MateList","ShowGoodsList","JudeGoodsOwned","Id","i","length","ownNum","ClearShowGoodsList","splice","InsertGoodsIdToList","push","CheckIdIsInShowList","flag","initData","_this","Mgr","global","InitEventHappenAge","isKuaiShou","ks","sys","platform","BYTEDANCE_GAME","getIns","init","initResp","login","loginResp","tiktokGameVerifySession","data","code","then","tiktokOpenId","execAfterObtainAccount","err","log","WECHAT_GAME","wechatGameVerifySession","wxOpenId","console","kuaiShouGameVerifySession","ksOpenId","Promise","resolve","reject","reqObj","gameId","platformId","timeStamp","Math","floor","Date","now","secStr","signStr","replaceAll","sign","createHash","update","digest","postJson","reqFlag","resp","post","StorageData","localStorage","getItem","userdata","MapDataMgr","getDataListByItemType","Skill","sk","name","icon","desId","subId","Uplv","upLevel","skillType","level","Achieve","ac","hasFinish","setItem","JSON","stringify","Data","parse","testDate","toDateString","GetInitSkillBonus","retireAge","RetireInitAge","InitWareHouseCapcity","Goods","buyPrice","marketPrice","Car","price","addBonus","addHp","addDate","House","Company","bonusRatio","isOwned","stockNum","stockCost","bankruptPrice","outPrice","stockPrice","inPrice","LimitYear","Mate","sex","LovePoint","canDate","unlockCond","NULL","curLevel","UpLv","EventList","EventData","skillList","bonus","getSkillAddBonusByTwoIdAndLv","WLNS","THY","XSJY","FGZJ","GSGL","TPGS","JZCC","MLSZ","DS","LDYZ","NSCM","QCDR","HYLL","DCZJ","GetBonusRewardEveryYear","GetEventDataAndSpliceId","len","seed","random","out","RefreshHistoryHighAsset","asset","SaveUserData","CreateRecord","reD","asLv","td","assets","highAssets","UpGradeSkill","toLv","isOk","NeedCost","getUpgradeCostByTwoId","CanShowUpTip","FinishAchievement","BuyGoods","RefeshDataAfterBuy","SaleGoods","RefeshDataAfterSale","CreateCompany","RefreshDataAfterOper","CheckOwnedGoodsNum","Num","Isfull","BuyStocks","SaleStocks","RefreshDataAfterSale","BuySaleCommonItem","Type","RefreshData","addNum","RefreshMateData","RefreshAfterLvUp","DisvorceMateById","ReturnInitState","getDataByItemTypeAndId","DeleteMateBonusReward","bonusList","DisvorceDelStocks","RefreshDataAfterDisvorce","getMateBonusReward","dt","bonusType","HP","bonusNum","Money","Treat","getOwnDataListByType","itemType","dataList","RefreshGoodsMarKetPrice","RefreshStockData","param","getGoodsDataById","RefreshUserAssets","caculateStock","lastAsset","da","JudeFinishAnyAchievement","AssetExplorRate","AssetExplorDownRate","NotOK","AssetBurden","HealthLine","goToHospital","YearRecover","forWhat","text","getTranslation","director","GlobalEvent","emit","Event","OpenCommonTip","acD","condList","finished","JudeCanFinishAchievementByCond","CaculateReputationFromCompany","HasCompanyReputationAdd","finishedList","cond","condType","value","AssetMoneyUp","JudeAssetCond","InHospital","JudegoToHosTimesCond","Bankrupt","JudeBankruptTimesCond","CreateBusiness","JudeCreateCompanyCond","AgeCond","JudeAgeCond","HasMarryCond","JudeHasMarryCond","LovePointCond","JudeLovePointCond","AssetMoneyDown","JudeAssetDownCond","NoMarryCond","JudeNotMarryCond","AgeCondUp","JudeAgeCondUp","BankruptTimes","CreateCompanyTimes","JudeHasCar","JudeHasCarById","JudeHasHouse","JudeHasHouseById","num","RefreshUserAge","useRetireAds","UseRetireAdsSkill","Retire","RefreshHealthHp","HealthSubAge","getSkillDataByTwoId","getSkillListById","GetOrCostDataByRewardType","rewardType","Pdata","companyId","averagePrice","Stock","StockPrice","JudeAsset","needNum","JudeReputation","JudeHpPoint","JudeHasCompany","UnLockOneMate","offSex","des","OpenUnLockMate","UnLockMateByInHospital","JudeHasAnyMate","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var ItemType = require(\"ItemType\");\r\nvar RewardType = require(\"RewardType\");\r\nvar MateBonusType = require(\"MateBonusType\");\r\nvar SkillType = require(\"SkillType\");\r\nvar MateUnLockType = require(\"MateUnLockType\");\r\nvar MateGetType = require(\"MateGetType\");\r\nvar UserState = require(\"UserState\");\r\nvar AchieveCondData = require(\"AchieveCondData\");\r\nvar AchieveCond = require(\"AchieveCond\");\r\n\r\n//以下的数据要做永久保存\r\nvar SkillStruct = require(\"SkillStruct\");\r\nvar AchieveStruct = require(\"AchieveStruct\");\r\nvar RecordStruct = require(\"RecordStruct\");\r\n//下面的数值是不会永久保存的  指只会当局游戏保存\r\nvar GoodsStruct = require(\"GoodsStruct\");\r\nvar CarStruct = require(\"CarStruct\");\r\nvar HouseStruct = require(\"HouseStruct\");\r\nvar CompanyStruct = require(\"CompanyStruct\");\r\nvar MateStruct = require(\"MateStruct\");\r\n\r\nvar eyouClientTiktok = require(\"EyouClientTiktok\");\r\nvar eyouClientKs = require(\"EyouClientKs\");\r\nvar eyouClient = require(\"eyouClient\");\r\nvar httpUtil = require(\"httpUtil\");\r\nvar crypto = require(\"crypto\");\r\n\r\n//数据操作结构\r\nvar UserDataMgr = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties:{\r\n    \t//本地保存数据\r\n\t\tuserId: \"\",\r\n\r\n    \ttutorialInBus:false,\r\n    \ttutorialInDate:false,\r\n    \ttutorialInMarket:false,\r\n    \ttutorialStockBonus:false,\r\n    \ttutorialMatePoint:false,\r\n\r\n    \tVideoLastTime:\"\",//每天看视频时间记录\r\n    \tVideoAdsTimes:cc.Integer,//次数\r\n\r\n    \tplayTimes:cc.Integer,//游戏次数\r\n\t\tplayerName:\"Alex\",\r\n\t\tSex:cc.Integer, //1 man  2 woman\r\n        SkillList:{\r\n        \tdefault:[],\r\n        \ttype:[SkillStruct],\r\n        },\r\n        AchievementList:{\r\n        \tdefault:[],\r\n        \ttype:[AchieveStruct],\r\n        },\r\n\r\n        RecordList:{\r\n        \tdefault:[],\r\n        \ttype:[RecordStruct],\r\n        },\r\n\r\n        MarryAge:cc.Integer,\r\n        MarryRoleId:cc.Integer,\r\n        DivorceAge:cc.Integer,\r\n        FundationAge:cc.Integer,\r\n        FundationCompanyId:cc.Integer,\r\n        BankruptAge:cc.Integer,\r\n        MillionAge:cc.Integer,\r\n        TenMillionAge:cc.Integer,\r\n        HundredMillionAge:cc.Integer,\r\n\r\n        //非本地保存数据\r\n        RetireAge:cc.Integer, //退休年龄 这个值跟成就有关\r\n        BetWinRatio:0.15, //賭博贏概率\r\n        DateSuccescRatio:0.2, //約會成功概率\r\n        //BetCost:cc.Integer,//赌博花费\r\n        HighAssets:cc.Integer,//资产巅峰值\r\n        InitMoney:cc.Integer,//刚出来闯荡时候的所有资产\r\n        Cash:cc.Integer,//现金\r\n\t\tHpPoint:cc.Integer,//健康指数\r\n\t\tAge:cc.Integer,//年龄\r\n\t\tHonor:cc.Integer, //头衔 1 百万富翁 等等  这个在玩到一亿元之后会有新的玩意\r\n\t\tReputation:cc.Integer, //名声指数\r\n\t\tAssetsMoney:cc.Integer, //总资产\r\n\t\tWareHouseCapcity:cc.Integer,//仓库剩余容量\r\n\t\tWareHouseAllCapcity:cc.Integer,//仓库总容量\r\n\t\thasCompany:false,//是否已经创办公司\r\n\t\tCanGetStockProfit:false, //能否计算股票收益了\r\n\t\tRecoverYear:0,// 从恢复健康 剩余年限\r\n\r\n\t\tSkillBonusPoint:0,//技能点\r\n\r\n\t\t//加成点 伴侣加成  技能加成 \r\n\t\tTreatBonus: 0.0, //治疗花费降低百分点\r\n\t\tWareHouseCapcityBonus:0, //仓储加成\r\n\t\tCashBonus:0, //金钱加成 每年加成\r\n\t\tCashRationBonus:0,\r\n\t\tReputationBonus:0, //名声加成 每年\r\n\t\tHpPointBonus:0, //健康加成\r\n\t\tWareHouseBonusEveryYear:0, //每年的仓储加成\r\n\t\tRetireBonus:0, //增加退休年限\r\n\t\tDateBonus:0.0, //增加约会成功概率\r\n\t\tInitMoneyBonus:0,//增加初始现金\r\n\t\tStockAddBonus:0.0, //增加公司收益\r\n\t\tStockUpBonus:0.0, //股票上涨 概率增加\r\n\t\tDateMoneyBonus:0.0, //约会花费降低\r\n\t\tBetBonus:0.0, //赌博赢钱概率上升\r\n\t\tSkillPointGetBonus:0.0 ,//结算技能点获得提升\r\n\t\tReputationInitBonus:0, //初始名声加成\r\n\t\tCarBuyBonus:0, //购买汽车价格降低\r\n\t\tEventCostBonus:0, //事件消耗金钱降低\r\n\t\tHouseBuyBonuse:0, //购买房屋 价格降低\r\n\r\n\t\tHistoryHighAssets:0,// 记录历史退休最高资产\r\n\r\n\t\tuserState:{\r\n\t\t\tdefault:UserState.OK,\r\n\t\t\ttype:UserState,\r\n\t\t},// 玩家状态\r\n\r\n\t\tEventDataIdList:{\r\n\t\t\tdefault:[],\r\n\t\t\ttype:[cc.Integer],\r\n\t\t},//事件弹出 Id列表\r\n\r\n\t\tGoodsList:{\r\n\t\t\tdefault:[],\r\n\t\t\ttype:[GoodsStruct],\r\n\t\t},\r\n\t\tCarList:{\r\n\t\t\tdefault:[],\r\n\t\t\ttype:[CarStruct],\r\n\t\t},\r\n\t\tHouseList:{\r\n\t\t\tdefault:[],\r\n\t\t\ttype:[HouseStruct],\r\n\t\t},\r\n\t\tCompanyList:{\r\n\t\t\tdefault:[],\r\n\t\t\ttype:[CompanyStruct],\r\n\t\t},\r\n\t\tMateList:{\r\n\t\t\tdefault:[],\r\n\t\t\ttype:[MateStruct],\r\n\t\t},\r\n\r\n\t\t//当前显示的五个物品 每次只显示五个物品  只保存 Id\r\n\t\tShowGoodsList:{\r\n\t\t\tdefault:[],\r\n\t\t\ttype:[cc.Integer],\r\n\t\t},\r\n\r\n\t},\r\n\r\n\tJudeGoodsOwned:function(Id){\r\n\t\tfor (var i = this.GoodsList.length - 1; i >= 0; i--) {\r\n\t\t\tif(this.GoodsList[i].Id == Id && this.GoodsList[i].ownNum > 0)\r\n\t\t\t{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\t//清理市场显示数据\r\n\tClearShowGoodsList:function(){\r\n\t\tthis.ShowGoodsList.splice(0, this.ShowGoodsList.length);\r\n\t},\r\n\r\n\t//向显示数组中插入一个 显示数据 Id\r\n\tInsertGoodsIdToList:function(Id){\r\n\t\tthis.ShowGoodsList.push(Id);\r\n\t},\r\n\t//检查Id 是否当前显示\r\n\tCheckIdIsInShowList:function(Id){\r\n\t\tvar flag = false;\r\n\t\tfor (var i = this.ShowGoodsList.length - 1; i >= 0; i--) {\r\n\t\t\tif(this.ShowGoodsList[i] == Id)\r\n\t\t\t{\r\n\t\t\t\tflag = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn flag;\r\n\t},\r\n\r\n\tinitData:function () {\r\n\t\tcc.Mgr.initData = false;\r\n\t\tthis.userState = UserState.OK;//健康状态\r\n\r\n\t\tcc.Mgr.global.InitEventHappenAge();\r\n\r\n\t\tif (!cc.Mgr.UserDataMgr.userId) {\r\n\t\t\tlet isKuaiShou = false;\r\n\t\t\tif (typeof ks !== 'undefined') {\r\n\t\t\t\t//运行在快手平台\r\n\t\t\t\tisKuaiShou = true;\r\n\t\t\t}\r\n\t\t\tif (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {\r\n\t\t\t\teyouClientTiktok.getIns().init(9000009, initResp => {\r\n\t\t\t\t\teyouClientTiktok.getIns().login(loginResp => {\r\n\t\t\t\t\t\tthis.tiktokGameVerifySession(loginResp.data.code)\r\n\t\t\t\t\t\t\t.then(tiktokOpenId => {\r\n\t\t\t\t\t\t\t\tthis.execAfterObtainAccount(tiktokOpenId);\r\n\t\t\t\t\t\t\t\tcc.Mgr.initData = true;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(err => cc.log('登录失败:>', err))\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\treturn;\r\n\t\t\t}else if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) {\r\n\t\t\t\teyouClient.getIns().init(9000021, initResp => {\r\n\t\t\t\t\teyouClient.getIns().login(loginResp => {\r\n\t\t\t\t\t\tthis.wechatGameVerifySession(loginResp.data.code)\r\n\t\t\t\t\t\t\t.then(wxOpenId => {\r\n\t\t\t\t\t\t\t\tthis.execAfterObtainAccount(wxOpenId)\r\n\t\t\t\t\t\t\t\tcc.Mgr.initData = true;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(err => console.log('登录失败:>', err))\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\treturn;\r\n\t\t\t}else if (isKuaiShou){\r\n\t\t\t\tconsole.log(\"运行在快手平台\")\r\n\t\t\t\teyouClientKs.getIns().init(9000005, initResp => {\r\n\t\t\t\t\teyouClientKs.getIns().login(loginResp => {\r\n\t\t\t\t\t\tthis.kuaiShouGameVerifySession(loginResp.data.code)\r\n\t\t\t\t\t\t\t.then(ksOpenId => {\r\n\t\t\t\t\t\t\t\tthis.execAfterObtainAccount(ksOpenId);\r\n\t\t\t\t\t\t\t\tcc.Mgr.initData = true;\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(err => cc.log('登录失败:>', err))\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.execAfterObtainAccount('default')\r\n\t\tcc.Mgr.initData = true;\r\n\t},\r\n\r\n\ttiktokGameVerifySession(code) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet reqObj = {\r\n\t\t\t\tgameId: 9000009,\r\n\t\t\t\tplatformId: 2,\r\n\t\t\t\tcode: code,\r\n\t\t\t\ttimeStamp: Math.floor(Date.now() / 1000)\r\n\t\t\t}\r\n\t\t\tlet secStr = \"c-a-0-0-1-6-e-6-e-e-c-e-a-6-2-e-b-d-1-a-d-e-a-3-f-7-e-2-f-c-b-f-c-1-b-8-6-d-4-2\"\r\n\t\t\tlet signStr = reqObj.gameId + \"-\" + reqObj.platformId + \"-\" + reqObj.code + \"-\" + reqObj.timeStamp + \"-\" + secStr.replaceAll(\"-\", \"\");\r\n\t\t\treqObj.sign = crypto.createHash('md5').update(signStr, 'utf8').digest('hex');\r\n\t\t\thttpUtil.postJson(\r\n\t\t\t\t\"https://games.hndibei.com/market-multi-game-server/tiktokServer/verifySession\",\r\n\t\t\t\treqObj,\r\n\t\t\t\t(reqFlag, resp) => {\r\n\t\t\t\t\tif (reqFlag && resp.code === 0) {\r\n\t\t\t\t\t\tresolve(resp.data.userId)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treject(resp)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t})\r\n\t},\r\n\r\n\twechatGameVerifySession(code) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet reqObj = {\r\n\t\t\t\tgameId: 9000021,\r\n\t\t\t\tplatformId: 1,\r\n\t\t\t\tcode: code,\r\n\t\t\t\ttimeStamp: Math.floor(Date.now() / 1000)\r\n\t\t\t}\r\n\t\t\t// let secStr = \"5-6-e-3-2-2-9-c-5-b-3-2-2-f-2-7-5-e-8-c-e-b-3-8-c-b-6-1-2-5-d-a\" //首富养成记\r\n\t\t\tlet secStr = \"9-1-e-1-3-a-7-a-5-3-5-1-c-5-2-a-3-9-9-3-3-4-7-2-1-5-5-4-2-9-5-3\" //疯狂挪车王\r\n\t\t\tlet signStr = reqObj.gameId + \"-\" + reqObj.platformId + \"-\" + reqObj.code + \"-\" + reqObj.timeStamp + \"-\" + secStr.replaceAll(\"-\", \"\");\r\n\t\t\treqObj.sign = crypto.createHash('md5').update(signStr, 'utf8').digest('hex');\r\n\t\t\thttpUtil.postJson(\r\n\t\t\t\t\"https://games.hndibei.com/market-wechat-game-server/wxServer/verifySession\",\r\n\t\t\t\treqObj,\r\n\t\t\t\t(reqFlag, resp) => {\r\n\t\t\t\t\tif (reqFlag && resp.code === 0) {\r\n\t\t\t\t\t\tresolve(resp.data.userId)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treject(resp)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t})\r\n\t},\r\n\r\n\tkuaiShouGameVerifySession(code) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tlet reqObj = {\r\n\t\t\t\tgameId: 9000005,\r\n\t\t\t\tplatformId: 9,\r\n\t\t\t\tcode: code,\r\n\t\t\t\ttimeStamp: Math.floor(Date.now() / 1000)\r\n\t\t\t}\r\n\t\t\tlet secStr = \"kki6E0EQWnigLYv272zIRA\"\r\n\t\t\tlet signStr = reqObj.gameId + \"-\" + reqObj.platformId + \"-\" + reqObj.code + \"-\" + reqObj.timeStamp + \"-\" + secStr.replaceAll(\"-\", \"\");\r\n\t\t\treqObj.sign = crypto.createHash('md5').update(signStr, 'utf8').digest('hex');\r\n\t\t\thttpUtil.post(\r\n\t\t\t\t\"https://games.hndibei.com/market-multi-game-server/kuaiShouServer/verifySession\",\r\n\t\t\t\treqObj,\r\n\t\t\t\t(reqFlag, resp) => {\r\n\t\t\t\t\tif (reqFlag && resp.code === 0) {\r\n\t\t\t\t\t\tresolve(resp.data.userId)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treject(resp)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t})\r\n\t},\r\n\r\n\r\n\texecAfterObtainAccount(userId) {\r\n\t\tthis.userId = userId;\r\n\r\n\t\t//本地存储数据\r\n\t\tvar StorageData = cc.sys.localStorage.getItem('XMB_userdata_' + this.userId); //作为一个整体保存起来\r\n\t\tif(StorageData == null || StorageData == \"\")\r\n\t\t{\r\n\t\t\t//cc.log(\"还没有保存过持久数据\");\r\n\t\t\tvar userdata = {};\r\n\t\t\tuserdata.SkillList = null;\r\n\t\t\tuserdata.AchievementList = null;\r\n\t\t\tuserdata.playerName = \"\";\r\n\t\t\tuserdata.Sex = 1;\r\n\t\t\tuserdata.playTimes = 0;\r\n\t\t\tuserdata.SkillBonusPoint = 0;\r\n\r\n\t\t\tuserdata.tutorialInBus = false;\r\n\t\t\tuserdata.tutorialInDate = false;\r\n\t\t\tuserdata.tutorialInMarket = false;\r\n\t\t\tuserdata.tutorialStockBonus = false;\r\n\t\t\tuserdata.tutorialMatePoint = false;\r\n\r\n\t\t\tuserdata.VideoAdsTimes = 0;\r\n\t\t\tuserdata.VideoLastTime = \"\";\r\n\t\t\tuserdata.HistoryHighAssets = 0;\r\n\r\n\t\t\tthis.VideoLastTime = \"\";\r\n\t\t\tthis.VideoAdsTimes = 0;\r\n\r\n\t\t\tthis.playerName = userdata.playerName;\r\n\t\t\tthis.Sex = userdata.Sex;\r\n\t\t\tthis.playTimes = userdata.playTimes;\r\n\t\t\tthis.tutorialInBus = userdata.tutorialInBus;\r\n\t\t\tthis.tutorialInMarket = userdata.tutorialInMarket;\r\n\t\t\tthis.tutorialInDate = userdata.tutorialInDate;\r\n\t\t\tthis.tutorialStockBonus = userdata.tutorialStockBonus;\r\n\t\t\tthis.tutorialMatePoint = userdata.tutorialMatePoint;\r\n\r\n\r\n\t\t\tthis.SkillBonusPoint = userdata.SkillBonusPoint;\r\n\r\n\t\t\tvar SkillList = cc.Mgr.MapDataMgr.getDataListByItemType(ItemType.Skill);\r\n\t\t\tfor (var i = 0; i < SkillList.length; i++) {\r\n\t\t\t\tvar data = SkillList[i];\r\n\t\t\t\tvar sk = new SkillStruct();\r\n\t\t\t\tsk.name = data.name;\r\n\t\t\t\tsk.icon = data.icon;\r\n\t\t\t\tsk.Id = data.Id;\r\n\t\t\t\tsk.desId = data.desId;\r\n\t\t\t\tsk.subId = data.subId;\r\n\t\t\t\tsk.Uplv = data.upLevel;\r\n\t\t\t\tsk.skillType = data.skillType;\r\n\t\t\t\tsk.level = 0;\r\n\t\t\t\tthis.SkillList[i] = sk;\r\n\t\t\t}\r\n\t\t\tvar AchievementList = cc.Mgr.MapDataMgr.getDataListByItemType(ItemType.Achieve);\r\n\t\t\tfor (var i = 0; i < AchievementList.length; i++) {\r\n\t\t\t\tvar data = AchievementList[i];\r\n\t\t\t\tvar ac = new AchieveStruct();\r\n\t\t\t\tac.Id = data.Id;\r\n\t\t\t\tac.icon = data.icon;\r\n\t\t\t\tac.name = data.name;\r\n\t\t\t\tac.desId = data.desId;\r\n\t\t\t\tac.hasFinish = false;\r\n\t\t\t\tthis.AchievementList[i] = ac;\r\n\t\t\t}\r\n\t\t\tuserdata.SkillList = this.SkillList;\r\n\t\t\tuserdata.AchievementList = this.AchievementList;\r\n\r\n\t\t\tuserdata.RecordList = this.RecordList;\r\n\r\n\t\t\tcc.sys.localStorage.setItem('XMB_userdata_' + this.userId,JSON.stringify(userdata));\r\n\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t//cc.log(\"有之前保存的持久数据存在\");\r\n\t\t\tvar Data = JSON.parse(StorageData);\r\n\t\t\tthis.playerName = Data.playerName;\r\n\t\t\tthis.Sex = Data.Sex;\r\n\t\t\tthis.playTimes = Data.playTimes;\r\n\t\t\tthis.tutorialInBus = Data.tutorialInBus;\r\n\t\t\tthis.tutorialInMarket = Data.tutorialInMarket;\r\n\t\t\tthis.tutorialInDate = Data.tutorialInDate;\r\n\t\t\tthis.tutorialStockBonus = Data.tutorialStockBonus;\r\n\t\t\tthis.tutorialMatePoint = Data.tutorialMatePoint;\r\n\r\n\t\t\tthis.HistoryHighAssets = Data.HistoryHighAssets;\r\n\r\n\t\t\tthis.SkillList = Data.SkillList;\r\n\t\t\tthis.SkillBonusPoint = Data.SkillBonusPoint;\r\n\t\t\tthis.AchievementList = Data.AchievementList;\r\n\t\t\tthis.VideoLastTime = Data.VideoLastTime;\r\n\r\n\t\t\tvar testDate = new Date();\r\n\r\n\t\t\t//cc.log(\"++++++++++++++++++++++++++ \" + testDate.toDateString());\r\n\t\t\tif(Data.VideoLastTime != testDate.toDateString())\r\n\t\t\t{\r\n\t\t\t\tthis.VideoAdsTimes = 0;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.VideoAdsTimes = Data.VideoAdsTimes;\r\n\t\t\t}\r\n\r\n\t\t\tif(Data.RecordList != null)\r\n\t\t\t\tthis.RecordList = Data.RecordList;\r\n\t\t}\r\n\r\n\t\t//获取其实天赋点加成\r\n\t\tthis.GetInitSkillBonus(this.SkillList);\r\n\r\n\t\tthis.MarryAge = 0;\r\n\t\tthis.MarryRoleId = 0;\r\n\t\tthis.DivorceAge = 0;\r\n\t\tthis.FundationAge = 0;\r\n\t\tthis.FundationCompanyId = 0;\r\n\t\tthis.BankruptAge = 0;\r\n\t\tthis.MillionAge = 0;\r\n\t\tthis.TenMillionAge = 0;\r\n\t\tthis.HundredMillionAge = 0;\r\n\r\n\r\n\t\t//初始化 玩一局的数据\r\n\t\tthis.retireAge = cc.Mgr.global.RetireInitAge + this.RetireBonus;\r\n\t\tthis.BetWinRatio = cc.Mgr.global.BetWinRatio + (this.BetBonus / 100); //后面还会要加上加成\r\n\t\tthis.DateSuccescRatio = cc.Mgr.global.DateSuccescRatio + (this.DateBonus / 100);\r\n\t\tthis.Cash = 0;\r\n\t\tthis.HighAssets = 0;\r\n\t\tthis.HpPoint = 100;\r\n\t\tthis.RecoverYear = 0;\r\n\t\tthis.userState = UserState.OK;\r\n\t\tthis.Age = 20;\r\n\t\tthis.Honor = 0; //没有头衔\r\n\t\tthis.Reputation = this.ReputationInitBonus; //名声\r\n\t\tthis.AssetsMoney = 0;//资产\r\n\r\n\t\tthis.WareHouseBonusEveryYear = 0;\r\n\r\n\t\tthis.WareHouseCapcity = cc.Mgr.global.InitWareHouseCapcity + this.WareHouseCapcityBonus;//仓库容量初始定100  这个值到时要根据 成就定\r\n\t\tthis.WareHouseAllCapcity = cc.Mgr.global.InitWareHouseCapcity + this.WareHouseCapcityBonus;\r\n\t\tthis.hasCompany = false;//没有公司\r\n\t\tthis.CanGetStockProfit = false;//还不能计算股票收益\r\n\r\n\r\n\t\tvar GoodsList = cc.Mgr.MapDataMgr.getDataListByItemType(ItemType.Goods);\r\n\t\tfor (var i = 0; i < GoodsList.length; i++) {\r\n\t\t\tvar data = GoodsList[i];\r\n\t\t\tvar ac = new GoodsStruct();\r\n\t\t\tac.name = data.name;\r\n\t\t\tac.Id = data.Id;\r\n\t\t\tac.icon = data.icon;\r\n\t\t\tac.ownNum = 0;\r\n\t\t\tac.buyPrice = 0; //买入价格\r\n\t\t\tac.marketPrice = 0;//市场价格\r\n\t\t\tthis.GoodsList[i] = ac;\r\n\t\t}\r\n\r\n\t\tvar CarList = cc.Mgr.MapDataMgr.getDataListByItemType(ItemType.Car);\r\n\t\tfor (var i = 0; i < CarList.length; i++) {\r\n\t\t\tvar data = CarList[i];\r\n\t\t\tvar ac = new CarStruct();\r\n\t\t\tac.Id = data.Id;\r\n\t\t\tac.icon = data.icon;\r\n\t\t\tac.name = data.name;\r\n\t\t\tac.ownNum = 0;\r\n\t\t\tac.price = data.price;\r\n\t\t\tac.addBonus = data.addBonus;\r\n\t\t\tac.addHp = data.addHp;\r\n\t\t\tac.addDate = data.addDate;\r\n\t\t\tthis.CarList[i] = ac;\r\n\t\t}\r\n\r\n\t\tvar HouseList = cc.Mgr.MapDataMgr.getDataListByItemType(ItemType.House);\r\n\t\tfor (var i = 0; i < HouseList.length; i++) {\r\n\t\t\tvar data = HouseList[i];\r\n\t\t\tvar ac = new HouseStruct();\r\n\t\t\tac.Id = data.Id;\r\n\t\t\tac.icon = data.icon;\r\n\t\t\tac.name = data.name;\r\n\t\t\tac.ownNum = 0;\r\n\t\t\tac.price = data.price;\r\n\t\t\tac.addBonus = data.addBonus;\r\n\t\t\tac.addHp = data.addHp;\r\n\t\t\tthis.HouseList[i] = ac;\r\n\t\t}\r\n\r\n\t\tvar CompanyList = cc.Mgr.MapDataMgr.getDataListByItemType(ItemType.Company);\r\n\t\tfor (var i = 0; i < CompanyList.length; i++) {\r\n\t\t\tvar data = CompanyList[i];\r\n\t\t\tvar ac = new CompanyStruct();\r\n\t\t\tac.Id = data.Id;\r\n\t\t\tac.icon = data.icon;\r\n\t\t\tac.name = data.name;\r\n\t\t\tac.bonusRatio = data.bonusRatio;\r\n\t\t\tac.isOwned = false;\r\n\t\t\tac.stockNum = 0;\r\n\t\t\tac.stockCost = 0;\r\n\t\t\tac.bankruptPrice = data.outPrice;\r\n\t\t\tac.stockPrice = data.inPrice;\r\n\t\t\tac.LimitYear = data.LimitYear;\r\n\t\t\tthis.CompanyList[i] = ac;\r\n\t\t}\r\n\r\n\t\tvar MateList = cc.Mgr.MapDataMgr.getDataListByItemType(ItemType.Mate);\r\n\t\tfor (var i = 0; i < MateList.length; i++) {\r\n\t\t\tvar data = MateList[i];\r\n\t\t\tvar ac = new MateStruct();\r\n\t\t\tac.Id = data.Id;\r\n\t\t\tac.icon = data.icon;\r\n\t\t\tac.name = data.name;\r\n\t\t\tac.sex = data.sex;\r\n\t\t\tac.LovePoint = 0;\r\n\t\t\tac.canDate = false;\r\n\t\t\tac.unlockCond = data.unlockCond;\r\n\t\t\tif(data.unlockCond == MateUnLockType.NULL)\r\n\t\t\t{\r\n\t\t\t\tac.canDate = true;\r\n\t\t\t}\r\n\t\t\t////cc.log(data.name + \" 是否可以直接约会 \" + data.unlockCond);\r\n\t\t\tac.curLevel = 0;//等级\r\n\t\t\tac.UpLv = false;//没有满级\r\n\t\t\tthis.MateList[i] = ac;\r\n\t\t}\r\n\t\t//保存下 事件Id 每次刷一次事件  就会剔除一次\r\n\t\tvar EventList = cc.Mgr.MapDataMgr.getDataListByItemType(ItemType.EventData);\r\n\t\tfor (var i = 0; i < EventList.length; i++) {\r\n\t\t\tvar data = EventList[i];\r\n\t\t\tthis.EventDataIdList[i] = data.Id;\r\n\t\t}\r\n\t},\r\n\r\n\t//初始 天赋技能获得加成数据\r\n\tGetInitSkillBonus:function(skillList)\r\n\t{\r\n\t\tthis.TreatBonus = 0;  //治疗花费降低百分点\r\n\t\tthis.WareHouseCapcityBonus = 0;  //仓储加成\r\n\t\tthis.CashBonus = 0;  //金钱加成 每年加成\r\n\t\tthis.CashRationBonus = 0;\r\n\t\tthis.ReputationBonus = 0;  //名声加成 每年\r\n\t\tthis.HpPointBonus = 0;  //健康加成\r\n\t\tthis.RetireBonus = 0;  //增加退休年限\r\n\t\tthis.DateBonus = 0;  //增加约会成功概率\r\n\t\tthis.InitMoneyBonus = 0; //增加初始现金\r\n\t\tthis.StockAddBonus = 0;  //增加公司收益\r\n\t\tthis.StockUpBonus = 0;  //股票上涨 概率增加\r\n\t\tthis.DateMoneyBonus = 0;  //约会花费降低\r\n\t\tthis.BetBonus = 0;  //赌博赢钱概率上升\r\n\t\tthis.SkillPointGetBonus = 0;  //结算技能点提升\r\n\t\tthis.ReputationInitBonus = 0;  //初始名声加成\r\n\t\tthis.CarBuyBonus = 0;  //购买汽车价格降低\r\n\t\tthis.EventCostBonus = 0;  //事件消耗金钱降低\r\n\t\tthis.HouseBuyBonuse = 0; //购买房屋 价格降低\r\n\r\n\t\tfor (var i = 0; i < skillList.length; i++) {\r\n\t\t\tvar data = skillList[i];\r\n\t\t\t//获得数据\r\n\t\t\tvar bonus = cc.Mgr.MapDataMgr.getSkillAddBonusByTwoIdAndLv(data.Id, data.subId, data.level);\r\n\t\t\t////cc.log(data.skillType + \"++++++++++++初始技能加成+++++++++++\"+bonus);\r\n\t\t\tswitch (data.skillType) {\r\n\t\t\t\tcase SkillType.WLNS:\r\n\t\t\t\t\tthis.WareHouseCapcityBonus = bonus; //已經計算\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SkillType.THY:\r\n\t\t\t\t\tthis.DateBonus = bonus; //百分比  已經計算\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SkillType.XSJY:\r\n\t\t\t\t\tthis.CashRationBonus = bonus; //已经加入计算\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SkillType.FGZJ:\r\n\t\t\t\t\tthis.InitMoneyBonus = bonus; //已经计算\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SkillType.GSGL:\r\n\t\t\t\t\tthis.StockAddBonus = bonus; //百分百 已经计算\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SkillType.TPGS:\r\n\t\t\t\t\tthis.StockUpBonus = bonus; //百分比 已经计算\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SkillType.JZCC:\r\n\t\t\t\t\tthis.SkillPointGetBonus = bonus; //百分比  已經計算\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SkillType.MLSZ:\r\n\t\t\t\t\tthis.DateMoneyBonus = bonus; //百分比 一计算\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SkillType.DS:\r\n\t\t\t\t\tthis.BetBonus = bonus; //百分比 已經計算\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SkillType.LDYZ:\r\n\t\t\t\t\tthis.RetireBonus = bonus; //已經算進去\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SkillType.NSCM:\r\n\t\t\t\t\tthis.ReputationInitBonus = bonus; //已經計算\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SkillType.QCDR:\r\n\t\t\t\t\tthis.CarBuyBonus = bonus; //百分比 一計算\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SkillType.HYLL:\r\n\t\t\t\t\tthis.EventCostBonus = bonus; //百分比 一计算\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase SkillType.DCZJ:\r\n\t\t\t\t\tthis.HouseBuyBonuse = bonus;  //百分比 一計算\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//获取每年都会获得的加成数额\r\n\tGetBonusRewardEveryYear:function () {\r\n\t\t// 包括 金钱 名声 健康值\r\n\t\tthis.Cash += this.CashBonus;\r\n\t\tthis.Cash = Math.floor(this.Cash * (1+this.CashRationBonus));\r\n\t\tif(this.Cash < 100)\r\n\t\t\tthis.Cash = 0;\r\n\t\tthis.Reputation += this.ReputationBonus;\r\n\t\tif(this.Reputation < 0)\r\n\t\t\tthis.Reputation = 0;\r\n\t\tthis.HpPoint += this.HpPointBonus;\r\n\t\tif(this.HpPoint > 100)\r\n\t\t{\r\n\t\t\tthis.HpPoint = 100;\r\n\t\t}\r\n\r\n\t\tthis.WareHouseCapcity += this.WareHouseBonusEveryYear;\r\n\t\tthis.WareHouseAllCapcity += this.WareHouseBonusEveryYear;\r\n\t\tif(this.WareHouseCapcity > 200)\r\n\t\t\tthis.WareHouseCapcity = 200;\r\n\t\tif(this.WareHouseAllCapcity > 200)\r\n\t\t\tthis.WareHouseAllCapcity = 200;\r\n\t},\r\n\r\n\t//获取一次事件id  并从数列中剔除这个 Id\r\n\tGetEventDataAndSpliceId:function(){\r\n\t\tvar len = this.EventDataIdList.length;\r\n\t\t//cc.log(\"11 事件数据剩余个数 = \" + len);\r\n\t\tvar seed = Math.floor(Math.random() * len);\r\n\t\tvar out = this.EventDataIdList[seed];\r\n\t\tthis.EventDataIdList.splice(seed, 1);\r\n\t\t//cc.log(out + \"  事件数据剩余个数 = \" + this.EventDataIdList.length);\r\n\t\treturn out;\r\n\t},\r\n\r\n\tRefreshHistoryHighAsset:function(asset){\r\n\t\tthis.HistoryHighAssets = asset;\r\n\t},\r\n\r\n\t//保存本地数据\r\n\tSaveUserData:function(){\r\n\t\tvar userdata = {};\r\n\t\tuserdata.playerName = this.playerName;\r\n\t\tuserdata.Sex = this.Sex;\r\n\t\tuserdata.SkillList = this.SkillList;\r\n\t\t//引导步骤\r\n\t\tuserdata.tutorialInMarket = this.tutorialInMarket;\r\n\t\tuserdata.tutorialInDate = this.tutorialInDate;\r\n\t\tuserdata.tutorialInBus = this.tutorialInBus;\r\n\t\tuserdata.tutorialStockBonus = this.tutorialStockBonus;\r\n\t\tuserdata.tutorialMatePoint = this.tutorialMatePoint;\r\n\r\n\t\tuserdata.HistoryHighAssets = this.HistoryHighAssets;\r\n\r\n\t\tuserdata.VideoAdsTimes = this.VideoAdsTimes;\r\n\t\tuserdata.VideoLastTime = this.VideoLastTime;\r\n\r\n\t\tuserdata.playTimes = this.playTimes;\r\n\t\tuserdata.AchievementList = this.AchievementList;\r\n\t\tuserdata.RecordList = this.RecordList;\r\n\t\tuserdata.SkillBonusPoint = this.SkillBonusPoint;\r\n\t\tcc.sys.localStorage.setItem('XMB_userdata_' + this.userId,JSON.stringify(userdata));\r\n\t},\r\n\r\n\tCreateRecord:function(){\r\n\t\tvar reD = new RecordStruct();\r\n\t\t\r\n\t\tvar asLv = 0;\r\n\t\tvar td = Math.floor(this.AssetsMoney / 1000000);\r\n\t\tif(td > 0 && td < 10)\r\n\t\t{\r\n\t\t\tasLv = 1;\r\n\t\t}\r\n\t\telse if(td > 10 && td < 100)\r\n\t\t{\r\n\t\t\tasLv = 2;\r\n\t\t}\r\n\t\telse if(td > 100)\r\n\t\t{\r\n\t\t\tasLv = 3;\r\n\t\t}\r\n\t\treD.retireAge = this.Age;\r\n\t\treD.level = asLv;\r\n\t\treD.assets = this.AssetsMoney;\r\n\t\treD.highAssets = this.HighAssets;\r\n\t\t\r\n\t\tthis.RecordList.push(reD);\r\n\t\t//this.SaveUserData();\r\n\t},\r\n\r\n\t//升级技能点\r\n\tUpGradeSkill:function(Id, subId, toLv){\r\n\t\tvar isOk = false;\r\n\t\tvar NeedCost = cc.Mgr.MapDataMgr.getUpgradeCostByTwoId(Id, subId, toLv);\r\n        if(this.SkillBonusPoint < NeedCost)\r\n        \treturn false;\r\n\r\n        //不要求升级满技能即可升级下一个技能\r\n\t\tfor (var i = 0; i < this.SkillList.length; i++) {\r\n\t\t\tif(this.SkillList[i].Id == Id && this.SkillList[i].subId + 1 == subId)\r\n\t\t\t{\r\n\t\t\t\tif(this.SkillList[i].level == 0)\r\n\t\t\t\t{\r\n\t\t\t\t\t//cc.log(\"上一个技能还没有升级到满级\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t//if(this.SkillList[i].level != this.SkillList[i].Uplv)\r\n\t\t\t\t//{\r\n\t\t\t\t\t//cc.log(\"上一个技能还没有升级到满级\");\r\n\t\t\t\t//\treturn false;\r\n\t\t\t\t//}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\r\n\t\tfor (var i = 0; i < this.SkillList.length; i++) {\r\n\t\t\tif(this.SkillList[i].Id ==Id && this.SkillList[i].subId == subId)\r\n\t\t\t{\r\n\t\t\t\tif(this.SkillList[i].level < this.SkillList[i].Uplv)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.SkillList[i].level++;\r\n\t\t\t\t\tthis.SkillBonusPoint -= NeedCost;\r\n\t\t\t\t\tisOk = true;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tisOk = false;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\t\r\n\t\treturn isOk;\r\n\t},\r\n\r\n\tCanShowUpTip:function(Id, subId, toLv){\r\n\t\tvar isOk = false;\r\n\t\tvar NeedCost = cc.Mgr.MapDataMgr.getUpgradeCostByTwoId(Id, subId, toLv);\r\n        if(this.SkillBonusPoint < NeedCost)\r\n        \treturn false;\r\n\r\n     \r\n\t\tfor (var i = 0; i < this.SkillList.length; i++) {\r\n\t\t\tif(this.SkillList[i].Id == Id && this.SkillList[i].subId + 1 == subId)\r\n\t\t\t{\r\n\t\t\t\tif(this.SkillList[i].level == 0)\r\n\t\t\t\t{\r\n\t\t\t\t\t//cc.log(\"上一个技能还没有升级到满级\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t//if(this.SkillList[i].level != this.SkillList[i].Uplv)\r\n\t\t\t\t//{\r\n\t\t\t\t\t//cc.log(\"上一个技能还没有升级到满级\");\r\n\t\t\t\t//\treturn false;\r\n\t\t\t\t//}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\r\n\t\tfor (var i = 0; i < this.SkillList.length; i++) {\r\n\t\t\tif(this.SkillList[i].Id ==Id && this.SkillList[i].subId == subId)\r\n\t\t\t{\r\n\t\t\t\tif(this.SkillList[i].level < this.SkillList[i].Uplv)\r\n\t\t\t\t{\r\n\t\t\t\t\tisOk = true;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tisOk = false;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\t\r\n\t\treturn isOk;\r\n\t},\r\n\r\n\t//完成指定成就\r\n\tFinishAchievement:function(Id){\r\n\t\tvar isOk = false;\r\n\t\tfor (var i = 0; i < this.AchievementList.length; i++) {\r\n\t\t\tif(this.AchievementList[i].Id == Id)\r\n\t\t\t{\r\n\t\t\t\tthis.AchievementList[i].hasFinish = true;\r\n\t\t\t\tisOk = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn isOk;\r\n\t},\r\n\t//买入物品\r\n\tBuyGoods:function(data){ //data 包含 Id buyprire buynum\r\n\t\tfor (var i = this.GoodsList.length - 1; i >= 0; i--) {\r\n\t\t\tif(data.Id == this.GoodsList[i].Id)\r\n\t\t\t{\r\n\t\t\t\treturn this.GoodsList[i].RefeshDataAfterBuy(data);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t//出售物品\r\n\tSaleGoods:function(data){\r\n\t\tfor (var i = this.GoodsList.length - 1; i >= 0; i--) {\r\n\t\t\tif(data.Id == this.GoodsList[i].Id)\r\n\t\t\t{\r\n\t\t\t\treturn this.GoodsList[i].RefeshDataAfterSale(data);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//创办公司\r\n\tCreateCompany:function(data){\r\n\t\tfor (var i = this.CompanyList.length - 1; i >= 0; i--) {\r\n\t\t\tif(data.Id == this.CompanyList[i].Id)\r\n\t\t\t{\r\n\t\t\t\treturn this.CompanyList[i].RefreshDataAfterOper(data);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//查看一下是否已经拥有五種物品\r\n\tCheckOwnedGoodsNum:function(){\r\n\t\tvar Num = 0;\r\n\t\tfor (var i = this.GoodsList.length - 1; i >= 0; i--) {\r\n\t\t\tif(this.GoodsList[i].ownNum > 0)\r\n\t\t\t{\r\n\t\t\t\tNum += 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar Isfull = false;\r\n\t\tif(Num == 5)\r\n\t\t{\r\n\t\t\tIsfull = true;\r\n\t\t}\r\n\t\treturn Isfull;\r\n\t},\r\n\r\n\t//购买股票\r\n\tBuyStocks:function(data){\r\n\t\tfor (var i = this.CompanyList.length - 1; i >= 0; i--) {\r\n\t\t\tif(data.Id == this.CompanyList[i].Id)\r\n\t\t\t{\r\n\t\t\t\treturn this.CompanyList[i].RefreshDataAfterOper(data);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//出售股票\r\n\tSaleStocks:function(data){\r\n\t\tfor (var i = this.CompanyList.length - 1; i >= 0; i--) {\r\n\t\t\tif(data.Id == this.CompanyList[i].Id)\r\n\t\t\t{\r\n\t\t\t\treturn this.CompanyList[i].RefreshDataAfterSale(data);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tBuySaleCommonItem:function(data){\r\n\t\t//cc.log(\"=============\" + data.Type + \"  Id = \"+ data.Id)\r\n\t\tif(data.Type == ItemType.Car)\r\n\t\t{\r\n\t\t\tfor (var i = this.CarList.length - 1; i >= 0; i--) {\r\n\t\t\t\tif(this.CarList[i].Id == data.Id)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.CarList[i].RefreshData(data.addNum);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(data.Type == ItemType.House)\r\n\t\t{\r\n\t\t\tfor (var i = this.HouseList.length - 1; i >= 0; i--) {\r\n\t\t\t\tif(this.HouseList[i].Id == data.Id)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.HouseList[i].RefreshData(data.addNum);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//刷新约会的亲密度\r\n\tRefreshMateData:function(Id){\r\n\t\tfor (var i = this.MateList.length - 1; i >= 0; i--) {\r\n\t\t\tif(Id == this.MateList[i].Id)\r\n\t\t\t{\r\n\t\t\t\treturn this.MateList[i].RefreshAfterLvUp();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//根據id解除婚姻\r\n\tDisvorceMateById:function(Id){\r\n\t\tfor (var i = 0; i < this.MateList.length; i++) {\r\n\t\t\tif(this.MateList[i].Id == Id)\r\n\t\t\t{\r\n\t\t\t\tthis.MateList[i].ReturnInitState();\r\n\t\t\t\tvar data = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Mate, Id);\r\n\t\t\t\tthis.DeleteMateBonusReward(data.bonusList);\r\n\t\t\t\t//现金 股票减少 名声 健康受损\r\n\t\t\t\tthis.Cash = Math.floor(this.Cash * 0.8);\r\n\t\t\t\tthis.HpPoint = Math.floor(this.HpPoint * 0.8);\r\n\t\t\t\tthis.Reputation = Math.floor(this.Reputation * 0.8);\r\n\t\t\t\tthis.DisvorceDelStocks();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tDisvorceDelStocks:function(){\r\n\t\tfor (var i = this.CompanyList.length - 1; i >= 0; i--) {\r\n\t\t\tif(this.CompanyList[i].stockNum > 0)\r\n\t\t\t{\r\n\t\t\t\tthis.CompanyList[i].RefreshDataAfterDisvorce();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//获得伴侣加成 结婚后获得\r\n\tgetMateBonusReward:function(data){\r\n\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\tvar dt = data[i];\r\n\t\t\t//cc.log(\"+++++++++++++++++++++oooooo+++++++++++++++++++++++\" + dt.bonusNum);\r\n\t\t\tif(dt.bonusType == MateBonusType.NULL)\r\n\t\t\t{\r\n\t\t\t\t//cc.log(\"伴侣加成什么也没有\");\r\n\t\t\t}\r\n\t\t\telse if(dt.bonusType == MateBonusType.HP)\r\n\t\t\t{\r\n\t\t\t\tthis.HpPointBonus += dt.bonusNum;\r\n\t\t\t}\r\n\t\t\telse if(dt.bonusType == MateBonusType.Money)\r\n\t\t\t{\r\n\t\t\t\tthis.CashBonus += dt.bonusNum;\r\n\t\t\t}\r\n\t\t\telse if(dt.bonusType == MateBonusType.Reputation)\r\n\t\t\t{\r\n\t\t\t\tthis.ReputationBonus += dt.bonusNum;\r\n\t\t\t}\r\n\t\t\telse if(dt.bonusType == MateBonusType.WareHouseCapcity)\r\n\t\t\t{\r\n\t\t\t\tthis.WareHouseCapcity += dt.bonusNum;\r\n\t\t\t\tthis.WareHouseAllCapcity += dt.bonusNum;\r\n\t\t\t\tthis.WareHouseBonusEveryYear += dt.bonusNum;\r\n\r\n\t\t\t\tif(this.WareHouseAllCapcity > 200)\r\n\t\t\t\t\tthis.WareHouseAllCapcity = 200;\r\n\t\t\t\tif(this.WareHouseCapcity > 200)\r\n\t\t\t\t\tthis.WareHouseCapcity = 200;\r\n\t\t\t}\r\n\t\t\telse if(dt.bonusType == MateBonusType.Treat)\r\n\t\t\t{\r\n\t\t\t\tthis.TreatBonus += dt.bonusNum;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//移除伴侣获得的天赋加成\r\n\tDeleteMateBonusReward:function(data)\r\n\t{\r\n\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\tvar dt = data[i];\r\n\t\t\t//cc.log(\"+++++++++++++++++++++oooooo+++++++++++++++++++++++\" + dt.bonusNum);\r\n\t\t\tif(dt.bonusType == MateBonusType.NULL)\r\n\t\t\t{\r\n\t\t\t\t//cc.log(\"伴侣加成什么也没有\");\r\n\t\t\t}\r\n\t\t\telse if(dt.bonusType == MateBonusType.HP)\r\n\t\t\t{\r\n\t\t\t\tthis.HpPointBonus -= dt.bonusNum;\r\n\t\t\t}\r\n\t\t\telse if(dt.bonusType == MateBonusType.Money)\r\n\t\t\t{\r\n\t\t\t\tthis.CashBonus -= dt.bonusNum;\r\n\t\t\t}\r\n\t\t\telse if(dt.bonusType == MateBonusType.Reputation)\r\n\t\t\t{\r\n\t\t\t\tthis.ReputationBonus -= dt.bonusNum;\r\n\t\t\t\tif(this.ReputationBonus < 0)\r\n\t\t\t\t\tthis.ReputationBonus = 0;\r\n\t\t\t}\r\n\t\t\telse if(dt.bonusType == MateBonusType.WareHouseCapcity)\r\n\t\t\t{\r\n\t\t\t\t//this.WareHouseCapcity -= dt.bonusNum;\r\n\t\t\t\t//this.WareHouseAllCapcity -= dt.bonusNum;\r\n\t\t\t\tthis.WareHouseBonusEveryYear -= dt.bonusNum;\r\n\t\t\t\tif(this.WareHouseBonusEveryYear < 0)\r\n\t\t\t\t\tthis.WareHouseBonusEveryYear = 0;\r\n\t\t\t}\r\n\t\t\telse if(dt.bonusType == MateBonusType.Treat)\r\n\t\t\t{\r\n\t\t\t\tthis.TreatBonus -= dt.bonusNum;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tgetOwnDataListByType:function(itemType){\r\n\t\tvar dataList = null;\r\n\t\tswitch (itemType) {\r\n\t\t\tcase ItemType.Goods:\r\n\t\t\t\tdataList = this.GoodsList;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ItemType.Skill:\r\n\t\t\t\tdataList = this.SkillList;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ItemType.Car:\r\n\t\t\t\tdataList = this.CarList;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ItemType.House:\r\n\t\t\t\tdataList = this.HouseList;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ItemType.Achieve:\r\n\t\t\t\tdataList = this.AchievementList;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ItemType.Company:\r\n\t\t\t\tdataList = this.CompanyList;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ItemType.Mate:\r\n\t\t\t\tdataList = this.MateList;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn dataList;\r\n\t},\r\n\r\n\t//获取已有数据 根据 类型和Id\r\n\tgetDataByItemTypeAndId:function(itemType, Id){\r\n\t\tvar dataList = null;\r\n\t\tswitch (itemType) {\r\n\t\t\tcase ItemType.Goods:\r\n\t\t\t\tdataList = this.GoodsList;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ItemType.Skill:\r\n\t\t\t\tdataList = this.SkillList;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ItemType.Car:\r\n\t\t\t\tdataList = this.CarList;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ItemType.House:\r\n\t\t\t\tdataList = this.HouseList;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ItemType.Achieve:\r\n\t\t\t\tdataList = this.AchievementList;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ItemType.Company:\r\n\t\t\t\tdataList = this.CompanyList;\r\n\t\t\t\tbreak;\r\n\t\t\tcase ItemType.Mate:\r\n\t\t\t\tdataList = this.MateList;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif(dataList != null)\r\n\t\t{\r\n\t\t\tfor (var i = dataList.length - 1; i >= 0; i--)\r\n\t\t\t{\r\n\t\t\t\tif(Id == dataList[i].Id)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn dataList[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t//如果没有数据 为 null\r\n\t\treturn null;\r\n\t},\r\n\t//刷新物品市场价格\r\n\tRefreshGoodsMarKetPrice:function(Id,marketPrice){\r\n\t\tfor (var i = this.GoodsList.length - 1; i >= 0; i--) {\r\n\t\t\tif(Id == this.GoodsList[i].Id)\r\n\t\t\t{\r\n\t\t\t\tthis.GoodsList[i].marketPrice = marketPrice;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//刷新股票商场价格和成本\r\n\tRefreshStockData:function(Id, param){\r\n\t\tfor (var i = this.CompanyList.length - 1; i >= 0; i--) {\r\n\t\t\tif(Id == this.CompanyList[i].Id)\r\n\t\t\t{\r\n\t\t\t\tthis.CompanyList[i].stockPrice = param.stockPrice;\r\n\t\t\t\tthis.CompanyList[i].stockCost = param.stockCost;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//获取拥有的物品对应数据\r\n\tgetGoodsDataById:function(Id){\r\n\t\tfor (var i = this.GoodsList.length - 1; i >= 0; i--) {\r\n\t\t\tif(Id == this.GoodsList[i].Id)\r\n\t\t\t{\r\n\t\t\t\treturn this.GoodsList[i];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//刷新个人资产  //caculateStock 是否計算股票收益\r\n\tRefreshUserAssets:function(caculateStock){\r\n\t\tvar lastAsset = this.AssetsMoney;\r\n\t\tvar assets = 0;\r\n\t\t//计算所拥有物品总价\r\n\t\tfor (var i = this.GoodsList.length - 1; i >= 0; i--) {\r\n\t\t\tvar data = this.GoodsList[i];\r\n\t\t\tvar flag = this.CheckIdIsInShowList(data.Id);\r\n\t\t\tif(flag == true)\r\n\t\t\t{\r\n\t\t\t\tassets += data.ownNum * data.marketPrice;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tassets += data.ownNum * data.buyPrice;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//计算房屋拥有\r\n\t\tfor (var i = this.HouseList.length - 1; i >= 0; i--) {\r\n\t\t\tvar dt = this.HouseList[i];\r\n\t\t\tif(dt.ownNum > 0)\r\n\t\t\t{\r\n\t\t\t\t////cc.log(dt.Id + \" 房子的数量和价格 \" + dt.ownNum + \" \" + dt.price);\r\n\t\t\t\tassets += dt.ownNum * dt.price;\r\n\t\t\t}\r\n\t\t}\r\n\t\t//计算车子所有\r\n\t\tfor (var i = this.CarList.length - 1; i >= 0; i--) {\r\n\t\t\tvar dt = this.CarList[i];\r\n\t\t\tif(dt.ownNum > 0)\r\n\t\t\t{\r\n\t\t\t\tassets += dt.ownNum * dt.price;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//后面再加上 股票收益\r\n\t\tfor (var i = this.CompanyList.length - 1; i >= 0; i--) {\r\n\t\t\tvar da = this.CompanyList[i];\r\n\t\t\tif(da.stockNum > 0)\r\n\t\t\t{\r\n\t\t\t\t//this.Reputation += cc.Mgr.global.HasCompanyReputationAdd;\r\n\t\t\t\tassets += Math.floor(da.stockNum * da.stockPrice);\r\n\t\t\t\tif(this.CanGetStockProfit == true && caculateStock == true)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.Cash += Math.floor(da.stockNum * da.stockPrice * (da.bonusRatio + (this.StockAddBonus / 100)));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tassets += this.Cash;\r\n\t\t//资产暴涨时候健康迅速下降 暴涨5倍下降30\r\n\t\tthis.AssetsMoney = assets;\r\n\r\n\t\tthis.JudeFinishAnyAchievement(5); //成就 Id = 5 资产相关\r\n\t\tthis.JudeFinishAnyAchievement(4); //成就 Id = 6  \r\n\r\n\t\tcc.log(lastAsset + \" L =========他妈的资产问题======== N \" + assets);\r\n\t\tif(assets > this.HighAssets)\r\n\t\t{\r\n\t\t\tthis.HighAssets = assets;\r\n\t\t}\r\n\r\n\t\tif(assets > 1000000 && this.MillionAge == 0)\r\n\t\t{\r\n\t\t\tthis.MillionAge = this.Age;\r\n\t\t}\r\n\r\n\t\tif(assets > 10000000 && this.TenMillionAge == 0)\r\n\t\t{\r\n\t\t\tthis.TenMillionAge = this.Age;\r\n\t\t}\r\n\r\n\t\tif(assets > 100000000 && this.HundredMillionAge == 0)\r\n\t\t{\r\n\t\t\tthis.HundredMillionAge = this.Age;\r\n\t\t}\r\n\r\n\t\tif(Math.floor(assets / lastAsset) >= cc.Mgr.global.AssetExplorRate || (assets / lastAsset) <= cc.Mgr.global.AssetExplorDownRate)\r\n\t\t{\r\n\t\t\tif(this.userState == UserState.NotOK)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tthis.HpPoint -= cc.Mgr.global.AssetBurden;\r\n\t\t\tif(this.HpPoint < cc.Mgr.global.HealthLine)\r\n\t\t\t{\r\n\t\t\t\tthis.userState = UserState.NotOK;\r\n\t\t\t\tcc.Mgr.global.goToHospital += 1;\r\n\t\t\t\tthis.RecoverYear = cc.Mgr.global.YearRecover;\r\n\t\t\t\tvar param = {};\r\n\t\t\t\tparam.forWhat = \"HealthLine\";\r\n\t\t\t\tparam.text = cc.Mgr.global.getTranslation(\"RecoverHealth\");\r\n\t\t\t\tcc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCommonTip, param);\r\n\r\n\t\t\t\t//this.UnLockMateByInHospital(MateUnLockType.InHospital, this.Sex);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tvar param = {};\r\n\t\t\t\tparam.forWhat = \"\";\r\n\t\t\t\tparam.text = cc.Mgr.global.getTranslation(\"RecoverHealthD\");\r\n\t\t\t\tcc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCommonTip, param);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tJudeFinishAnyAchievement:function (Id) {\r\n\t\t//cc.log(this.AchievementList.length + \"======================判断成就是否完成\" + Id);\r\n\t\tfor (var i = 0; i < this.AchievementList.length; i++) {\r\n\t\t\tif(this.AchievementList[i].Id == Id)\r\n\t\t\t{\r\n\t\t\t\tif(this.AchievementList[i].hasFinish == true)\r\n\t\t\t\t{\r\n\t\t\t\t\t//cc.log(\"该成就已经完成了\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar acD = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Achieve, Id);\r\n\t\tcc.log(\"======================判断成就是否完成 = \" + acD.name);\r\n\t\tvar condList = acD.condList;\r\n\t\tvar finished = this.JudeCanFinishAchievementByCond(condList);\r\n\t\tif(finished)\r\n\t\t{\r\n\t\t\tfor (var i = 0; i < this.AchievementList.length; i++) {\r\n\t\t\t\tif(this.AchievementList[i].Id == Id)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.AchievementList[i].hasFinish = true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tCaculateReputationFromCompany:function(){\r\n\t\t//后面再加上 股票造成的\r\n\t\tfor (var i = this.CompanyList.length - 1; i >= 0; i--) {\r\n\t\t\tvar da = this.CompanyList[i];\r\n\t\t\tif(da.stockNum > 0)\r\n\t\t\t{\r\n\t\t\t\tthis.Reputation += cc.Mgr.global.HasCompanyReputationAdd;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tJudeCanFinishAchievementByCond:function(condList){\r\n\t\tvar finishedList = [];\r\n        for (var i = 0; i < condList.length; i++) {\r\n            var cond = condList[i];\r\n            var finished = false;\r\n            cc.log(\"类型要求 = \" + cond.condType + \"  数值要求 = \" + cond.value);\r\n            switch (cond.condType) {\r\n                case AchieveCond.AssetMoneyUp:\r\n                    finished = this.JudeAssetCond(cond.value);\r\n                    break;\r\n                case AchieveCond.InHospital:\r\n                    finished = this.JudegoToHosTimesCond(cond.value);\r\n                    break;\r\n                case AchieveCond.Bankrupt:\r\n                    finished = this.JudeBankruptTimesCond(cond.value);\r\n                    break;\r\n                case AchieveCond.CreateBusiness:\r\n                    finished = this.JudeCreateCompanyCond(cond.value);\r\n                    break;\r\n                case AchieveCond.AgeCond:\r\n                    finished = this.JudeAgeCond(cond.value);\r\n                    break;\r\n                case AchieveCond.HasMarryCond:\r\n                    finished = this.JudeHasMarryCond();\r\n                    break;\r\n                case AchieveCond.LovePointCond:\r\n                    finished = this.JudeLovePointCond(cond.value);\r\n                    break;\r\n                case AchieveCond.AssetMoneyDown:\r\n                    finished = this.JudeAssetDownCond(cond.value);\r\n                    break;\r\n                case AchieveCond.NoMarryCond:\r\n                    finished = this.JudeNotMarryCond(cond.value);\r\n                    break;\r\n                case AchieveCond.AgeCondUp:\r\n                    finished = this.JudeAgeCondUp(cond.value);\r\n                    break;\r\n            }\r\n            cc.log(\"是否完成 = \" + finished);\r\n            finishedList.push(finished);\r\n        }\r\n        for (var i = 0; i < finishedList.length; i++) {\r\n        \tif(finishedList[i] == false)\r\n        \t\treturn false;\r\n        }\r\n        return true;\r\n\t},\r\n\r\n\tJudeAssetDownCond:function (value) {\r\n\t\tif(this.AssetsMoney < value * 1000000)\r\n\t\t\treturn true;\r\n\t\telse\r\n\t\t\treturn false;\r\n\t},\r\n\r\n\t//成就完成 资产限制\r\n\tJudeAssetCond:function (value) {\r\n\t\tif(this.AssetsMoney >= value * 1000000)\r\n\t\t\treturn true;\r\n\t\telse\r\n\t\t\treturn false;\r\n\t},\r\n\r\n\t//成就完成 年龄限制 小于\r\n\tJudeAgeCond:function (value) {\r\n\t\tif(this.Age <= value)\r\n\t\t\treturn true;\r\n\t\telse\r\n\t\t\treturn false;\r\n\t},\r\n\r\n\tJudeAgeCondUp:function(value){\r\n\t\tif(this.Age >= value)\r\n\t\t\treturn true;\r\n\t\telse\r\n\t\t\treturn false;\r\n\t}, \r\n\r\n\r\n\t//成就完成 进医院次数\r\n\tJudegoToHosTimesCond:function (value) {\r\n\t\tif(cc.Mgr.global.goToHospital > value)\r\n\t\t\treturn true;\r\n\t\telse\r\n\t\t\treturn false;\r\n\t},\r\n\r\n\t//成就完成 破产次数\r\n\tJudeBankruptTimesCond:function (value) {\r\n\t\tif(cc.Mgr.global.BankruptTimes > value)\r\n\t\t\treturn true;\r\n\t\telse\r\n\t\t\treturn false;\r\n\t},\r\n\r\n\t//成就完成 创业次数\r\n\tJudeCreateCompanyCond:function (value) {\r\n\t\tif(cc.Mgr.global.CreateCompanyTimes > value)\r\n\t\t\treturn true;\r\n\t\telse\r\n\t\t\treturn false;\r\n\t},\r\n\r\n\t//成就完成 是否已婚\r\n\tJudeHasMarryCond:function () {\r\n\t\tfor (var i = 0; i < this.MateList.length; i++) {\r\n\t\t\tif(this.MateList[i].LovePoint == 100)\r\n\t\t\t{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tJudeHasCar:function(){\r\n\t\tfor (var i = this.CarList.length - 1; i >= 0; i--) {\r\n\t\t\tif(this.CarList[i].ownNum > 0)\r\n\t\t\t{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tJudeHasCarById:function(Id){\r\n\t\tfor (var i = this.CarList.length - 1; i >= 0; i--) {\r\n\t\t\tif(this.CarList[i].ownNum > 0 && this.CarList[i].Id == Id)\r\n\t\t\t{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tJudeHasHouse:function(){\r\n\t\tfor (var i = this.HouseList.length - 1; i >= 0; i--) {\r\n\t\t\tif(this.HouseList[i].ownNum > 0)\r\n\t\t\t{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tJudeHasHouseById:function(Id){\r\n\t\tfor (var i = this.HouseList.length - 1; i >= 0; i--) {\r\n\t\t\tif(this.HouseList[i].ownNum > 0 && this.HouseList[i].Id == Id)\r\n\t\t\t{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\t//成就完成 是否未婚\r\n\tJudeNotMarryCond:function () {\r\n\t\tfor (var i = 0; i < this.MateList.length; i++) {\r\n\t\t\tif(this.MateList[i].LovePoint == 100)\r\n\t\t\t{\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\t//成就完成 亲密度人数\r\n\tJudeLovePointCond:function(value){\r\n\t\tvar num = 0;\r\n\t\tfor (var i = 0; i < this.MateList.length; i++) {\r\n\t\t\tif(this.MateList[i].LovePoint == 99)\r\n\t\t\t{\r\n\t\t\t\tnum += 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(num >= value)\r\n\t\t\treturn true;\r\n\t\telse\r\n\t\t\treturn false;\r\n\t},\r\n\r\n\t//刷新用户年龄\r\n\tRefreshUserAge:function(){\r\n\t\tthis.Age += 1;\r\n\t\tif(this.Age == (this.retireAge + 1) && cc.Mgr.global.useRetireAds == false)\r\n\t\t{\r\n\t\t\tcc.director.GlobalEvent.emit(cc.Mgr.Event.UseRetireAdsSkill, {});\r\n\t\t}\r\n\t\telse if(this.Age > this.retireAge && cc.Mgr.global.useRetireAds == true)\r\n\t\t{\r\n\t\t\tcc.director.GlobalEvent.emit(cc.Mgr.Event.Retire, {});\r\n\t\t}\r\n\r\n\t\tthis.CaculateReputationFromCompany();\r\n\t},\r\n\r\n\t//刷新个人健康指数\r\n\tRefreshHealthHp:function(){\r\n\t\tif(this.RecoverYear > 0 && this.userState == UserState.NotOK)\r\n\t\t{\r\n\t\t\tthis.RecoverYear -= 1;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse if(this.RecoverYear == 0 && this.userState == UserState.NotOK)\r\n\t\t{\r\n\t\t\tthis.RecoverYear = 0;\r\n\t\t\tthis.userState = UserState.OK;\r\n\t\t\tthis.HpPoint = 100;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif(this.Age >= cc.Mgr.global.HealthSubAge && this.HpPoint > 0)\r\n\t\t{\r\n\t\t\tvar seed = 2 + Math.floor(Math.random()*3);\r\n\t\t\tthis.HpPoint -= seed;\r\n\t\t\tif(this.HpPoint < cc.Mgr.global.HealthLine)\r\n\t\t\t{\r\n\t\t\t\tthis.userState = UserState.NotOK;\r\n\t\t\t\tcc.Mgr.global.goToHospital += 1;\r\n\t\t\t\tthis.RecoverYear = cc.Mgr.global.YearRecover;\r\n\r\n\t\t\t\tvar param = {};\r\n\t\t\t\tparam.forWhat = \"HealthLine\";\r\n\t\t\t\tparam.text = cc.Mgr.global.getTranslation(\"RecoverHealth\");\r\n\t\t\t\tcc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCommonTip, param);\r\n\t\t\t\t//this.UnLockMateByInHospital(MateUnLockType.InHospital, this.Sex);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t//技能天赋数据获取\r\n    getSkillDataByTwoId:function(Id, subId){\r\n        var dt = null;\r\n        for (var i = this.SkillList.length - 1; i >= 0; i--) {\r\n            var data = this.SkillList[i];\r\n            if(data.Id == Id && data.subId == subId)\r\n            {\r\n                dt = data;\r\n                return data;\r\n            }\r\n        }\r\n        return dt;\r\n    },\r\n\r\n    getSkillListById:function(Id){\r\n        var param = [];\r\n        for (var i = this.SkillList.length - 1; i >= 0; i--) {\r\n            var data = this.SkillList[i];\r\n            if(data.Id == Id)\r\n            {\r\n                param.push(data);\r\n            }\r\n        }\r\n        return param;\r\n    },\r\n\r\n    //花销和获得根据 \r\n    GetOrCostDataByRewardType:function(rewardType, num, subId) //对于物品  会有一个subId\r\n    {\r\n    \tvar Pdata = {};\r\n    \tPdata.Id = -1;\r\n    \tPdata.companyId = -1;\r\n    \t//cc.log(\"++++++rewardType++++++\" + rewardType);\r\n\t\tif(rewardType == RewardType.NULL)\r\n    \t{\r\n    \t\t//cc.log(\"啥也没有\");\r\n    \t}\r\n    \telse if(rewardType == RewardType.Cash)\r\n    \t{\r\n    \t\tif(num < 0) //好运连连\r\n    \t\t{\r\n    \t\t\tnum = num + Math.floor((-num)* this.EventCostBonus);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tnum + Math.floor(num* this.EventCostBonus);\r\n    \t\t}\r\n    \t\tthis.Cash += num;\r\n    \t\tif(this.Cash < 0)\r\n    \t\t\tthis.Cash = 0;\r\n    \t}\r\n    \telse if(rewardType == RewardType.HP)\r\n    \t{\r\n    \t\tthis.HpPoint += num;\r\n    \t\tif(this.HpPoint >100)\r\n    \t\t\tthis.HpPoint =100;\r\n    \t}\r\n    \telse if(rewardType == RewardType.Reputation)\r\n    \t{\r\n    \t\tthis.Reputation += num;\r\n    \t\tif(this.Reputation < 0)\r\n    \t\t\tthis.Reputation = 0;\r\n    \t}\r\n    \telse if(rewardType == RewardType.Goods)\r\n    \t{\r\n    \t\tfor (var i = 0; i < this.GoodsList.length; i++) {\r\n    \t\t\tif(this.GoodsList[i].Id == subId)\r\n    \t\t\t{\r\n    \t\t\t\tif(this.WareHouseCapcity >= num)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tvar averagePrice = Math.floor((this.GoodsList[i].buyPrice * this.GoodsList[i].ownNum) / (this.GoodsList[i].ownNum + num));\r\n\t    \t\t\t\tthis.GoodsList[i].ownNum += num;\r\n\t    \t\t\t\t//仓库减少数值\r\n\t    \t\t\t\tthis.WareHouseCapcity -= num;\r\n\r\n\t    \t\t\t\tPdata.Id = subId;\r\n\t    \t\t\t\tPdata.buyPrice = averagePrice;//this.GoodsList[i].buyPrice;\r\n\t    \t\t\t\tPdata.ownNum = this.GoodsList[i].ownNum;\r\n    \t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \telse if(rewardType == RewardType.Car)\r\n    \t{\r\n    \t\tfor (var i = 0; i < this.CarList.length; i++) {\r\n    \t\t\tif(this.CarList[i].Id == subId)\r\n    \t\t\t{\r\n    \t\t\t\tthis.CarList[i].ownNum += num;\r\n    \t\t\t\tthis.Reputation += this.CarList[i].addBonus;\r\n    \t\t\t\tthis.HpPoint += this.CarList[i].addHp;\r\n    \t\t\t\tif(this.HpPoint > 100)\r\n    \t\t\t\t\tthis.HpPoint = 100;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \telse if(rewardType == RewardType.House)\r\n    \t{\r\n    \t\tfor (var i = 0; i < this.HouseList.length; i++) {\r\n    \t\t\tif(this.HouseList[i].Id == subId)\r\n    \t\t\t{\r\n    \t\t\t\tthis.HouseList[i].ownNum += num;\r\n    \t\t\t\tthis.Reputation += this.HouseList[i].addBonus;\r\n    \t\t\t\tthis.HpPoint += this.HouseList[i].addHp;\r\n    \t\t\t\tif(this.HpPoint > 100)\r\n    \t\t\t\t\tthis.HpPoint = 100;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \telse if(rewardType == RewardType.Stock)\r\n    \t{\r\n    \t\tfor (var i = 0; i < this.CompanyList.length; i++) {\r\n    \t\t\tif(this.CompanyList[i].Id == subId)\r\n    \t\t\t{\r\n    \t\t\t\tthis.CompanyList[i].stockNum += num;\r\n    \t\t\t\tPdata.companyId = subId;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \telse if(rewardType == RewardType.StockPrice)\r\n    \t{\r\n    \t\tfor (var i = 0; i < this.CompanyList.length; i++) {\r\n    \t\t\tif(this.CompanyList[i].Id == subId)\r\n    \t\t\t{\r\n    \t\t\t\tif(this.CompanyList[i].stockNum > 0)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tthis.CompanyList[i].stockPrice += num;\r\n    \t\t\t\t\tPdata.companyId = subId;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\t    return Pdata;\r\n    },\r\n\r\n    //判断是否有房\r\n    JudeHasHouse:function(value){\r\n    \tvar flag = false;\r\n    \tif(value == 0)\r\n    \t{\r\n\t    \tfor (var i = 0; i < this.HouseList.length; i++) {\r\n\t    \t\tif(this.HouseList[i].ownNum > 0)\r\n\t    \t\t{\r\n\t    \t\t\treturn true;\r\n\t    \t\t}\r\n\t    \t}\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\tfor (var i = 0; i < this.HouseList.length; i++) {\r\n\t    \t\tif(this.HouseList[i].ownNum > 0 && value == this.HouseList[i].Id)\r\n\t    \t\t{\r\n\t    \t\t\treturn true;\r\n\t    \t\t}\r\n\t    \t}\r\n    \t}\r\n    \treturn flag;\r\n    },\r\n    //判断是否有车\r\n    JudeHasCar:function(value){\r\n    \tvar flag = false;\r\n    \tif(value == 0)\r\n    \t{\r\n\t    \tfor (var i = 0; i < this.CarList.length; i++) {\r\n\t    \t\tif(this.CarList[i].ownNum > 0)\r\n\t    \t\t{\r\n\t    \t\t\treturn true;\r\n\t    \t\t}\r\n\t    \t}\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\tfor (var i = 0; i < this.CarList.length; i++) {\r\n\t    \t\tif(this.CarList[i].ownNum > 0 && this.CarList[i].Id == value)\r\n\t    \t\t{\r\n\t    \t\t\treturn true;\r\n\t    \t\t}\r\n\t    \t}\r\n    \t}\r\n    \treturn flag;\r\n    },\r\n\r\n    //判断资产是否满足一定要求\r\n    JudeAsset:function(needNum)\r\n    {\r\n    \tvar flag = false;\r\n    \tif(needNum <= this.AssetsMoney)\r\n    \t{\r\n    \t\treturn true;\r\n    \t}\r\n    \treturn flag;\r\n    },\r\n\r\n    //判断名声是否满足要求\r\n    JudeReputation:function(needNum){\r\n    \tvar flag = false;\r\n    \tif(needNum <= this.Reputation)\r\n    \t{\r\n    \t\treturn true;\r\n    \t}\r\n    \treturn flag;\r\n    },\r\n\r\n    //判断健康是否满足要求\r\n    JudeHpPoint:function(needNum){\r\n    \tvar flag = false;\r\n    \tif(needNum <= this.HpPoint)\r\n    \t{\r\n    \t\treturn true;\r\n    \t}\r\n    \treturn flag;\r\n    },\r\n\r\n    //判断是否有公司\r\n    JudeHasCompany:function(){\r\n    \treturn this.hasCompany;\r\n    },\r\n\r\n    //开放该条件下的一个 可约会对象\r\n    UnLockOneMate:function(unlockCond, offSex){\r\n    \tvar Id = -1;\r\n    \tfor (var i = 0; i < this.MateList.length; i++) {\r\n    \t\t//var dt = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Mate , this.MateList[i].Id);\r\n    \t\tif(this.MateList[i].sex == offSex && this.MateList[i].canDate == false && this.MateList[i].unlockCond == unlockCond)\r\n    \t\t{\r\n    \t\t\tthis.MateList[i].canDate = true;\r\n    \t\t\tId = this.MateList[i].Id;\r\n\r\n\t\t\t\tvar param = {};\r\n\t\t\t\tparam.icon = this.MateList[i].icon;\r\n\t\t\t\tparam.des = cc.Mgr.global.getTranslation(\"UnLockMate_\" + Id);\r\n\t\t\t\tcc.director.GlobalEvent.emit(cc.Mgr.Event.OpenUnLockMate, param);\r\n    \t\t\treturn Id;\r\n    \t\t}\r\n    \t}\r\n    \treturn Id;\r\n    },\r\n\r\n    UnLockMateByInHospital:function(unlockCond, offSex){\r\n    \tvar Id = -1;\r\n    \tfor (var i = 0; i < this.MateList.length; i++) {\r\n    \t\t//var dt = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Mate , this.MateList[i].Id);\r\n    \t\tif(this.MateList[i].sex == offSex && this.MateList[i].canDate == false && this.MateList[i].unlockCond == unlockCond)\r\n    \t\t{\r\n    \t\t\tthis.MateList[i].canDate = true;\r\n    \t\t\tId = this.MateList[i].Id;\r\n\r\n\t\t\t\tvar param = {};\r\n\t\t\t\tparam.icon = this.MateList[i].icon;\r\n\t\t\t\tparam.des = cc.Mgr.global.getTranslation(\"UnLockMateByInHos\");\r\n\t\t\t\tcc.director.GlobalEvent.emit(cc.Mgr.Event.OpenUnLockMate, param);\r\n    \t\t\treturn Id;\r\n    \t\t}\r\n    \t}\r\n    \treturn Id;\r\n    },\r\n    //判断是否已经拥有一个伴侣\r\n    JudeHasAnyMate:function(){\r\n    \tvar flag = false;\r\n    \tfor (var i = 0; i < this.MateList.length; i++) {\r\n    \t\t//cc.log(\"是否已经结婚了 \"+ this.MateList[i].Uplv);\r\n    \t\tif(this.MateList[i].UpLv == true)\r\n    \t\t{\r\n    \t\t\tflag = true;\r\n    \t\t\treturn flag;\r\n    \t\t}\r\n    \t}\r\n    \treturn flag;\r\n    },\r\n\r\n});\r\n\r\nmodule.exports = UserDataMgr\r\n"]}