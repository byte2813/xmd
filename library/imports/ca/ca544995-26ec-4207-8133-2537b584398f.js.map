{"version":3,"sources":["assets\\Scripts\\UI\\GameScene.js"],"names":["ItemType","require","UserState","GoodsItem","BuyTipPanel","SaleTipPanel","CommonTipPanel","CompanyCreateTipPanel","CompanyBuyTipPanel","CompanySaleTipPanel","MateTipPanel","MateItemPanel","EnjoyPanel","CommonBuyPanel","OwnedPanel","BetPanel","RetirePanel","AddCapacityPanel","MarketTipPanel","TreatPanel","EventTipPanel","EventResultPanel","WatchAdsPanel","MarryPanel","TutorialPanel","TimePanel","AdsRetirePanel","UnlockMatePanel","RankPanel","TutorialStep","eyouClientTiktok","eyouClientKs","GameScene","cc","Class","Component","properties","MainAtlas","SpriteAtlas","BigApAtlas","CashLbl","Label","AssetLbl","CurAgeLbl","TotalAgeLbl","HpLbl","ReputationLbl","CapcityLbl","HpIcon","Sprite","MarketItem","Prefab","OwnItem","CompanyItem","MarketParent","Node","OwnParent","CompanyParent","MarketPanel","BusinessPanel","WatchAdsBtn","TipCashSp","BuyTip","SaleTip","CommonTip","CompanyCreatePanel","StockBuyTipPanel","StockSaleTipPanel","MatePanel","MateItemTip","EnjoyTipPanel","CommonBuyTipPanel","OwnedTipPanel","BetTipPanel","RetirePanelTip","rankPanel","EventPanel","AddCapPanel","toggleMarket","Toggle","toggleBussiness","toggleMate","toggleEnjoy","MateNewTip","AdSp","wxSubContextView","SwanSubContextView","marketTipData","screenRecordingBtn","desktopBtn","useBtn","onLoad","director","GlobalEvent","on","Mgr","Event","OpenBuyTip","data","node","active","ShowPanel","BuySuccess","string","global","FormatNum","UserDataMgr","Cash","RefreshUserAssets","RefreshOwnedItems","RefreshUIShow","OpenSaleTip","SaleSuccess","OpenCommonTip","tutorialStep","forWhat","Pdata","Id","OpenEventResult","companyId","RefreshCompanyItemsFromEvent","OpenCompanyCreate","CreateCompanySuccess","RefreshCompanyItemsAfterBuy","CheckTutorialHappen","OpenStuckBuyTip","BuyStockSuccess","OpenStuckSaleTip","SaleStockSuccess","OpenMateTip","DateSuccess","RefreshMateItemUI","DateLater","StartMateLoveTutorial","OpenCommonBuy","CommonBuySaleSuccess","flag","Disvorce","RefreshCompanyItemsAfterDisvorce","RefreshPanelItems","TreatSuccess","userState","OK","RecoverYear","RefreshCashAsset","OpenBetTip","OpenUnLockMate","Retire","RefreshAllUIShow","UseRetireAdsSkill","AddWareHouseCapacity","OpenMarry","OpenTutorial","ClockEnd","ToNextYear","OpenEnjoy","ChooseOpenEnjoy","ShareVideo","isKuaiShou","ks","sys","BYTEDANCE_GAME","platform","shareAppMessageInfo","channel","extra","videoPath","getIns","shareAppMessage","shareAppMessageCallback","console","log","publishVideoInfo","videoID","publishVideo","start","initTopUIData","InitMarketItems","InitOwnedItems","InitCompanyItems","refreshAdsSp","AdsMgr","HideBannerAd","dealScreenRecordingBtnShow","desktopUseBtnShow","_this","screenRecordingFlag","syncScreenRecordingShow","createGameRecorderInfo","onStart","onStop","onStopRes","Date","now","screenRecordingTime","text","onError","errMsg","error","onInterruptionBegin","createGameRecorder","createGameRecorderCallback","code","res","stopRes","videoId","GameRecorder_RecordFailedTimeRangeTooShort","GameRecorder_RecordFailedTimeRangeTooLong","GameRecorder_RecordFailedNoVideo","GameRecorder_PublishVideoFailed","onAbort","onBtnScreenRecordingClick","gameRecorderStart","duration","gameRecorderStop","_this2","index","path","loader","loadRes","SpriteFrame","err","spriteFrame","getComponent","use","checkCommonUse","success","isCommonUse","fail","JSON","stringify","complete","desktop","checkShortcut","installed","msg","onDesktopClick","addShortcut","onUseClick","addCommonUse","seed","getSpriteFrame","initCash","Math","random","tutorialInMarket","param","MapDataMgr","getDataByItemTypeAndId","weight","InitGetMoneyId","getTranslation","cash","InitMoneyBonus","AssetsMoney","HighAssets","Age","retireAge","HpPoint","Reputation","lastCap","WareHouseAllCapcity","WareHouseCapcity","ClearShowGoodsList","DataList","getDataListBySex","Sex","showArr","getArrayByItems","length","i","obj","instantiate","parent","init","j","refreshLowPrice","refreshPrice","push","InsertGoodsIdToList","self","SetCallFunc","emit","dt","step","tutorialGoodsId","ClickBuyBtn","d3","d4","getGoodsDataById","d5","ClickSaleBtn","RefreshDataToNextYear","RefreshUserAge","RefreshTutorialItems","PlayAnima","RefreshCompanyItems","RefreshItemsForSpecialAge","RefreshItems","RefreshOwnedItemsState","GetBonusRewardEveryYear","RefreshHealthHp","CheckEventHappen","tutorialInDate","MateDate_1","ChooseOpenMatePanel","MateDate_2","tutorialInBus","Business_1","ChooseOpenBusisness","Business_2","hasCompany","tutorialStockBonus","StockBonus_1","tutorialMatePoint","DateToMarry_1","EventDataIdList","LastEventAge","eId","GetEventDataAndSpliceId","SpawnSeedBetweenTwoNum","RefreshHpIconSp","HpStateA","HpStateB","HpStateC","RefreshPanel","children","sc","refreshUpPrice","CheckHasElement","outarr","stateList","has","JudeGoodsOwned","par","State","list","getArrayItems","refreshMidPrice","outdata","JudeGoodsHas","List","out","GoodsForeId","rat","arrNum","num","temp_array","Array","return_array","arrIndex","floor","splice","arr","getOwnDataListByType","Goods","ownNum","refreshData","RefreshState","Company","canProfit","canGetProfit","CanGetStockProfit","showStockProfit","RefreshUIShowAfter","ChooseOpenMarket","AudioMgr","playSFX","isChecked","ChooseOpenBelong","ChooseOpenTreat","ChooseOpenRetirePanel","ChooseOpenRankPanel","PlatformController","IsLoginSync","WECHAT_GAME","BAIDU_GAME","showSubContentView","SendMessageToSubView","CloseRankView","hideSubContentView","OpenAddCapacity","OpenMarketTipPanel","OpenWatchAdPanel","Sp","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var ItemType = require(\"ItemType\");\r\nvar UserState = require(\"UserState\");\r\nvar GoodsItem = require(\"GoodsItem\");\r\nvar BuyTipPanel = require(\"BuyTipPanel\");\r\nvar SaleTipPanel = require(\"SaleTipPanel\");\r\nvar CommonTipPanel = require(\"CommonTipPanel\");\r\nvar CompanyCreateTipPanel = require(\"CompanyCreateTipPanel\");\r\nvar CompanyBuyTipPanel = require(\"CompanyBuyTipPanel\");\r\nvar CompanySaleTipPanel = require(\"CompanySaleTipPanel\");\r\nvar MateTipPanel = require(\"MateTipPanel\");\r\nvar MateItemPanel = require(\"MateItemPanel\");\r\nvar EnjoyPanel = require(\"EnjoyPanel\");\r\nvar CommonBuyPanel = require(\"CommonBuyPanel\");\r\nvar OwnedPanel = require(\"OwnedPanel\");\r\nvar BetPanel = require(\"BetPanel\");\r\nvar RetirePanel = require(\"RetirePanel\");\r\nvar AddCapacityPanel = require(\"AddCapacity\");\r\nvar MarketTipPanel = require(\"MarketTipPanel\");\r\nvar TreatPanel = require(\"TreatPanel\");\r\nvar EventTipPanel = require(\"EventPanel\");\r\nvar EventResultPanel = require(\"EventResultPanel\");\r\nvar WatchAdsPanel = require(\"WatchAdsPanel\");\r\nvar MarryPanel = require(\"MarryPanel\");\r\nvar TutorialPanel = require(\"TutorialPanel\");\r\nvar TimePanel = require(\"TimePanel\");\r\nvar AdsRetirePanel = require(\"AdsRetirePanel\");\r\nvar UnlockMatePanel = require(\"UnlockMatePanel\");\r\nvar RankPanel = require(\"RankPanel\");\r\n\r\nvar TutorialStep = require(\"TutorialStep\");\r\n\r\nconst eyouClientTiktok = require('EyouClientTiktok')\r\nconst eyouClientKs = require('EyouClientKs')\r\n\r\nvar GameScene = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        MainAtlas:cc.SpriteAtlas,\r\n        BigApAtlas:cc.SpriteAtlas,\r\n\r\n        CashLbl:cc.Label,\r\n        AssetLbl:cc.Label,\r\n        CurAgeLbl:cc.Label,\r\n        TotalAgeLbl:cc.Label,\r\n        HpLbl:cc.Label,\r\n        ReputationLbl:cc.Label,\r\n        CapcityLbl:cc.Label,\r\n        HpIcon:cc.Sprite,\r\n\r\n        MarketItem:cc.Prefab,\r\n        OwnItem:cc.Prefab,\r\n        CompanyItem:cc.Prefab,\r\n\r\n        MarketParent:cc.Node,\r\n        OwnParent:cc.Node,\r\n        CompanyParent:cc.Node,\r\n\r\n        MarketPanel:cc.Node,\r\n        BusinessPanel:cc.Node,\r\n        WatchAdsBtn:cc.Sprite,\r\n        TipCashSp:cc.Sprite,\r\n\r\n        MarketTipPanel:MarketTipPanel,//市场行情提示\r\n        BuyTip:BuyTipPanel,\r\n        SaleTip:SaleTipPanel,\r\n        CommonTip:CommonTipPanel,\r\n        CompanyCreatePanel:CompanyCreateTipPanel,\r\n        StockBuyTipPanel:CompanyBuyTipPanel,\r\n        StockSaleTipPanel:CompanySaleTipPanel,\r\n        MatePanel:MateTipPanel,\r\n        MateItemTip:MateItemPanel,\r\n        EnjoyTipPanel:EnjoyPanel,\r\n        CommonBuyTipPanel:CommonBuyPanel,\r\n        OwnedTipPanel:OwnedPanel,\r\n        BetTipPanel:BetPanel,\r\n        RetirePanelTip:RetirePanel,\r\n        AdsRetirePanel:AdsRetirePanel,\r\n        UnlockMatePanel:UnlockMatePanel,\r\n        rankPanel:RankPanel,\r\n\r\n        TreatPanel:TreatPanel,\r\n        EventPanel:EventTipPanel,\r\n        EventResultPanel:EventResultPanel,\r\n\r\n        AddCapPanel:AddCapacityPanel,\r\n\r\n        WatchAdsPanel:WatchAdsPanel,\r\n        MarryPanel:MarryPanel,\r\n        TutorialPanel:TutorialPanel,\r\n\r\n        TimePanel:TimePanel,\r\n\r\n        toggleMarket:cc.Toggle,\r\n        toggleBussiness:cc.Toggle,\r\n        toggleMate:cc.Toggle,\r\n        toggleEnjoy:cc.Toggle,\r\n\r\n        MateNewTip:cc.Node,\r\n\r\n        AdSp:\"aishen\",\r\n\r\n        wxSubContextView:cc.Node,\r\n        SwanSubContextView:cc.Node,\r\n\r\n        marketTipData:null,\r\n\r\n        screenRecordingBtn: cc.Node,\r\n        desktopBtn: cc.Node,\r\n        useBtn: cc.Node,\r\n    },\r\n\r\n    onLoad () {\r\n\r\n    \t//監聽打開購買\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.OpenBuyTip, function(data){\r\n            this.BuyTip.node.active = true;\r\n            this.BuyTip.ShowPanel(data);\r\n        }, this);\r\n        //監聽購買成功\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.BuySuccess, function(data){\r\n            this.CashLbl.string = cc.Mgr.global.FormatNum(cc.Mgr.UserDataMgr.Cash);\r\n            cc.Mgr.UserDataMgr.RefreshUserAssets(false);\r\n            this.RefreshOwnedItems(data);\r\n            this.RefreshUIShow();\r\n        }, this);\r\n        //监听 出售窗口\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.OpenSaleTip, function(data){\r\n            this.SaleTip.node.active = true;\r\n            this.SaleTip.ShowPanel(data);\r\n        }, this);\r\n\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.SaleSuccess, function(data){\r\n            this.CashLbl.string = cc.Mgr.global.FormatNum(cc.Mgr.UserDataMgr.Cash);\r\n            cc.Mgr.UserDataMgr.RefreshUserAssets(false);\r\n            this.RefreshOwnedItems(data);\r\n            this.RefreshUIShow();\r\n        }, this);\r\n\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.OpenCommonTip, function(data){\r\n            if(cc.Mgr.global.tutorialStep != -1)\r\n            {\r\n                this.CommonTip.node.active = false\r\n                return;\r\n            }\r\n            if(this.CommonTip.node.active == true)\r\n            {\r\n                return;\r\n            }\r\n            this.CommonTip.node.active = true;\r\n            cc.Mgr.UserDataMgr.RefreshUserAssets(false);\r\n            this.CommonTip.ShowPanel(data);\r\n            if(data.forWhat != null && data.forWhat == \"Event_Yes\")\r\n            {\r\n                //cc.log(\"----------------\"+ data.Pdata.Id)\r\n                if(data.Pdata.Id != -1)\r\n                    this.RefreshOwnedItems(data.Pdata);\r\n                this.RefreshUIShow();\r\n            }\r\n        }, this);\r\n\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.OpenEventResult, function(data){\r\n            this.EventResultPanel.node.active = true;\r\n            cc.Mgr.UserDataMgr.RefreshUserAssets(false);\r\n            this.EventResultPanel.ShowPanel(data);\r\n            if(data.forWhat != null && data.forWhat == \"Event_Yes\")\r\n            {\r\n                if(data.Pdata.Id != -1)\r\n                    this.RefreshOwnedItems(data.Pdata);\r\n                else if(data.Pdata.companyId != -1)\r\n                    this.RefreshCompanyItemsFromEvent(data.Pdata.companyId);\r\n                this.RefreshUIShow();\r\n            }\r\n        }, this);\r\n\r\n        //打开创办公司panel\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.OpenCompanyCreate, function(data){\r\n            this.CompanyCreatePanel.node.active = true;\r\n            this.CompanyCreatePanel.ShowPanel(data);\r\n        }, this);\r\n\r\n        //创办公司\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.CreateCompanySuccess, function(data){\r\n            this.CashLbl.string = cc.Mgr.global.FormatNum(cc.Mgr.UserDataMgr.Cash);\r\n            this.RefreshCompanyItemsAfterBuy(data);\r\n            cc.Mgr.UserDataMgr.RefreshUserAssets(false);\r\n            this.RefreshUIShow();\r\n            this.CheckTutorialHappen(); //创办玩公司有一次引导\r\n        }, this);\r\n\r\n        //打开购买股票panel\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.OpenStuckBuyTip, function(data){\r\n            this.StockBuyTipPanel.node.active = true;\r\n            this.StockBuyTipPanel.ShowPanel(data);\r\n        }, this);\r\n\r\n        //购买股票成功\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.BuyStockSuccess, function(data){\r\n            this.CashLbl.string = cc.Mgr.global.FormatNum(cc.Mgr.UserDataMgr.Cash);\r\n            this.RefreshCompanyItemsAfterBuy(data);\r\n            cc.Mgr.UserDataMgr.RefreshUserAssets(false);\r\n            this.RefreshUIShow();\r\n        }, this);\r\n\r\n        //打开出售股票panel\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.OpenStuckSaleTip, function(data){\r\n            this.StockSaleTipPanel.node.active = true;\r\n            this.StockSaleTipPanel.ShowPanel(data);\r\n        }, this);\r\n\r\n        //出售股票成功\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.SaleStockSuccess, function(data){\r\n            this.CashLbl.string = cc.Mgr.global.FormatNum(cc.Mgr.UserDataMgr.Cash);\r\n            this.RefreshCompanyItemsAfterBuy(data);\r\n            cc.Mgr.UserDataMgr.RefreshUserAssets(false);\r\n            this.RefreshUIShow();\r\n        }, this);\r\n\r\n        //打开约会提示面板\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.OpenMateTip, function(data){\r\n            this.MateItemTip.node.active = true;\r\n            this.MateItemTip.ShowPanel(data);\r\n        }, this);\r\n\r\n        //打开约会完成\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.DateSuccess, function(data){\r\n            cc.Mgr.UserDataMgr.RefreshUserAssets(false);\r\n            this.RefreshMateItemUI(data.Id);\r\n            this.RefreshUIShow();\r\n            //this.StartMateLoveTutorial();\r\n        }, this);\r\n\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.DateLater, function(data){\r\n            this.StartMateLoveTutorial();\r\n        }, this);\r\n\r\n        //打开共用买\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.OpenCommonBuy, function(data){\r\n            //cc.log(\"收到打开\");\r\n            this.CommonBuyTipPanel.node.active = true;\r\n            this.CommonBuyTipPanel.ShowPanel(data);\r\n        }, this);\r\n\r\n        //共用买mai 成功返回\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.CommonBuySaleSuccess, function(data){\r\n            cc.Mgr.UserDataMgr.RefreshUserAssets(false);\r\n            this.RefreshUIShow();\r\n            if(data.flag == \"Sale\")\r\n                this.OwnedTipPanel.ShowPanel();\r\n\r\n            if(data.Disvorce && data.Disvorce == true)\r\n            {\r\n                this.RefreshCompanyItemsAfterDisvorce();\r\n                this.MatePanel.RefreshPanelItems();\r\n                cc.Mgr.UserDataMgr.RefreshUserAssets(false);\r\n            }\r\n        }, this);\r\n\r\n        //治疗完成\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.TreatSuccess, function(data){\r\n            cc.Mgr.UserDataMgr.userState = UserState.OK;\r\n            cc.Mgr.UserDataMgr.RecoverYear = 0;\r\n            cc.Mgr.UserDataMgr.RefreshUserAssets(false);\r\n            this.RefreshUIShow();\r\n            ////cc.log(\"----------------士大夫胜多负少-----------------------\" + cc.Mgr.UserDataMgr.HpPoint);\r\n        }, this);\r\n\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.RefreshCashAsset, function(data){\r\n            cc.Mgr.UserDataMgr.RefreshUserAssets(false);\r\n            this.RefreshUIShow();\r\n        }, this);\r\n\r\n        //赌博\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.OpenBetTip, function(data){\r\n            this.BetTipPanel.node.active = true;\r\n            this.RefreshUIShow();\r\n            this.BetTipPanel.ShowPanel(data);\r\n        }, this);\r\n\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.OpenUnLockMate, function(data){\r\n            this.UnlockMatePanel.node.active = true;\r\n            this.MateNewTip.active = true;\r\n            this.UnlockMatePanel.ShowPanel(data);\r\n            this.MatePanel.RefreshPanelItems();\r\n        }, this);\r\n\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.Retire, function(data){\r\n            this.RetirePanelTip.node.active = true;\r\n            this.RetirePanelTip.ShowPanel();\r\n        }, this);\r\n\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.RefreshAllUIShow, function(data){\r\n            this.RefreshUIShow();\r\n        }, this);\r\n\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.UseRetireAdsSkill, function(data){\r\n            this.AdsRetirePanel.node.active = true;\r\n            this.AdsRetirePanel.ShowPanel();\r\n        }, this);\r\n\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.AddWareHouseCapacity, function(data){\r\n            cc.Mgr.UserDataMgr.RefreshUserAssets(false);\r\n            this.RefreshUIShow();\r\n        }, this);\r\n\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.OpenMarry, function(data){\r\n            this.MarryPanel.node.active = true;\r\n            this.MarryPanel.ShowPanel(data);\r\n        }, this);\r\n\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.OpenTutorial, function(data){\r\n            this.TutorialPanel.node.active = true;\r\n            this.TutorialPanel.ShowPanel(data);\r\n        }, this);\r\n\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.ClockEnd, function(data){\r\n            this.ToNextYear();\r\n        }, this);\r\n\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.OpenEnjoy, function(data){\r\n            this.ChooseOpenEnjoy();\r\n        }, this);\r\n\r\n        //打开创办公司panel\r\n        cc.director.GlobalEvent.on(cc.Mgr.Event.ShareVideo, function(data){\r\n            let isKuaiShou = false;\r\n            if (typeof ks !== 'undefined') {\r\n                //运行在快手平台\r\n                isKuaiShou = true;\r\n            }\r\n            if (cc.sys.BYTEDANCE_GAME === cc.sys.platform) {\r\n                let shareAppMessageInfo = {\r\n                    channel: 'video',\r\n                    extra: {\r\n                        videoPath: data.videoPath\r\n                    }\r\n                }\r\n                eyouClientTiktok.getIns().shareAppMessage(shareAppMessageInfo, shareAppMessageCallback => {\r\n                    console.log('分享录屏回调:>', shareAppMessageCallback)\r\n                })\r\n            }else if (isKuaiShou){\r\n                let publishVideoInfo = {\r\n                    videoID: data.videoPath\r\n                }\r\n                eyouClientKs.getIns().publishVideo(publishVideoInfo)\r\n            }\r\n\r\n\r\n        }, this);\r\n        \r\n    },\r\n\r\n    start () {\r\n    \tthis.initTopUIData();\r\n        //初始化市场数据\r\n        this.InitMarketItems();\r\n        //初始化已经有的物品\r\n        this.InitOwnedItems();\r\n        //初始化股市公司数据\r\n        this.InitCompanyItems();\r\n\r\n        this.refreshAdsSp(3);\r\n\r\n        cc.Mgr.AdsMgr.HideBannerAd();\r\n\r\n        this.dealScreenRecordingBtnShow();\r\n        this.desktopUseBtnShow();\r\n    },\r\n\r\n    dealScreenRecordingBtnShow() {\r\n        eyouClientTiktok.getIns().screenRecordingFlag = 0\r\n        eyouClientKs.getIns().screenRecordingFlag = 0\r\n        this.syncScreenRecordingShow()\r\n        let isKuaiShou = false;\r\n        if (typeof ks !== 'undefined') {\r\n            //运行在快手平台\r\n            isKuaiShou = true;\r\n        }\r\n        if (cc.sys.BYTEDANCE_GAME === cc.sys.platform) {\r\n            let createGameRecorderInfo = {\r\n                onStart: () => {},\r\n                onStop: onStopRes => {\r\n                    eyouClientTiktok.getIns().screenRecordingFlag = 0\r\n                    if (Date.now() - eyouClientTiktok.getIns().screenRecordingTime < 3000) {\r\n                        if (this.CommonTip.node.active !== true) {\r\n                            this.CommonTip.node.active = true\r\n                            this.CommonTip.ShowPanel({text: '录屏时间必须大于3秒'});\r\n                        }\r\n                        return\r\n                    }\r\n                    if (this.CommonTip.node.active !== true) {\r\n                        this.CommonTip.node.active = true\r\n                        this.CommonTip.ShowPanel({text: '是否分享本次录屏', forWhat: 'shareVideo', videoPath: onStopRes.videoPath});\r\n                    }\r\n                },\r\n                onError: errMsg => {\r\n                    console.error('录屏异常:>', errMsg)\r\n                    eyouClientTiktok.getIns().screenRecordingFlag = 0\r\n                    this.syncScreenRecordingShow()\r\n                },\r\n                onInterruptionBegin: () => {\r\n                    eyouClientTiktok.getIns().screenRecordingFlag = 0\r\n                    this.syncScreenRecordingShow()\r\n                    if (this.CommonTip.node.active !== true) {\r\n                        this.CommonTip.node.active = true\r\n                        this.CommonTip.ShowPanel({text: '录屏时间必须小于300秒'});\r\n                    }\r\n                }\r\n            }\r\n\r\n            // 创建录屏管理工具\r\n            eyouClientTiktok.getIns().createGameRecorder(createGameRecorderInfo, createGameRecorderCallback => {\r\n                console.log('创建录屏管理工具回调:>', createGameRecorderCallback)\r\n                if (createGameRecorderCallback.code === 0) {\r\n                    this.screenRecordingBtn.active = true\r\n                }\r\n            })\r\n        }else if (isKuaiShou){\r\n            let createGameRecorderInfo = {\r\n                onStart: res => {\r\n                    console.log(\"录屏开始:\", res)\r\n                },\r\n                onStop: stopRes => {\r\n                    console.log(\"结束录制:\",stopRes)\r\n                    eyouClientKs.getIns().screenRecordingFlag = 0\r\n                    if (Date.now() - eyouClientKs.getIns().screenRecordingTime < 3000) {\r\n                        if (this.CommonTip.node.active !== true) {\r\n                            this.CommonTip.node.active = true\r\n                            this.CommonTip.ShowPanel({text: '录屏时间必须大于3秒'});\r\n                        }\r\n                        return\r\n                    }\r\n                    if (this.CommonTip.node.active !== true) {\r\n                        console.log(\"是否分享本次录屏:\",stopRes)\r\n                        this.CommonTip.node.active = true\r\n                        this.CommonTip.ShowPanel({text: '是否分享本次录屏', forWhat: 'shareVideo', videoPath: stopRes.videoId});\r\n                    }\r\n                },\r\n                onError: errMsg => {\r\n                    const error = errMsg.error\r\n                    console.error('录屏错误信息:>', error)\r\n                    eyouClientKs.getIns().screenRecordingFlag = 0\r\n                    this.syncScreenRecordingShow()\r\n                    if (error.code === ks.error.GameRecorder_RecordFailedTimeRangeTooShort){\r\n                        if (this.CommonTip.node.active !== true) {\r\n                            this.CommonTip.node.active = true\r\n                            this.CommonTip.ShowPanel({text: '录制结束，录制时间太短'});\r\n                        }\r\n                    }\r\n                    if (error.code === ks.error.GameRecorder_RecordFailedTimeRangeTooLong){\r\n                        if (this.CommonTip.node.active !== true) {\r\n                            this.CommonTip.node.active = true\r\n                            this.CommonTip.ShowPanel({text: '录制结束，录制时间太长'});\r\n                        }\r\n                    }\r\n                    if (error.code === ks.error.GameRecorder_RecordFailedNoVideo){\r\n                        if (this.CommonTip.node.active !== true) {\r\n                            this.CommonTip.node.active = true\r\n                            this.CommonTip.ShowPanel({text: '录制结束，未录制到视频'});\r\n                        }\r\n                    }\r\n                    if (error.code === ks.error.GameRecorder_PublishVideoFailed){\r\n                        if (this.CommonTip.node.active !== true) {\r\n                            this.CommonTip.node.active = true\r\n                            this.CommonTip.ShowPanel({text: '录屏失败'});\r\n                        }\r\n                    }\r\n\r\n                },\r\n                onAbort: res => {\r\n                    eyouClientKs.getIns().screenRecordingFlag = 0\r\n                    this.syncScreenRecordingShow()\r\n                    if (this.CommonTip.node.active !== true) {\r\n                        this.CommonTip.node.active = true\r\n                        this.CommonTip.ShowPanel({text: '录屏时间必须小于300秒'});\r\n                    }\r\n                }\r\n            }\r\n\r\n            // 创建录屏管理工具\r\n            eyouClientKs.getIns().createGameRecorder(createGameRecorderInfo, createGameRecorderCallback => {\r\n                console.log('创建快手录屏管理工具回调:>', createGameRecorderCallback)\r\n                if (createGameRecorderCallback.code === 0) {\r\n                    this.screenRecordingBtn.active = true\r\n                }\r\n            })\r\n        }else {\r\n            this.screenRecordingBtn.active = false\r\n        }\r\n    },\r\n\r\n    onBtnScreenRecordingClick() {\r\n        let isKuaiShou = false;\r\n        if (typeof ks !== 'undefined') {\r\n            //运行在快手平台\r\n            isKuaiShou = true;\r\n        }\r\n        if (cc.sys.BYTEDANCE_GAME === cc.sys.platform) {\r\n            if (eyouClientTiktok.getIns().screenRecordingFlag === 0) {\r\n                eyouClientTiktok.getIns().gameRecorderStart({duration: 300})\r\n                eyouClientTiktok.getIns().screenRecordingFlag = 1\r\n                eyouClientTiktok.getIns().screenRecordingTime = Date.now()\r\n            } else {\r\n                eyouClientTiktok.getIns().gameRecorderStop()\r\n                eyouClientTiktok.getIns().screenRecordingFlag = 0\r\n            }\r\n        }else {\r\n            if (eyouClientKs.getIns().screenRecordingFlag === 0) {\r\n                eyouClientKs.getIns().gameRecorderStart()\r\n                eyouClientKs.getIns().screenRecordingFlag = 1\r\n                eyouClientKs.getIns().screenRecordingTime = Date.now()\r\n            } else {\r\n                console.log(\"按钮点击了停止录屏事件\")\r\n                eyouClientKs.getIns().gameRecorderStop()\r\n                eyouClientKs.getIns().screenRecordingFlag = 0\r\n            }\r\n        }\r\n\r\n        this.syncScreenRecordingShow()\r\n    },\r\n\r\n    syncScreenRecordingShow() {\r\n        let isKuaiShou = false;\r\n        if (typeof ks !== 'undefined') {\r\n            //运行在快手平台\r\n            isKuaiShou = true;\r\n        }\r\n        const index = isKuaiShou ? eyouClientKs.getIns().screenRecordingFlag : eyouClientTiktok.getIns().screenRecordingFlag\r\n        let path = '/atlas/screenRecording-' + index;\r\n        cc.loader.loadRes(path, cc.SpriteFrame, (err, spriteFrame) => {\r\n                if (err) {\r\n                    console.error('set sprite frame failed! err', path, err)\r\n                    return\r\n                }\r\n                this.screenRecordingBtn.getComponent(cc.Sprite).spriteFrame = spriteFrame\r\n        });\r\n    },\r\n\r\n    desktopUseBtnShow() {\r\n        if (typeof ks !== 'undefined') {\r\n            //运行在快手平台\r\n            //检查用户是否已经将小游戏设为常用\r\n            let use = this.useBtn;\r\n            ks.checkCommonUse({\r\n                success(res) {\r\n                    console.log(`设为常用查询结果为：${res.isCommonUse}`);\r\n                    use.active = !res.isCommonUse;\r\n                },\r\n                fail(err) {\r\n                    console.log(\"小游戏设为常用失败回调:\",JSON.stringify(err))\r\n                },\r\n                complete(res){\r\n                    console.log(\"小游戏设为常用回调:\",JSON.stringify(res))\r\n                }\r\n            });\r\n\r\n\r\n            //检查小游戏快捷方式是否已添加到手机桌面上，仅 Android 支持\r\n            let desktop = this.desktopBtn;\r\n            ks.checkShortcut({\r\n                success(res) {\r\n                    //根据res.installed 来判断是否添加成功\r\n                    console.log(\"是否已添加快捷方式\", res.installed);\r\n                    desktop.active = !res.installed;\r\n                },\r\n                fail(err) {\r\n                    if (err.code === -10005) {\r\n                        console.log(\"暂不支持检查用户是否已添加手机桌面该功能\");\r\n                    } else {\r\n                        console.log(\"检查快捷方式失败\", err.msg);\r\n                        //注意：快捷方式和mini apk的方式，用户装了哪种都算成功走success回调。\r\n                        //但是如果都没装的情况下，为兼容以前版本，会先判断快捷方式，再判断mini apk的方式，这种情况最后会走到fail回调\r\n                        //所以当err.msg为\"apk info is invalid\"的情况出现时，也可以在游戏内展示添加桌面的icon提醒用户。\r\n                    }\r\n                },\r\n            });\r\n\r\n\r\n        }else {\r\n            this.desktopBtn.active = false\r\n            this.useBtn.active = false\r\n        }\r\n    },\r\n\r\n\r\n    onDesktopClick() {\r\n        if (typeof ks !== 'undefined') {\r\n            //运行在快手平台\r\n            eyouClientKs.getIns().addShortcut(res =>{\r\n                console.log(\"添加桌面快捷方式结果:\",JSON.stringify(res))\r\n            })\r\n        }\r\n    },\r\n\r\n    onUseClick() {\r\n        if (typeof ks !== 'undefined') {\r\n            //运行在快手平台\r\n            eyouClientKs.getIns().addCommonUse(res =>{\r\n                console.log(\"设为常用结果:\",JSON.stringify(res))\r\n            })\r\n        }\r\n    },\r\n\r\n    refreshAdsSp:function (seed) {\r\n        if(seed == 1)\r\n            this.AdSp = \"aishen\";\r\n        else if(seed == 2)\r\n            this.AdSp = \"dushen\";\r\n        else if(seed == 3)\r\n            this.AdSp = \"caishen\";\r\n        else\r\n            this.AdSp = \"gushen\";\r\n\r\n        this.WatchAdsBtn.spriteFrame = this.BigApAtlas.getSpriteFrame(this.AdSp);\r\n    },\r\n\r\n    //初始化现金\r\n    initCash:function(){\r\n        var seed = Math.random();\r\n        if(cc.Mgr.UserDataMgr.tutorialInMarket == false)\r\n        {\r\n            seed = 0.999;\r\n        }\r\n    \t\r\n        var param = {};\r\n\r\n    \tif(seed <= cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Cash, 1).weight)\r\n        {\r\n            cc.Mgr.global.InitGetMoneyId = 1;\r\n            param.text = cc.Mgr.global.getTranslation(\"Cash_1\"); //cc.director.NoticeText.Cash_1;\r\n    \t\tcc.Mgr.UserDataMgr.Cash = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Cash, 1).cash;\r\n        }\r\n    \telse if(seed <= cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Cash, 1).weight + cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Cash, 2).weight)\r\n\t\t{\r\n            cc.Mgr.global.InitGetMoneyId = 2;\r\n            param.text = cc.Mgr.global.getTranslation(\"Cash_2\");//cc.director.NoticeText.Cash_2;\r\n            cc.Mgr.UserDataMgr.Cash = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Cash, 2).cash;\r\n        }\r\n    \telse\r\n        {\r\n            cc.Mgr.global.InitGetMoneyId = 3;\r\n            this.TipCashSp.spriteFrame = this.MainAtlas.getSpriteFrame(\"bsqj\");\r\n            param.text = cc.Mgr.global.getTranslation(\"Cash_3\");//cc.director.NoticeText.Cash_3;\r\n    \t\tcc.Mgr.UserDataMgr.Cash = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Cash, 3).cash;\r\n        }\r\n\r\n        if(this.CommonTip.active == true)\r\n        {\r\n            //cc.log(\"通用提示已经在展示\");\r\n        }\r\n        else\r\n        {\r\n            this.CommonTip.node.active = true;\r\n            this.CommonTip.ShowPanel(param);\r\n        }\r\n        cc.Mgr.UserDataMgr.Cash += cc.Mgr.UserDataMgr.InitMoneyBonus;//加上初始加成\r\n        \r\n        cc.Mgr.UserDataMgr.AssetsMoney = cc.Mgr.UserDataMgr.Cash;\r\n        cc.Mgr.UserDataMgr.HighAssets = cc.Mgr.UserDataMgr.AssetsMoney;\r\n    },\r\n    //初始化Top UI \r\n    initTopUIData:function () {\r\n    \tthis.initCash();\r\n    \tthis.CashLbl.string = cc.Mgr.global.FormatNum(cc.Mgr.UserDataMgr.Cash);\r\n    \tthis.AssetLbl.string = cc.Mgr.global.FormatNum(cc.Mgr.UserDataMgr.AssetsMoney);\r\n    \tthis.CurAgeLbl.string = cc.Mgr.UserDataMgr.Age;\r\n        this.TotalAgeLbl.string = cc.Mgr.UserDataMgr.retireAge;\r\n    \tthis.HpLbl.string = cc.Mgr.UserDataMgr.HpPoint;\r\n    \tthis.ReputationLbl.string = cc.Mgr.UserDataMgr.Reputation;\r\n        var lastCap = cc.Mgr.UserDataMgr.WareHouseAllCapcity - cc.Mgr.UserDataMgr.WareHouseCapcity;\r\n    \tthis.CapcityLbl.string = \"(\"+lastCap +\"/\"+cc.Mgr.UserDataMgr.WareHouseAllCapcity+\")\";\r\n    },\r\n    //初始化市场 items\r\n    InitMarketItems:function(){\r\n        cc.Mgr.UserDataMgr.ClearShowGoodsList();\r\n\r\n        var DataList = cc.Mgr.MapDataMgr.getDataListBySex(cc.Mgr.UserDataMgr.Sex);\r\n        var showArr = this.getArrayByItems(DataList.length, 5);\r\n        var param = [];\r\n        for (var i = DataList.length - 1; i >= 0; i--) {\r\n            var data = DataList[i];\r\n            var obj = cc.instantiate(this.MarketItem);\r\n            obj.parent = this.MarketParent;\r\n            obj.active = false;\r\n            obj.getComponent(\"GoodsItem\").init(data);\r\n            for (var j = showArr.length - 1; j >= 0; j--) {\r\n                if(i == showArr[j])\r\n                {\r\n                    var data = null;\r\n                    if(cc.Mgr.UserDataMgr.tutorialInMarket == false)\r\n                    {\r\n                        data = obj.getComponent(\"GoodsItem\").refreshLowPrice();\r\n                    }\r\n                    else\r\n                    {\r\n                        data = obj.getComponent(\"GoodsItem\").refreshPrice();\r\n                    }\r\n                    param.push(data);\r\n                    cc.Mgr.UserDataMgr.InsertGoodsIdToList(data.Id);\r\n                    obj.active = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        this.MarketTipPanel.node.active = true;\r\n        this.MarketTipPanel.ShowPanel(param);\r\n\r\n        if(cc.Mgr.UserDataMgr.tutorialInMarket == false)\r\n        {\r\n            cc.Mgr.global.tutorialStep = 11;//开始引导第一步\r\n            var self = this;\r\n            this.TutorialPanel.SetCallFunc(function(){\r\n                cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenBuyTip, param[0]);\r\n                cc.Mgr.global.tutorialStep = 12;\r\n                var dt = {};\r\n                dt.step = 12;\r\n                self.TutorialPanel.ShowPanel(dt);\r\n                self.TutorialPanel.SetCallFunc(function(){\r\n                    cc.Mgr.global.tutorialGoodsId = self.BuyTip.ClickBuyBtn();\r\n                    cc.Mgr.global.tutorialStep = 13;\r\n                    var d3 = {};\r\n                    d3.step = 13;\r\n                    self.TutorialPanel.ShowPanel(d3);\r\n                    self.TutorialPanel.SetCallFunc(function(){\r\n                        //self.RefreshDataToNextYear();\r\n                        self.ToNextYear();\r\n                        cc.Mgr.global.tutorialStep = 14;\r\n                        var d4 = {};\r\n                        d4.step = 14;\r\n                        self.TutorialPanel.ShowPanel(d4);\r\n                        self.TutorialPanel.SetCallFunc(function(){\r\n                            cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenSaleTip, cc.Mgr.UserDataMgr.getGoodsDataById(param[0].Id));\r\n                            cc.Mgr.global.tutorialStep = 15;\r\n                            var d5 = {};\r\n                            d5.step = 15;\r\n                            self.TutorialPanel.ShowPanel(d5);\r\n                            self.TutorialPanel.SetCallFunc(function(){\r\n                                self.SaleTip.ClickSaleBtn();\r\n                                cc.Mgr.global.tutorialStep = -1;\r\n                                cc.Mgr.UserDataMgr.tutorialInMarket = true;\r\n                                self.TutorialPanel.node.active = false;\r\n                            });\r\n                        });\r\n                    });\r\n                });\r\n            }); \r\n        }\r\n    },\r\n\r\n    //向下刷新一年\r\n    RefreshDataToNextYear:function(){\r\n        if(cc.Mgr.global.tutorialStep == 13)\r\n        {\r\n            //cc.log(\"引导时间=====================\");\r\n            cc.Mgr.UserDataMgr.RefreshUserAge();\r\n            this.RefreshTutorialItems();\r\n        }\r\n        else\r\n        {\r\n            this.TimePanel.node.active = true;\r\n            this.TimePanel.PlayAnima();\r\n        }\r\n        /*\r\n        cc.Mgr.UserDataMgr.RefreshUserAge();\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        this.CheckTutorialHappen();\r\n\r\n        this.RefreshCompanyItems();\r\n        if(cc.Mgr.global.tutorialStep == 13)\r\n        {\r\n            this.RefreshTutorialItems();\r\n        }\r\n        else\r\n        {\r\n            this.RefreshItems();\r\n        }\r\n\r\n        this.RefreshOwnedItemsState();\r\n\r\n        cc.Mgr.UserDataMgr.RefreshUserAssets(true);\r\n        \r\n        //加成奖励\r\n        cc.Mgr.UserDataMgr.GetBonusRewardEveryYear();\r\n\r\n        cc.Mgr.UserDataMgr.RefreshHealthHp();\r\n\r\n        this.RefreshUIShow();\r\n\r\n        this.CheckEventHappen();\r\n        */\r\n    },\r\n\r\n    ToNextYear:function(){\r\n        this.marketTipData = null;\r\n\r\n        cc.Mgr.UserDataMgr.RefreshUserAge();\r\n        //cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        this.CheckTutorialHappen();\r\n\r\n        this.RefreshCompanyItems();\r\n        if(cc.Mgr.global.tutorialStep == 13)\r\n        {\r\n            ////cc.log(\"==============================引导时间==============================\");\r\n            this.RefreshTutorialItems();\r\n        }\r\n        else\r\n        {\r\n            if(cc.Mgr.UserDataMgr.Age == 22 || cc.Mgr.UserDataMgr.Age == 24 || cc.Mgr.UserDataMgr.Age == 25\r\n                || cc.Mgr.UserDataMgr.Age == 27 || cc.Mgr.UserDataMgr.Age == 28 || cc.Mgr.UserDataMgr.Age == 30)\r\n            {\r\n                this.RefreshItemsForSpecialAge();\r\n            }else\r\n            {\r\n                this.RefreshItems();\r\n            }\r\n            \r\n        }\r\n\r\n        this.RefreshOwnedItemsState();\r\n        //加成奖励\r\n        cc.Mgr.UserDataMgr.GetBonusRewardEveryYear();\r\n\r\n        cc.Mgr.UserDataMgr.RefreshUserAssets(true);\r\n        \r\n\r\n        cc.Mgr.UserDataMgr.RefreshHealthHp();\r\n\r\n        this.RefreshUIShow();\r\n\r\n        this.CheckEventHappen();\r\n    },\r\n\r\n    CheckTutorialHappen:function(){\r\n        if(cc.Mgr.UserDataMgr.Age == 25 && cc.Mgr.UserDataMgr.tutorialInDate == false)\r\n        {\r\n            cc.Mgr.global.tutorialStep = TutorialStep.MateDate_1;\r\n            var dt = {};\r\n            dt.step = TutorialStep.MateDate_1;\r\n            this.TutorialPanel.node.active = true;\r\n            this.TutorialPanel.ShowPanel(dt);\r\n            var self = this;\r\n            self.TutorialPanel.SetCallFunc(function(){\r\n                self.ChooseOpenMatePanel();\r\n                cc.Mgr.global.tutorialStep = TutorialStep.MateDate_2;\r\n                var dt = {};\r\n                dt.step = TutorialStep.MateDate_2;\r\n                self.TutorialPanel.ShowPanel(dt);\r\n                self.TutorialPanel.SetCallFunc(function(){\r\n                    cc.Mgr.global.tutorialStep = -1;\r\n                    self.TutorialPanel.node.active = false;\r\n                    cc.Mgr.UserDataMgr.tutorialInDate = true;\r\n                });\r\n            });\r\n        }\r\n        if(cc.Mgr.UserDataMgr.Age == 30 && cc.Mgr.UserDataMgr.tutorialInBus == false)\r\n        {\r\n            cc.Mgr.global.tutorialStep = TutorialStep.Business_1;\r\n            var dt = {};\r\n            dt.step = TutorialStep.Business_1;\r\n            this.TutorialPanel.node.active = true;\r\n            this.TutorialPanel.ShowPanel(dt);\r\n            var self = this;\r\n            self.TutorialPanel.SetCallFunc(function(){\r\n                self.ChooseOpenBusisness();\r\n                cc.Mgr.global.tutorialStep = TutorialStep.Business_2;\r\n                var dt = {};\r\n                dt.step = TutorialStep.Business_2;\r\n                self.TutorialPanel.ShowPanel(dt);\r\n                self.TutorialPanel.SetCallFunc(function(){\r\n                    cc.Mgr.global.tutorialStep = -1;\r\n                    self.TutorialPanel.node.active = false;\r\n                    cc.Mgr.UserDataMgr.tutorialInBus = true;\r\n                });\r\n            });\r\n        }\r\n\r\n        if(cc.Mgr.UserDataMgr.hasCompany == true && cc.Mgr.UserDataMgr.tutorialStockBonus == false)\r\n        {\r\n            cc.Mgr.global.tutorialStep = TutorialStep.StockBonus_1;\r\n            var dt = {};\r\n            dt.step = TutorialStep.StockBonus_1;\r\n            this.TutorialPanel.node.active = true;\r\n            this.TutorialPanel.ShowPanel(dt);\r\n            var self = this;\r\n            self.TutorialPanel.SetCallFunc(function(){\r\n                cc.Mgr.global.tutorialStep = -1;\r\n                self.TutorialPanel.node.active = false;\r\n                cc.Mgr.UserDataMgr.tutorialStockBonus = true;\r\n            });\r\n        }\r\n    },\r\n\r\n    StartMateLoveTutorial:function(){\r\n        if(cc.Mgr.UserDataMgr.tutorialMatePoint == false)\r\n        {\r\n            cc.Mgr.global.tutorialStep = TutorialStep.DateToMarry_1;\r\n            var dt = {};\r\n            dt.step = TutorialStep.DateToMarry_1;\r\n            this.TutorialPanel.node.active = true;\r\n            this.TutorialPanel.ShowPanel(dt);\r\n            var self = this;\r\n            self.TutorialPanel.SetCallFunc(function(){\r\n                cc.Mgr.global.tutorialStep = -1;\r\n                self.TutorialPanel.node.active = false;\r\n                cc.Mgr.UserDataMgr.tutorialMatePoint = true;\r\n            });\r\n        }\r\n    },\r\n\r\n    CheckEventHappen:function(){\r\n        if(cc.Mgr.global.tutorialStep != -1)\r\n        {\r\n            return;\r\n        }\r\n        if(cc.Mgr.UserDataMgr.Age <= 25)\r\n        {\r\n            return;\r\n        }\r\n\r\n        if(cc.Mgr.UserDataMgr.EventDataIdList.length == 0)\r\n        {\r\n            //cc.log(\"沒有事件Id 了  直接返回\");\r\n            return;\r\n        }\r\n\r\n         \r\n        if(cc.Mgr.UserDataMgr.Age == cc.Mgr.global.LastEventAge)\r\n        {   \r\n            var eId = cc.Mgr.UserDataMgr.GetEventDataAndSpliceId();\r\n            this.EventPanel.node.active = true;\r\n            this.EventPanel.ShowPanel(eId);\r\n            cc.Mgr.global.LastEventAge = cc.Mgr.UserDataMgr.Age;\r\n        }\r\n        else\r\n        {\r\n            var seed = cc.Mgr.global.SpawnSeedBetweenTwoNum(2,3);\r\n            //cc.log(\"cc.Mgr.UserDataMgr.Age = \"+  cc.Mgr.UserDataMgr.Age+\"   seed = \" + seed + \"  事件------------------ LastEventAge \" + cc.Mgr.global.LastEventAge);\r\n            if(cc.Mgr.UserDataMgr.Age - seed >= cc.Mgr.global.LastEventAge)\r\n            {\r\n                var eId = cc.Mgr.UserDataMgr.GetEventDataAndSpliceId();\r\n                this.EventPanel.node.active = true;\r\n                this.EventPanel.ShowPanel(eId);\r\n                cc.Mgr.global.LastEventAge = cc.Mgr.UserDataMgr.Age;\r\n            }\r\n        } \r\n    },\r\n\r\n\r\n    //刷新UI\r\n    RefreshUIShow:function(){\r\n        this.ReputationLbl.string = cc.Mgr.UserDataMgr.Reputation;\r\n        this.CashLbl.string = cc.Mgr.global.FormatNum(cc.Mgr.UserDataMgr.Cash);\r\n        this.AssetLbl.string = cc.Mgr.global.FormatNum(cc.Mgr.UserDataMgr.AssetsMoney);\r\n        this.CurAgeLbl.string = cc.Mgr.UserDataMgr.Age;\r\n        this.TotalAgeLbl.string = cc.Mgr.UserDataMgr.retireAge;\r\n        this.HpLbl.string = cc.Mgr.UserDataMgr.HpPoint;\r\n        this.RefreshHpIconSp();\r\n        var lastCap = cc.Mgr.UserDataMgr.WareHouseAllCapcity - cc.Mgr.UserDataMgr.WareHouseCapcity;\r\n        this.CapcityLbl.string = \"(\"+lastCap +\"/\"+cc.Mgr.UserDataMgr.WareHouseAllCapcity+\")\";\r\n        if(cc.Mgr.UserDataMgr.AssetsMoney < 100000)\r\n        {\r\n            this.TipCashSp.spriteFrame = this.MainAtlas.getSpriteFrame(\"bsqj\");\r\n        }\r\n        else if(cc.Mgr.UserDataMgr.AssetsMoney > 100000 &&cc.Mgr.UserDataMgr.AssetsMoney < 1000000)\r\n        {\r\n            this.TipCashSp.spriteFrame = this.MainAtlas.getSpriteFrame(\"scxx\");\r\n        }\r\n        else if(cc.Mgr.UserDataMgr.AssetsMoney > 1000000 &&cc.Mgr.UserDataMgr.AssetsMoney < 10000000)\r\n        {\r\n            this.TipCashSp.spriteFrame = this.MainAtlas.getSpriteFrame(\"sylx\");\r\n        }\r\n        else if(cc.Mgr.UserDataMgr.AssetsMoney > 100000000)\r\n        {\r\n            this.TipCashSp.spriteFrame = this.MainAtlas.getSpriteFrame(\"bdzc\");\r\n        }\r\n    },\r\n\r\n    RefreshHpIconSp:function(){\r\n        if(cc.Mgr.UserDataMgr.HpPoint >= cc.Mgr.global.HpStateA)\r\n        {\r\n            this.HpIcon.spriteFrame = this.MainAtlas.getSpriteFrame(\"state_1\");\r\n        }\r\n        else if(cc.Mgr.UserDataMgr.HpPoint >= cc.Mgr.global.HpStateB)\r\n        {\r\n            this.HpIcon.spriteFrame = this.MainAtlas.getSpriteFrame(\"state_2\");\r\n        }\r\n        else if(cc.Mgr.UserDataMgr.HpPoint <= cc.Mgr.global.HpStateC)\r\n        {\r\n            this.HpIcon.spriteFrame = this.MainAtlas.getSpriteFrame(\"state_3\");\r\n        }\r\n    },\r\n\r\n    //约会完成数据刷新返回\r\n    RefreshMateItemUI:function(Id){\r\n        this.MatePanel.RefreshPanel(Id)\r\n    },\r\n\r\n    //随着年份刷新 刷新展示的物品 只刷出高价\r\n    RefreshTutorialItems:function(){\r\n        var children = this.MarketParent.children;\r\n        var param = [];//数据\r\n        this.marketTipData = null;\r\n        for (var i = children.length - 1; i >= 0; i--) { \r\n            var sc = children[i].getComponent(\"GoodsItem\");\r\n            if(sc != null)\r\n            {\r\n                var data = null;\r\n                if(children[i].active == true && sc.Id == cc.Mgr.global.tutorialGoodsId)\r\n                {\r\n                    data = sc.refreshUpPrice();\r\n                }\r\n                else\r\n                {\r\n                    data = sc.refreshPrice();\r\n                }\r\n                param.push(data);\r\n            }\r\n        }\r\n        this.marketTipData = param;\r\n    },\r\n\r\n    CheckHasElement:function(outarr, index){\r\n        for (var j = 0; j < outarr.length; j++) {\r\n            if(index == outarr[j])\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n\r\n    //随着年份刷新 刷新展示的物品  特别年份\r\n    RefreshItemsForSpecialAge:function(){\r\n        cc.Mgr.UserDataMgr.ClearShowGoodsList();\r\n        var children = this.MarketParent.children;\r\n        var outarr = [];\r\n        var stateList = [];\r\n        for (var i = 0; i < children.length; i++) {\r\n           var sc = children[i].getComponent(\"GoodsItem\");\r\n           if(sc != null)\r\n           {\r\n                var has = cc.Mgr.UserDataMgr.JudeGoodsOwned(sc.Id);\r\n                if(has)\r\n                {\r\n                    var par = {};\r\n                    par.Id = sc.Id;\r\n                    par.State = sc.State;\r\n                    stateList.push(par);\r\n                    outarr.push(i);\r\n                }\r\n           }\r\n        }\r\n        var list = [];\r\n        for (var i = children.length - 1; i >= 0; i--) {\r\n            if(this.CheckHasElement(outarr, i) == false)\r\n            {\r\n                list.push(i);\r\n            }\r\n        }\r\n\r\n        var showArr = this.getArrayItems(list, 5-outarr.length);\r\n        for (var i = outarr.length - 1; i >= 0; i--) {\r\n            showArr.push(outarr[i]);\r\n        }\r\n        \r\n        var param = [];//数据\r\n        for (var i = children.length - 1; i >= 0; i--) { \r\n            children[i].active = false;\r\n            var sc = children[i].getComponent(\"GoodsItem\");\r\n            if(sc != null)\r\n            {\r\n                //sc.refreshPrice();\r\n                for (var j = showArr.length - 1; j >= 0; j--) {\r\n                    if(i == showArr[j])\r\n                    {\r\n                        var data = null;\r\n                        if(sc.Id == 1 || sc.Id == 3)\r\n                        {\r\n                            data = sc.refreshMidPrice();\r\n                        }\r\n                        else\r\n                        {\r\n                            var outdata = this.JudeGoodsHas(stateList, sc.Id);\r\n                            if(outdata.has == true)\r\n                            {\r\n                                if(outdata.State == 0)\r\n                                {\r\n                                    data = sc.refreshMidPrice();\r\n                                }\r\n                                if(outdata.State >= 1)\r\n                                {\r\n                                    data = sc.refreshUpPrice();\r\n                                }\r\n                            }\r\n                            else\r\n                            {\r\n                                data = sc.refreshPrice();\r\n                            }\r\n                        }\r\n                        param.push(data);\r\n                        cc.Mgr.UserDataMgr.InsertGoodsIdToList(sc.Id);\r\n                        children[i].active = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if(cc.Mgr.global.tutorialStep != -1)//(cc.Mgr.UserDataMgr.Age == 25 && cc.Mgr.UserDataMgr.tutorialInDate == false) || (cc.Mgr.UserDataMgr.Age == 30 && cc.Mgr.UserDataMgr.tutorialInBus == false))\r\n        {\r\n            //cc.log(\"引导阶段\")\r\n        }\r\n        else\r\n        {\r\n            this.MarketTipPanel.node.active = true;\r\n            this.MarketTipPanel.ShowPanel(param);\r\n        }    \r\n    },\r\n\r\n    JudeGoodsHas:function(List, Id){\r\n        var out = {};\r\n        out.State = 0; \r\n        out.has = false;\r\n        for (var i = 0; i < List.length; i++) {\r\n            if(List[i].Id == Id)\r\n            {\r\n                out.State = List[i].State; \r\n                out.has = true;\r\n                return out;\r\n            }\r\n        }\r\n        return out;\r\n    },\r\n\r\n    //随着年份刷新 刷新展示的物品\r\n    RefreshItems:function(){\r\n        cc.Mgr.UserDataMgr.ClearShowGoodsList();\r\n        //var DataList = cc.Mgr.MapDataMgr.getDataListByItemType(ItemType.Goods);\r\n        var children = this.MarketParent.children;\r\n        var outarr =[];\r\n        if(cc.Mgr.global.GoodsForeId != -1)\r\n        {\r\n            for (var i = children.length - 1; i >= 0; i--) {\r\n                var sc = children[i].getComponent(\"GoodsItem\");\r\n                if(sc != null)\r\n                {\r\n                    if(cc.Mgr.global.GoodsForeId == sc.Id)\r\n                    {\r\n                        outarr.push(i);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var list = [];\r\n        for (var i = children.length - 1; i >= 0; i--) {\r\n            if(this.CheckHasElement(outarr, i) == false)\r\n            {\r\n                list.push(i);\r\n            }\r\n        }\r\n        var showArr = this.getArrayItems(list, 5-outarr.length);\r\n        for (var i = outarr.length - 1; i >= 0; i--) {\r\n            showArr.push(outarr[i]);\r\n        }\r\n        \r\n        var param = [];//数据\r\n        for (var i = children.length - 1; i >= 0; i--) { \r\n            children[i].active = false;\r\n            var sc = children[i].getComponent(\"GoodsItem\");\r\n            if(sc != null)\r\n            {\r\n                for (var j = showArr.length - 1; j >= 0; j--) {\r\n                    if(i == showArr[j])\r\n                    {\r\n                        var data = null;\r\n                        if(sc.Id == cc.Mgr.global.GoodsForeId)\r\n                        {\r\n                            var rat = Math.random();\r\n                            if(rat < 0.7)\r\n                            {\r\n                                if(sc.State == 0)\r\n                                    data = sc.refreshMidPrice();\r\n                                else if(sc.State == 1)\r\n                                    data = sc.refreshUpPrice();\r\n                            }\r\n                            cc.Mgr.global.GoodsForeId = -1;\r\n                        }\r\n                        else\r\n                        {\r\n                            if(j == 3)\r\n                                data = sc.refreshMidPrice();\r\n                            else\r\n                                data = sc.refreshPrice();\r\n                        }\r\n                        param.push(data);\r\n                        cc.Mgr.UserDataMgr.InsertGoodsIdToList(sc.Id);\r\n                        children[i].active = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if(cc.Mgr.global.tutorialStep != -1)//(cc.Mgr.UserDataMgr.Age == 25 && cc.Mgr.UserDataMgr.tutorialInDate == false) || (cc.Mgr.UserDataMgr.Age == 30 && cc.Mgr.UserDataMgr.tutorialInBus == false))\r\n        {\r\n            //cc.log(\"引导阶段\")\r\n        }\r\n        else\r\n        {\r\n            this.MarketTipPanel.node.active = true;\r\n            this.MarketTipPanel.ShowPanel(param);\r\n        }    \r\n    },\r\n    //0-arrNum 之间随机抽取 num 个数出来\r\n    getArrayByItems:function(arrNum, num){\r\n        //新建一个数组,将传入的数组复制过来,用于运算,而不要直接操作传入的数组;\r\n        var temp_array = new Array();\r\n        for (var index =0; index < arrNum ; index++) {\r\n            temp_array.push(index);\r\n        }\r\n        //取出的数值项,保存在此数组\r\n        var return_array = new Array();\r\n        for (var i = 0; i<num; i++) {\r\n            //判断如果数组还有可以取出的元素,以防下标越界\r\n            if (temp_array.length>0) {\r\n                //在数组中产生一个随机索引\r\n                var arrIndex = Math.floor(Math.random()*temp_array.length);\r\n                //将此随机索引的对应的数组元素值复制出来\r\n                return_array[i] = temp_array[arrIndex];\r\n                ////cc.log(\"+++++++++++++++++++++++++++\" + return_array[i]);\r\n                //然后删掉此索引的数组元素,这时候temp_array变为新的数组\r\n                temp_array.splice(arrIndex, 1);\r\n            } else {\r\n                //数组中数据项取完后,退出循环,比如数组本来只有10项,但要求取出20项.\r\n                break;\r\n            }\r\n        }\r\n        return return_array;\r\n    },\r\n    //从数组arr中随机选取 num 个数\r\n    getArrayItems:function(arr, num){\r\n        //新建一个数组,将传入的数组复制过来,用于运算,而不要直接操作传入的数组;\r\n        var temp_array = new Array();\r\n        for (var index =0; index < arr.length ; index++) {\r\n            temp_array.push(arr[index]);\r\n            //cc.log(\"塞进去的数值 = \" + arr[index]);\r\n        }\r\n        //取出的数值项,保存在此数组\r\n        var return_array = new Array();\r\n        for (var i = 0; i<num; i++) {\r\n            //判断如果数组还有可以取出的元素,以防下标越界\r\n            if (temp_array.length > 0) {\r\n                //在数组中产生一个随机索引\r\n                var arrIndex = Math.floor(Math.random()*temp_array.length);\r\n                //将此随机索引的对应的数组元素值复制出来\r\n                return_array[i] = temp_array[arrIndex];\r\n                //然后删掉此索引的数组元素,这时候temp_array变为新的数组\r\n                temp_array.splice(arrIndex, 1);\r\n            } else {\r\n                //数组中数据项取完后,退出循环,比如数组本来只有10项,但要求取出20项.\r\n                break;\r\n            }\r\n        }\r\n        return return_array;\r\n    },\r\n\r\n    //初始化 已经拥有物品\r\n    InitOwnedItems:function(){\r\n        var DataList = cc.Mgr.UserDataMgr.getOwnDataListByType(ItemType.Goods);\r\n        for (var i = DataList.length - 1; i >= 0; i--) {\r\n            var data = DataList[i];\r\n            var obj = cc.instantiate(this.OwnItem);\r\n            obj.parent = this.OwnParent;\r\n            obj.active = false;\r\n            if(data.ownNum > 0)\r\n            {\r\n                obj.active = true;\r\n            }\r\n            obj.getComponent(\"OwnItem\").init(data);\r\n        }\r\n    },\r\n    //购买和出售后刷新已经有的物品\r\n    RefreshOwnedItems:function(data){\r\n        var children = this.OwnParent.children;\r\n        for (var i = children.length - 1; i >= 0; i--) {\r\n            var sc = children[i].getComponent(\"OwnItem\");\r\n            if(sc != null)\r\n            {\r\n                if(sc.Id == data.Id)\r\n                {\r\n                    sc.refreshData(data);\r\n                    if(data.ownNum > 0)\r\n                    {\r\n                        children[i].active = true;\r\n                    }\r\n                    else\r\n                    {\r\n                       children[i].active = false; \r\n                    }\r\n                    break;\r\n                }\r\n            } \r\n        }\r\n    },\r\n\r\n    RefreshOwnedItemsState:function(){\r\n        var children = this.OwnParent.children;\r\n        for (var i = children.length - 1; i >= 0; i--) {\r\n            var sc = children[i].getComponent(\"OwnItem\");\r\n            if(sc != null && children[i].active == true)\r\n            {\r\n                sc.RefreshState();\r\n            } \r\n        }\r\n    },\r\n\r\n    //初始化股市数据\r\n    InitCompanyItems:function(){\r\n        var DataList = cc.Mgr.UserDataMgr.getOwnDataListByType(ItemType.Company)\r\n        for (var i = DataList.length - 1; i >= 0; i--) {\r\n            var data = DataList[i];\r\n            var obj = cc.instantiate(this.CompanyItem);\r\n            obj.parent = this.CompanyParent;\r\n            obj.active = true;\r\n            obj.getComponent(\"CompanyItem\").init(data);\r\n        }\r\n    },\r\n\r\n    //刷新股市数据\r\n    RefreshCompanyItems:function(){\r\n        var children = this.CompanyParent.children;\r\n        var canProfit = false;\r\n        for (var i = children.length - 1; i >= 0; i--) {\r\n            var sc = children[i].getComponent(\"CompanyItem\");\r\n            if(sc != null)\r\n            {\r\n                sc.refreshPrice();\r\n                if(sc.canGetProfit == true)\r\n                {\r\n                    canProfit = true;\r\n                }\r\n            }\r\n        }\r\n        if(canProfit == true)\r\n        {\r\n            cc.Mgr.UserDataMgr.CanGetStockProfit = true;\r\n            cc.Mgr.global.showStockProfit = true;\r\n        }\r\n        else\r\n        {\r\n            cc.Mgr.UserDataMgr.CanGetStockProfit = false;\r\n            cc.Mgr.global.showStockProfit = false;\r\n        }\r\n    },\r\n    //刷新ui显示\r\n    RefreshCompanyItemsAfterBuy:function(data){\r\n        var children = this.CompanyParent.children;\r\n        for (var i = children.length - 1; i >= 0; i--) {\r\n            var sc = children[i].getComponent(\"CompanyItem\");\r\n            if(sc != null)\r\n            {\r\n                if(sc.Id == data.Id)\r\n                {\r\n                    sc.RefreshUIShow(data);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    //刷新ui显示\r\n    RefreshCompanyItemsFromEvent:function(Id){\r\n        var children = this.CompanyParent.children;\r\n        var data = cc.Mgr.UserDataMgr.getDataByItemTypeAndId(ItemType.Company ,Id)\r\n        for (var i = children.length - 1; i >= 0; i--) {\r\n            var sc = children[i].getComponent(\"CompanyItem\");\r\n            if(sc != null)\r\n            {\r\n                if(sc.Id == data.Id)\r\n                {\r\n                    sc.RefreshUIShow(data);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    RefreshCompanyItemsAfterDisvorce:function(){\r\n        var children = this.CompanyParent.children;\r\n        for (var i = children.length - 1; i >= 0; i--) {\r\n            var sc = children[i].getComponent(\"CompanyItem\");\r\n            if(sc != null)\r\n            {\r\n                sc.RefreshUIShowAfter();\r\n            }\r\n        }\r\n    },\r\n\r\n    ChooseOpenMarket:function(){\r\n        this.refreshAdsSp(3);\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        this.MarketPanel.active = true;\r\n        this.MatePanel.node.active = false;\r\n        this.EnjoyTipPanel.node.active = false;\r\n        this.BusinessPanel.active = false;\r\n\r\n        this.toggleBussiness.isChecked = false;\r\n        this.toggleMarket.isChecked = true;\r\n        this.toggleEnjoy.isChecked = false;\r\n        this.toggleMate.isChecked = false;\r\n    },\r\n\r\n    ChooseOpenBusisness:function(){\r\n        cc.Mgr.UserDataMgr.tutorialInBus = true;\r\n        this.refreshAdsSp(4);\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        this.MarketPanel.active = false;\r\n        this.MatePanel.node.active = false;\r\n        this.EnjoyTipPanel.node.active = false;\r\n        this.BusinessPanel.active = true;\r\n\r\n        this.toggleBussiness.isChecked = true;\r\n        this.toggleMarket.isChecked = false;\r\n        this.toggleEnjoy.isChecked = false;\r\n        this.toggleMate.isChecked = false;\r\n    },\r\n\r\n    ChooseOpenMatePanel:function(){\r\n        cc.Mgr.UserDataMgr.tutorialInDate = true;\r\n        this.MateNewTip.active = false;\r\n        this.refreshAdsSp(1);\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        this.MarketPanel.active = false;\r\n        this.MatePanel.node.active = true;\r\n        this.EnjoyTipPanel.node.active = false;\r\n        this.BusinessPanel.active = false;\r\n        this.MatePanel.ShowPanel();\r\n\r\n        this.toggleBussiness.isChecked = false;\r\n        this.toggleMarket.isChecked = false;\r\n        this.toggleEnjoy.isChecked = false;\r\n        this.toggleMate.isChecked = true;\r\n    },\r\n    ChooseOpenEnjoy:function(){\r\n        this.refreshAdsSp(2);\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        this.MarketPanel.active = false;\r\n        this.MatePanel.node.active = false;\r\n        this.EnjoyTipPanel.node.active = true;\r\n        this.BusinessPanel.active = false;\r\n        this.EnjoyTipPanel.ShowPanel();\r\n\r\n        this.toggleBussiness.isChecked = false;\r\n        this.toggleMarket.isChecked = false;\r\n        this.toggleEnjoy.isChecked = true;\r\n        this.toggleMate.isChecked = false;\r\n    },\r\n\r\n    ChooseOpenBelong:function(){\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        this.OwnedTipPanel.node.active = true;\r\n        this.OwnedTipPanel.ShowPanel();\r\n    },\r\n\r\n    ChooseOpenTreat:function(){\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        var param = {};\r\n        param.forWhat = \"Treat\";\r\n        param.text = \"消耗金钱回复健康\";\r\n        if(cc.Mgr.UserDataMgr.HpPoint == 100)\r\n        {\r\n            param.forWhat = \"\";\r\n            param.text = \"健康状况良好，无需治疗\";\r\n            this.CommonTip.node.active = true;\r\n            this.CommonTip.ShowPanel(param);\r\n        }\r\n        else\r\n        {\r\n            this.TreatPanel.node.active = true;\r\n            this.TreatPanel.ShowPanel();\r\n            //var needMoney = Math.floor(2000* Math.pow(1.18, cc.Mgr.UserDataMgr.Age-20) *(1-cc.Mgr.UserDataMgr.HpPoint/100));\r\n            //param.needMoney = needMoney;\r\n        }\r\n        //if(this.CommonTip.active == true)\r\n        //{\r\n        //    //cc.log(\"通用提示已经在展示\");\r\n        //    return;\r\n        //}\r\n        //this.CommonTip.node.active = true;\r\n        //this.CommonTip.ShowPanel(param);\r\n    },\r\n\r\n    ChooseOpenRetirePanel:function(){\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        var param = {};\r\n        param.forWhat = \"Retire\";\r\n        param.text = \"你确定要结束你的奋斗史？？\";\r\n        \r\n        if(this.CommonTip.active == true)\r\n        {\r\n            //cc.log(\"通用提示已经在展示\");\r\n            return;\r\n        }\r\n        this.CommonTip.node.active = true;\r\n        this.CommonTip.ShowPanel(param);\r\n    },\r\n\r\n    ChooseOpenRankPanel:function(){\r\n\r\n        // todo 暂时先加上功能未开放\r\n        this.CommonTip.node.active = true;\r\n        this.CommonTip.ShowPanel({text: '功能暂未开放, 敬请期待'});\r\n        return;\r\n\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n\r\n        if(!cc.Mgr.PlatformController.IsLoginSync())\r\n        {\r\n            var param = {};\r\n            param.text = \"请先登陆手机百度\";\r\n            param.forWhat = \"Login\";\r\n            this.CommonTip.node.active = true;\r\n            this.CommonTip.ShowPanel(param);\r\n            return;\r\n        }\r\n\r\n        let isKuaiShou = false;\r\n        if (typeof ks !== 'undefined') {\r\n            //运行在快手平台\r\n            isKuaiShou = true;\r\n        }\r\n\r\n        if(cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou)\r\n            this.wxSubContextView.active = true;\r\n        else if(cc.sys.platform === cc.sys.BAIDU_GAME)\r\n            this.SwanSubContextView.active = true;\r\n\r\n        cc.Mgr.PlatformController.showSubContentView();\r\n        cc.Mgr.PlatformController.SendMessageToSubView(\"RankOpen\");\r\n        if((cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) || cc.sys.platform === cc.sys.BAIDU_GAME)\r\n        {\r\n            this.rankPanel.node.active = true;\r\n        }\r\n    },\r\n\r\n    CloseRankView:function(){\r\n        this.rankPanel.node.active = false;\r\n        cc.Mgr.PlatformController.hideSubContentView();\r\n        cc.Mgr.PlatformController.SendMessageToSubView(\"RankClose\");\r\n        this.wxSubContextView.active = false;\r\n        this.SwanSubContextView.active = false;\r\n    },\r\n\r\n    OpenAddCapacity:function(){\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        if(cc.Mgr.UserDataMgr.WareHouseAllCapcity == 200)\r\n        {\r\n            var param = {};\r\n            param.forWhat = \"\";\r\n            param.text = \"仓储容量达到上限\";\r\n            this.CommonTip.node.active = true;\r\n            this.CommonTip.ShowPanel(param);\r\n            return;\r\n        }\r\n        this.AddCapPanel.node.active = true;\r\n        this.AddCapPanel.ShowPanel();\r\n    },\r\n\r\n    OpenMarketTipPanel:function(){\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        this.MarketTipPanel.node.active = true;\r\n        if(this.marketTipData != null)\r\n        {\r\n            this.MarketTipPanel.ShowPanel(this.marketTipData);\r\n        }\r\n    },\r\n    \r\n    OpenWatchAdPanel:function(){\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        this.WatchAdsPanel.node.active = true;\r\n        var param = {};\r\n        param.Sp = this.AdSp;\r\n        this.WatchAdsPanel.ShowPanel(param);\r\n    },\r\n});\r\nmodule.exports = GameScene;\r\n"]}