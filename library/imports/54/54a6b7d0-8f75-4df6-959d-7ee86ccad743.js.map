{"version":3,"sources":["assets\\Scripts\\OwnData\\GoodsStruct.js"],"names":["GoodsStruct","cc","Class","name","properties","icon","Id","Integer","ownNum","buyPrice","marketPrice","RefeshDataAfterBuy","data","allAss","price","Num","Math","floor","param","RefeshDataAfterSale","module","exports"],"mappings":";;;;;;AACA;AACA,IAAIA,WAAW,GAAGC,EAAE,CAACC,KAAK,CAAC;EAC1BC,IAAI,EAAC,aAAa;EAClBC,UAAU,EAAE;IACXC,IAAI,EAAC,EAAE;IACPF,IAAI,EAAC,EAAE;IACPG,EAAE,EAACL,EAAE,CAACM,OAAO;IACbC,MAAM,EAACP,EAAE,CAACM,OAAO;IACjBE,QAAQ,EAACR,EAAE,CAACM,OAAO;IAAC;IACpBG,WAAW,EAACT,EAAE,CAACM,OAAO,CAAC;EACxB,CAAC;;EACD;EACAI,kBAAkB,EAAC,SAAAA,mBAAUC,IAAI,EAAE;IAClC,IAAIC,MAAM,GAAI,IAAI,CAACJ,QAAQ,GAAG,IAAI,CAACD,MAAM,GAAKI,IAAI,CAACE,KAAK,GAAGF,IAAI,CAACG,GAAI;IACpE,IAAI,CAACP,MAAM,IAAII,IAAI,CAACG,GAAG;IACvB,IAAI,CAACN,QAAQ,GAAGO,IAAI,CAACC,KAAK,CAACJ,MAAM,GAAG,IAAI,CAACL,MAAM,CAAC;IAChD,IAAIU,KAAK,GAAG,CAAC,CAAC;IACdA,KAAK,CAACZ,EAAE,GAAG,IAAI,CAACA,EAAE;IAClBY,KAAK,CAACV,MAAM,GAAG,IAAI,CAACA,MAAM;IAC1BU,KAAK,CAACT,QAAQ,GAAG,IAAI,CAACA,QAAQ;IAC9B,OAAOS,KAAK;EACb,CAAC;EACD;EACAC,mBAAmB,EAAC,SAAAA,oBAAUP,IAAI,EAAE;IACnC,IAAI,CAACJ,MAAM,IAAII,IAAI,CAACG,GAAG;IACvB,IAAIG,KAAK,GAAG,CAAC,CAAC;IACdA,KAAK,CAACZ,EAAE,GAAG,IAAI,CAACA,EAAE;IAClBY,KAAK,CAACV,MAAM,GAAG,IAAI,CAACA,MAAM;IAC1BU,KAAK,CAACT,QAAQ,GAAG,IAAI,CAACA,QAAQ;IAC9B,OAAOS,KAAK;EACb;AACD,CAAC,CAAC;AACFE,MAAM,CAACC,OAAO,GAAGrB,WAAW","sourceRoot":"/","sourcesContent":["\r\n//当前拥有物品  \r\nvar GoodsStruct = cc.Class({\r\n\tname:\"GoodsStruct\",\r\n\tproperties: {\r\n\t\ticon:\"\",\r\n\t\tname:\"\",\r\n\t\tId:cc.Integer,\r\n\t\townNum:cc.Integer,\r\n\t\tbuyPrice:cc.Integer,//买入价格\r\n\t\tmarketPrice:cc.Integer,//当前市场价格\r\n\t},\r\n\t//购买东西后刷新数据\r\n\tRefeshDataAfterBuy:function (data) {\r\n\t\tvar allAss = (this.buyPrice * this.ownNum) + (data.price * data.Num);\r\n\t\tthis.ownNum += data.Num;\r\n\t\tthis.buyPrice = Math.floor(allAss / this.ownNum);\r\n\t\tvar param = {};\r\n\t\tparam.Id = this.Id;\r\n\t\tparam.ownNum = this.ownNum;\r\n\t\tparam.buyPrice = this.buyPrice;\r\n\t\treturn param;\r\n\t},\r\n\t//出售\r\n\tRefeshDataAfterSale:function (data) {\r\n\t\tthis.ownNum -= data.Num;\r\n\t\tvar param = {};\r\n\t\tparam.Id = this.Id;\r\n\t\tparam.ownNum = this.ownNum;\r\n\t\tparam.buyPrice = this.buyPrice;\r\n\t\treturn param;\r\n\t},\r\n});\r\nmodule.exports = GoodsStruct;\r\n"]}