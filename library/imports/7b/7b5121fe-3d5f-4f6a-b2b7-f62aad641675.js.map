{"version":3,"sources":["assets\\Scripts\\DataMap\\InitCash\\CashMapDecoder.js"],"names":["CashData","require","CashMapDecoder","cc","Class","Component","properties","jsonName","cashList","type","DecodeJson","event","self","reCb","loader","loadRes","error","obj","jsonRoot","json","cash","i","length","cashD","Id","weight","getDataByName","name","data","getDataByItemId","itemId","getJsonLength","module","exports"],"mappings":";;;;;;AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAClC,IAAIC,cAAc,GAAGC,EAAE,CAACC,KAAK,CAAC;EAC1B,WAASD,EAAE,CAACE,SAAS;EAErBC,UAAU,EAAE;IACRC,QAAQ,EAAC,MAAM;IACfC,QAAQ,EAAC;MACL,WAAQ,EAAE;MACVC,IAAI,EAAC,CAACT,QAAQ;IAClB;EACJ,CAAC;EAED;EACAU,UAAU,EAAC,SAAAA,WAAUC,KAAK,EAAE;IACxB;IACA,IAAIC,IAAI,GAAG,IAAI;IACfA,IAAI,CAACC,IAAI,GAAGF,KAAK;IACjBR,EAAE,CAACW,MAAM,CAACC,OAAO,CAAC,OAAO,GAACH,IAAI,CAACL,QAAQ,EAAE,UAAUS,KAAK,EAAEC,GAAG,EAAE;MAC3D,IAAGD,KAAK,EACR;QACI;QACAJ,IAAI,CAACC,IAAI,CAAC,KAAK,CAAC;QAChB;MACJ;MAEA,IAAIK,QAAQ,GAAGD,GAAG,CAACE,IAAI,CAACC,IAAI;MAC5B;MACA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,QAAQ,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;QACtC,IAAIE,KAAK,GAAG,IAAIvB,QAAQ,EAAE;QAC1BuB,KAAK,CAACC,EAAE,GAAGN,QAAQ,CAACG,CAAC,CAAC,CAACG,EAAE;QACzBD,KAAK,CAACH,IAAI,GAAGF,QAAQ,CAACG,CAAC,CAAC,CAACD,IAAI;QAC7BG,KAAK,CAACE,MAAM,GAAGP,QAAQ,CAACG,CAAC,CAAC,CAACI,MAAM;QAEjCb,IAAI,CAACJ,QAAQ,CAACa,CAAC,CAAC,GAAGE,KAAK;MAC5B;MACAX,IAAI,CAACC,IAAI,CAAC,IAAI,CAAC;IACnB,CAAC,CAAC;EACN,CAAC;EAED;EACAa,aAAa,EAAC,SAAAA,cAAUC,IAAI,EAAE;IAC1B,IAAIC,IAAI,GAAG,IAAI;IACf,KAAK,IAAIP,CAAC,GAAG,IAAI,CAACb,QAAQ,CAACc,MAAM,GAAG,CAAC,EAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;MAChD,IAAGM,IAAI,IAAI,IAAI,CAACnB,QAAQ,CAACa,CAAC,CAAC,CAACM,IAAI,EAChC;QACIC,IAAI,GAAG,IAAI,CAACpB,QAAQ,CAACa,CAAC,CAAC;QACvB;MACJ;IACJ;IACA,OAAOO,IAAI;EACf,CAAC;EAED;EACAC,eAAe,EAAC,SAAAA,gBAASC,MAAM,EAAC;IAC5B,IAAIF,IAAI,GAAG,IAAI;IACf,KAAK,IAAIP,CAAC,GAAG,IAAI,CAACb,QAAQ,CAACc,MAAM,GAAG,CAAC,EAAED,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;MAChD,IAAGS,MAAM,IAAI,IAAI,CAACtB,QAAQ,CAACa,CAAC,CAAC,CAACG,EAAE,EAChC;QACII,IAAI,GAAG,IAAI,CAACpB,QAAQ,CAACa,CAAC,CAAC;QACvB;MACJ;IACJ;IACA,OAAOO,IAAI;EACf,CAAC;EAEDG,aAAa,EAAC,SAAAA,cAAA,EAAU;IACpB,OAAO,IAAI,CAACvB,QAAQ,CAACc,MAAM;EAC/B;AACJ,CAAC,CAAC;AACFU,MAAM,CAACC,OAAO,GAAG/B,cAAc","sourceRoot":"/","sourcesContent":["var CashData = require(\"CashData\");\r\nvar CashMapDecoder = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        jsonName:\"cash\",\r\n        cashList:{\r\n            default:[],\r\n            type:[CashData],\r\n        },\r\n    },\r\n\r\n    //解析数据\r\n    DecodeJson:function (event) {\r\n        //cc.log(\"===解析现金数据===\");\r\n        var self = this;\r\n        self.reCb = event;\r\n        cc.loader.loadRes(\"json/\"+self.jsonName, function (error, obj) {\r\n            if(error)\r\n            {\r\n                //cc.log(\"+++解析出错，查下json+++\" + error);\r\n                self.reCb(false);\r\n                return;\r\n            }\r\n            \r\n            var jsonRoot = obj.json.cash;\r\n            //cc.log(\"===数据长度===\" + jsonRoot.length);\r\n            for (var i = 0; i < jsonRoot.length; i++) {\r\n                var cashD = new CashData();\r\n                cashD.Id = jsonRoot[i].Id;\r\n                cashD.cash = jsonRoot[i].cash;\r\n                cashD.weight = jsonRoot[i].weight;\r\n                \r\n                self.cashList[i] = cashD; \r\n            }\r\n            self.reCb(true);\r\n        });\r\n    },\r\n\r\n    //通过名字拿到当前的数据 不建议用，你要用我也没办法\r\n    getDataByName:function (name) {\r\n        var data = null;\r\n        for (var i = this.cashList.length - 1; i >= 0; i--) {\r\n            if(name == this.cashList[i].name)\r\n            {\r\n                data = this.cashList[i];\r\n                break;\r\n            }\r\n        }\r\n        return data;\r\n    },\r\n\r\n    //通过itemid获取数据\r\n    getDataByItemId:function(itemId){\r\n        var data = null;\r\n        for (var i = this.cashList.length - 1; i >= 0; i--) {\r\n            if(itemId == this.cashList[i].Id)\r\n            {\r\n                data = this.cashList[i];\r\n                break;\r\n            }\r\n        }\r\n        return data;\r\n    },\r\n\r\n    getJsonLength:function(){\r\n        return this.cashList.length\r\n    },\r\n});\r\nmodule.exports = CashMapDecoder;\r\n"]}