
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/DataMap/Mate/MateMapDecoder.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7f3b3DmP6JH66SZKW6JkCF9', 'MateMapDecoder');
// Scripts/DataMap/Mate/MateMapDecoder.js

"use strict";

var LovePointCost = require("LovePointCost");
var MateData = require("MateData");
var MateBonus = require("MateBonus");
var MateGetCond = require("MateGetCond");
var MateMapDecoder = cc.Class({
  "extends": cc.Component,
  properties: {
    jsonName: "mate",
    mateList: {
      "default": [],
      type: [MateData]
    }
  },
  //解析数据
  DecodeJson: function DecodeJson(event) {
    //cc.log("===解析伴侣数据===");
    var self = this;
    self.reCb = event;
    cc.loader.loadRes("json/" + self.jsonName, function (error, obj) {
      if (error) {
        //cc.log("+++解析出错，查下json+++" + error);
        self.reCb(false);
        return;
      }
      var jsonRoot = obj.json.mate;
      //cc.log("===数据长度===" + jsonRoot.length);
      for (var i = 0; i < jsonRoot.length; i++) {
        var mateData = new MateData();
        mateData.Id = jsonRoot[i].Id;
        mateData.icon = jsonRoot[i].icon;
        mateData.sex = jsonRoot[i].sex;
        mateData.name = jsonRoot[i].name;
        mateData.unlockCond = jsonRoot[i].unlockCond; //可以约会条件
        ////cc.log(jsonRoot[i].name + " 是否可以直接约会的" + mateData.unlockCond);
        for (var j = 0; j < jsonRoot[i].getCond.length; j++) {
          var getCond = new MateGetCond();
          getCond.unlockType = jsonRoot[i].getCond[j][0];
          getCond.value = jsonRoot[i].getCond[j][1];
          mateData.getCondList[j] = getCond;
        }
        for (var j = 0; j < jsonRoot[i].lovePointList.length; j++) {
          var lpCost = new LovePointCost();
          lpCost.cost = jsonRoot[i].lovePointList[j][2];
          lpCost.LovePoint = jsonRoot[i].lovePointList[j][1];
          lpCost.curLevel = jsonRoot[i].lovePointList[j][0];
          mateData.lovePointList[j] = lpCost;
        }
        for (var j = 0; j < jsonRoot[i].bonusList.length; j++) {
          var lpCost = new MateBonus();
          lpCost.bonusType = jsonRoot[i].bonusList[j][0];
          lpCost.bonusNum = jsonRoot[i].bonusList[j][1];
          mateData.bonusList[j] = lpCost;
        }
        self.mateList[i] = mateData;
      }
      self.reCb(true);
    });
  },
  //通过名字拿到当前的数据 不建议用，你要用我也没办法
  getDataByName: function getDataByName(name) {
    var data = null;
    for (var i = this.mateListmateList.length - 1; i >= 0; i--) {
      if (name == this.mateList[i].name) {
        data = this.mateList[i];
        break;
      }
    }
    return data;
  },
  //通过itemid获取数据
  getDataByItemId: function getDataByItemId(itemId) {
    var data = null;
    for (var i = this.mateList.length - 1; i >= 0; i--) {
      if (itemId == this.mateList[i].Id) {
        data = this.mateList[i];
        break;
      }
    }
    return data;
  },
  getJsonLength: function getJsonLength() {
    return this.mateList.length;
  },
  getDataList: function getDataList() {
    return this.mateList;
  }
});
module.exports = MateMapDecoder;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcRGF0YU1hcFxcTWF0ZVxcTWF0ZU1hcERlY29kZXIuanMiXSwibmFtZXMiOlsiTG92ZVBvaW50Q29zdCIsInJlcXVpcmUiLCJNYXRlRGF0YSIsIk1hdGVCb251cyIsIk1hdGVHZXRDb25kIiwiTWF0ZU1hcERlY29kZXIiLCJjYyIsIkNsYXNzIiwiQ29tcG9uZW50IiwicHJvcGVydGllcyIsImpzb25OYW1lIiwibWF0ZUxpc3QiLCJ0eXBlIiwiRGVjb2RlSnNvbiIsImV2ZW50Iiwic2VsZiIsInJlQ2IiLCJsb2FkZXIiLCJsb2FkUmVzIiwiZXJyb3IiLCJvYmoiLCJqc29uUm9vdCIsImpzb24iLCJtYXRlIiwiaSIsImxlbmd0aCIsIm1hdGVEYXRhIiwiSWQiLCJpY29uIiwic2V4IiwibmFtZSIsInVubG9ja0NvbmQiLCJqIiwiZ2V0Q29uZCIsInVubG9ja1R5cGUiLCJ2YWx1ZSIsImdldENvbmRMaXN0IiwibG92ZVBvaW50TGlzdCIsImxwQ29zdCIsImNvc3QiLCJMb3ZlUG9pbnQiLCJjdXJMZXZlbCIsImJvbnVzTGlzdCIsImJvbnVzVHlwZSIsImJvbnVzTnVtIiwiZ2V0RGF0YUJ5TmFtZSIsImRhdGEiLCJtYXRlTGlzdG1hdGVMaXN0IiwiZ2V0RGF0YUJ5SXRlbUlkIiwiaXRlbUlkIiwiZ2V0SnNvbkxlbmd0aCIsImdldERhdGFMaXN0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxhQUFhLEdBQUdDLE9BQU8sQ0FBQyxlQUFlLENBQUM7QUFDNUMsSUFBSUMsUUFBUSxHQUFHRCxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ2xDLElBQUlFLFNBQVMsR0FBR0YsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUNwQyxJQUFJRyxXQUFXLEdBQUdILE9BQU8sQ0FBQyxhQUFhLENBQUM7QUFDeEMsSUFBSUksY0FBYyxHQUFHQyxFQUFFLENBQUNDLEtBQUssQ0FBQztFQUMxQixXQUFT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LElBQUlILElBQUksR0FBRyxJQUFJO0lBQ2YsS0FBSyxJQUFJdEIsQ0FBQyxHQUFHLElBQUksQ0FBQ2IsUUFBUSxDQUFDYyxNQUFNLEdBQUcsQ0FBQyxFQUFFRCxDQUFDLElBQUksQ0FBQyxFQUFFQSxDQUFDLEVBQUUsRUFBRTtNQUNoRCxJQUFHeUIsTUFBTSxJQUFJLElBQUksQ0FBQ3RDLFFBQVEsQ0FBQ2EsQ0FBQyxDQUFDLENBQUNHLEVBQUUsRUFDaEM7UUFDSW1CLElBQUksR0FBRyxJQUFJLENBQUNuQyxRQUFRLENBQUNhLENBQUMsQ0FBQztRQUN2QjtNQUNKO0lBQ0o7SUFDQSxPQUFPc0IsSUFBSTtFQUNmLENBQUM7RUFFREksYUFBYSxFQUFDLFNBQUFBLGNBQUEsRUFBVTtJQUNwQixPQUFPLElBQUksQ0FBQ3ZDLFFBQVEsQ0FBQ2MsTUFBTTtFQUMvQixDQUFDO0VBRUQwQixXQUFXLEVBQUMsU0FBQUEsWUFBQSxFQUFVO0lBQ2xCLE9BQU8sSUFBSSxDQUFDeEMsUUFBUTtFQUN4QjtBQUVKLENBQUMsQ0FBQztBQUNGeUMsTUFBTSxDQUFDQyxPQUFPLEdBQUdoRCxjQUFjIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTG92ZVBvaW50Q29zdCA9IHJlcXVpcmUoXCJMb3ZlUG9pbnRDb3N0XCIpO1xyXG52YXIgTWF0ZURhdGEgPSByZXF1aXJlKFwiTWF0ZURhdGFcIik7XHJcbnZhciBNYXRlQm9udXMgPSByZXF1aXJlKFwiTWF0ZUJvbnVzXCIpO1xyXG52YXIgTWF0ZUdldENvbmQgPSByZXF1aXJlKFwiTWF0ZUdldENvbmRcIik7XHJcbnZhciBNYXRlTWFwRGVjb2RlciA9IGNjLkNsYXNzKHtcclxuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAganNvbk5hbWU6XCJtYXRlXCIsXHJcbiAgICAgICAgbWF0ZUxpc3Q6e1xyXG4gICAgICAgICAgICBkZWZhdWx0OltdLFxyXG4gICAgICAgICAgICB0eXBlOltNYXRlRGF0YV0sXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcblxyXG4gICAgLy/op6PmnpDmlbDmja5cclxuICAgIERlY29kZUpzb246ZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgLy9jYy5sb2coXCI9PT3op6PmnpDkvLTkvqPmlbDmja49PT1cIik7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHNlbGYucmVDYiA9IGV2ZW50O1xyXG4gICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKFwianNvbi9cIitzZWxmLmpzb25OYW1lLCBmdW5jdGlvbiAoZXJyb3IsIG9iaikge1xyXG4gICAgICAgICAgICBpZihlcnJvcilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy9jYy5sb2coXCIrKyvop6PmnpDlh7rplJnvvIzmn6XkuItqc29uKysrXCIgKyBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICBzZWxmLnJlQ2IoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIganNvblJvb3QgPSBvYmouanNvbi5tYXRlO1xyXG4gICAgICAgICAgICAvL2NjLmxvZyhcIj09PeaVsOaNrumVv+W6pj09PVwiICsganNvblJvb3QubGVuZ3RoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqc29uUm9vdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGVEYXRhID0gbmV3IE1hdGVEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICBtYXRlRGF0YS5JZCA9IGpzb25Sb290W2ldLklkO1xyXG4gICAgICAgICAgICAgICAgbWF0ZURhdGEuaWNvbiA9IGpzb25Sb290W2ldLmljb247XHJcbiAgICAgICAgICAgICAgICBtYXRlRGF0YS5zZXggPSBqc29uUm9vdFtpXS5zZXg7XHJcbiAgICAgICAgICAgICAgICBtYXRlRGF0YS5uYW1lID0ganNvblJvb3RbaV0ubmFtZTtcclxuICAgICAgICAgICAgICAgIG1hdGVEYXRhLnVubG9ja0NvbmQgPSBqc29uUm9vdFtpXS51bmxvY2tDb25kOy8v5Y+v5Lul57qm5Lya5p2h5Lu2XHJcbiAgICAgICAgICAgICAgICAvLy8vY2MubG9nKGpzb25Sb290W2ldLm5hbWUgKyBcIiDmmK/lkKblj6/ku6Xnm7TmjqXnuqbkvJrnmoRcIiArIG1hdGVEYXRhLnVubG9ja0NvbmQpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBqc29uUm9vdFtpXS5nZXRDb25kLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdldENvbmQgPSBuZXcgTWF0ZUdldENvbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICBnZXRDb25kLnVubG9ja1R5cGUgPSBqc29uUm9vdFtpXS5nZXRDb25kW2pdWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGdldENvbmQudmFsdWUgPSBqc29uUm9vdFtpXS5nZXRDb25kW2pdWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGVEYXRhLmdldENvbmRMaXN0W2pdID0gZ2V0Q29uZDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGpzb25Sb290W2ldLmxvdmVQb2ludExpc3QubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbHBDb3N0ID0gbmV3IExvdmVQb2ludENvc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBscENvc3QuY29zdCA9IGpzb25Sb290W2ldLmxvdmVQb2ludExpc3Rbal1bMl07XHJcbiAgICAgICAgICAgICAgICAgICAgbHBDb3N0LkxvdmVQb2ludCA9IGpzb25Sb290W2ldLmxvdmVQb2ludExpc3Rbal1bMV07XHJcbiAgICAgICAgICAgICAgICAgICAgbHBDb3N0LmN1ckxldmVsID0ganNvblJvb3RbaV0ubG92ZVBvaW50TGlzdFtqXVswXTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRlRGF0YS5sb3ZlUG9pbnRMaXN0W2pdID0gbHBDb3N0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwganNvblJvb3RbaV0uYm9udXNMaXN0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxwQ29zdCA9IG5ldyBNYXRlQm9udXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBscENvc3QuYm9udXNUeXBlID0ganNvblJvb3RbaV0uYm9udXNMaXN0W2pdWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxwQ29zdC5ib251c051bSA9IGpzb25Sb290W2ldLmJvbnVzTGlzdFtqXVsxXTtcclxuICAgICAgICAgICAgICAgICAgICBtYXRlRGF0YS5ib251c0xpc3Rbal0gPSBscENvc3Q7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZWxmLm1hdGVMaXN0W2ldID0gbWF0ZURhdGE7IFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYucmVDYih0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgLy/pgJrov4flkI3lrZfmi7/liLDlvZPliY3nmoTmlbDmja4g5LiN5bu66K6u55So77yM5L2g6KaB55So5oiR5Lmf5rKh5Yqe5rOVXHJcbiAgICBnZXREYXRhQnlOYW1lOmZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBudWxsO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLm1hdGVMaXN0bWF0ZUxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgaWYobmFtZSA9PSB0aGlzLm1hdGVMaXN0W2ldLm5hbWUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLm1hdGVMaXN0W2ldO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v6YCa6L+HaXRlbWlk6I635Y+W5pWw5o2uXHJcbiAgICBnZXREYXRhQnlJdGVtSWQ6ZnVuY3Rpb24oaXRlbUlkKXtcclxuICAgICAgICB2YXIgZGF0YSA9IG51bGw7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMubWF0ZUxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgaWYoaXRlbUlkID09IHRoaXMubWF0ZUxpc3RbaV0uSWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLm1hdGVMaXN0W2ldO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldEpzb25MZW5ndGg6ZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXRlTGlzdC5sZW5ndGhcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0RGF0YUxpc3Q6ZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXRlTGlzdDtcclxuICAgIH0sXHJcbiAgICBcclxufSk7XHJcbm1vZHVsZS5leHBvcnRzID0gTWF0ZU1hcERlY29kZXI7XHJcbiJdfQ==