
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Core/AdsMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4d97apM83VPAZkyD9a+RThG', 'AdsMgr');
// Scripts/Core/AdsMgr.js

"use strict";

var AdsParam = require("AdsParam");
var eyouClientTiktok = require("EyouClientTiktok");
var eyouClientKs = require("EyouClientKs");
var eyouClient = require('eyouClient');
var AdsMgr = cc.Class({
  statics: {
    //微信 wx
    //头条 tt
    //百度 baidu

    //对应的平台的  bannerId  采用加后缀的方式
    bannerId_baidu: "6191742",
    bannerId_wx: "adunit-42bcaae6cafaa7c6",
    bannerId_tt: "6152042",
    //百度广告id  激励视频
    bdVideoId_1: "6191756",
    bdVideoId_2: "6191755",
    bdVideoId_3: "6191754",
    bdVideoId_4: "6191753",
    bdVideoId_5: "6191752",
    bdVideoId_6: "6191751",
    bdVideoId_7: "6191749",
    bdVideoId_8: "6191748",
    bdVideoId_9: "6191747",
    bdVideoId_10: "6191744",
    //微信广告id  激励视频
    wxVideoId_1: "",
    wxVideoId_2: "",
    wxVideoId_3: "",
    wxVideoId_4: "",
    wxVideoId_5: "",
    wxVideoId_6: "",
    wxVideoId_7: "",
    wxVideoId_8: "",
    wxVideoId_9: "",
    wxVideoId_10: "",
    allScreen: false,
    //首先确定使用的平台
    Init: function Init() {
      this.allScreen = false;
    },
    //获取广告点ID
    getBannerAdId: function getBannerAdId() {
      var isKuaiShou = false;
      if (typeof ks !== 'undefined') {
        //运行在快手平台
        isKuaiShou = true;
      }
      if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) {
        return this.bannerId_wx;
      } else if (cc.sys.platform === cc.sys.BAIDU_GAME) {
        return this.bannerId_baidu;
      } else if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {
        return this.bannerId_tt;
      }
      return null;
    },
    //获取广告点ID  这里配置 视频奖励广告 Id 由于会有多个广告点  根据后台设置来顶
    getVideoAdId: function getVideoAdId(adName) {
      var isKuaiShou = false;
      if (typeof ks !== 'undefined') {
        //运行在快手平台
        isKuaiShou = true;
      }
      var adId;
      if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) {
        switch (adName) {
          case AdsParam.PointA:
            adId = this.wxVideoId_1;
            break;
          case AdsParam.PointB:
            adId = this.wxVideoId_2;
            break;
          case AdsParam.PointC:
            adId = this.wxVideoId_3;
            break;
          case AdsParam.PointD:
            adId = this.wxVideoId_4;
            break;
          case AdsParam.PointE:
            adId = this.wxVideoId_5;
            break;
          case AdsParam.PointF:
            adId = this.wxVideoId_6;
            break;
          case AdsParam.PointG:
            adId = this.wxVideoId_7;
            break;
          case AdsParam.PointH:
            adId = this.wxVideoId_8;
            break;
          case AdsParam.PointI:
            adId = this.wxVideoId_9;
            break;
          case AdsParam.PointJ:
            adId = this.wxVideoId_10;
            break;
        }
      } else if (cc.sys.platform === cc.sys.BAIDU_GAME) {
        switch (adName) {
          case AdsParam.PointA:
            adId = this.bdVideoId_1;
            break;
          case AdsParam.PointB:
            adId = this.bdVideoId_2;
            break;
          case AdsParam.PointC:
            adId = this.bdVideoId_3;
            break;
          case AdsParam.PointD:
            adId = this.bdVideoId_4;
            break;
          case AdsParam.PointE:
            adId = this.bdVideoId_5;
            break;
          case AdsParam.PointF:
            adId = this.bdVideoId_6;
            break;
          case AdsParam.PointG:
            adId = this.bdVideoId_7;
            break;
          case AdsParam.PointH:
            adId = this.bdVideoId_8;
            break;
          case AdsParam.PointI:
            adId = this.bdVideoId_9;
            break;
          case AdsParam.PointJ:
            adId = this.bdVideoId_10;
            break;
        }
      }
      return adId;
    },
    ShowBannerAds: function ShowBannerAds() {
      var self = this;
      var isKuaiShou = false;
      if (typeof ks !== 'undefined') {
        //运行在快手平台
        isKuaiShou = true;
      }
      if (this.bannerAdShowNum == null) this.bannerAdShowNum = 0;
      this.bannerAdShowNum++;
      if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) {
        if (this.bannerAdCtrl != null && this.bannerAdShowNum % 5 != 0) {
          return;
        }
        this.bannerAdShowNum = 0;
        if (this.bannerAdCtrl != null) this.bannerAdCtrl.destroy();
        var WXAD = {};
        WXAD.W = wx.getSystemInfoSync().windowWidth;
        WXAD.H = wx.getSystemInfoSync().windowHeight;
        var adWidth = 0;
        if (this.allScreen) adWidth = WXAD.W;else adWidth = 300;
        this.bannerAdCtrl = wx.createBannerAd({
          adUnitId: this.getBannerAdId(),
          style: {
            left: 0,
            top: 0 /*/(WXAD.H/10)*8*/,
            width: adWidth
          }
        });
        this.bannerAdCtrl.onResize(function (res) {
          console.log("重置广告宽度 " + WXAD.H + " , " + self.bannerAdCtrl.style.realHeight);
          self.bannerAdCtrl.style.top = WXAD.H - self.bannerAdCtrl.style.realHeight;
          self.bannerAdCtrl.style.left = (WXAD.W - self.bannerAdCtrl.style.realWidth) / 2;
          self.bannerAdCtrl.show();
        });
        this.bannerAdCtrl.onError(function (err) {
          console.log(err);
        });
        console.log("显示广告");
      } else if (cc.sys.platform === cc.sys.BAIDU_GAME) {
        if (swan.getSystemInfoSync().platform == 'ios')
          //目前 ios 不支持视频广告
          {
            return;
          }
        if (this.bannerAdCtrl != null) this.bannerAdCtrl.destroy();
        var _WXAD = {};
        _WXAD.W = swan.getSystemInfoSync().windowWidth;
        _WXAD.H = swan.getSystemInfoSync().windowHeight;
        console.log("百度的 bannerId = " + this.getBannerAdId());
        this.bannerAdCtrl = swan.createBannerAd({
          adUnitId: this.getBannerAdId(),
          appSid: 'c0fb407f',
          style: {
            left: 0,
            top: 0,
            width: 321
          }
        });
        if (this.allScreen) self.bannerAdCtrl.style.width = _WXAD.H;else self.bannerAdCtrl.style.width = 300;
        this.bannerAdCtrl.onResize(function (res) {
          console.log("重置广告宽度 ");
          self.bannerAdCtrl.style.top = _WXAD.H - res.height;
          self.bannerAdCtrl.style.left = (_WXAD.W - res.width) / 2;
          self.bannerAdCtrl.show();
        });
        this.bannerAdCtrl.onLoad(function () {
          console.log(' banner 加载完成');
          self.bannerAdCtrl.show();
        });
        this.bannerAdCtrl.onError(function (err) {
          console.log(err);
        });
        console.log("显示广告");
      }
    },
    HideBannerAd: function HideBannerAd() {
      if (this.bannerAdCtrl != null) this.bannerAdCtrl.hide();
    },
    RecoverShowBanner: function RecoverShowBanner() {
      if (this.bannerAdCtrl != null) this.bannerAdCtrl.show();else this.ShowBannerAds();
    },
    DestroyBanner: function DestroyBanner() {
      if (this.bannerAdCtrl != null) this.bannerAdCtrl.destroy();
    },
    //cb 回调参数 0 播放完成，1 不放未完成 ，-1 视频加载出错
    // ShowVideoAds:function(adName,cb)
    // {
    //     this.cb = cb
    //     if(cc.sys.platform === cc.sys.WECHAT_GAME)
    //     {
    //         let videoAd = wx.createRewardedVideoAd({
    //             adUnitId: this.getVideoAdId(adName)
    //         })
    //
    //         videoAd.load()
    //         .then(() => videoAd.show())
    //         .catch(err => console.log(err.errMsg))
    //
    //         videoAd.onError(err => {
    //             console.log("广告加载出错 " + err.errMsg)
    //             this.cb(-1);
    //         });
    //
    //         videoAd.onLoad(()=>{ console.log("加载事件回调") });
    //
    //         videoAd.onClose(res =>{
    //             console.log("是否观看完整了 " + res.isEnded)
    //             this.cb(res.isEnded?0:1);
    //             videoAd.offLoad();
    //             videoAd.offError();
    //             videoAd.offClose();
    //
    //         });
    //
    //     }
    //     else if(cc.sys.platform === cc.sys.BAIDU_GAME)
    //     {
    //         console.log("百度的视频广告  " + this.getVideoAdId(adName));
    //
    //         let videoAd = swan.createRewardedVideoAd({
    //             adUnitId: this.getVideoAdId(adName),
    //             appSid: 'c0fb407f',
    //         })
    //
    //         videoAd.load()
    //         .then(() => videoAd.show())
    //         .catch(err => console.log(err.errMsg))
    //
    //         videoAd.onError(err => {
    //             console.log("广告加载出错 " + err.errMsg)
    //             this.cb(-1);
    //         });
    //
    //         videoAd.onLoad(()=>{ console.log("加载事件回调") });
    //
    //         videoAd.onClose(res =>{
    //             console.log("是否观看完整了 " + res.isEnded)
    //             this.cb(res.isEnded?0:1);
    //             videoAd.offLoad();
    //             videoAd.offError();
    //             videoAd.offClose();
    //
    //         });
    //
    //     }
    //     else
    //     {
    //         this.cb(0);
    //     }
    // },

    //cb 回调参数 0 播放完成，1 不放未完成 ，-1 视频加载出错
    ShowVideoAds: function ShowVideoAds(adName, cb) {
      var _this = this;
      this.cb = cb;
      var isKuaiShou = false;
      if (typeof ks !== 'undefined') {
        //运行在快手平台
        isKuaiShou = true;
      }
      if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {
        var rewardedVideoAdInfo = {
          adUnitId: '1135h0gc8ciah182j2',
          onClose: function onClose(onCloseRes) {
            _this.cb(onCloseRes && onCloseRes.isEnded ? 0 : 1);
          },
          onError: function onError(error) {
            return _this.cb(-1);
          }
        };
        eyouClientTiktok.getIns().createRewardedVideoAd(rewardedVideoAdInfo, function (createRewardedVideoAdRes) {
          if (createRewardedVideoAdRes.code === 0) {
            eyouClientTiktok.getIns().showRewardedVideoAd();
          } else {
            _this.cb(-1);
          }
        });
      } else if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) {
        var _rewardedVideoAdInfo = {
          adUnitId: 'adunit-3cf372fd7487fd87',
          onClose: function onClose(onCloseRes) {
            _this.cb(onCloseRes && onCloseRes.code === 0 ? 0 : 1);
          }
        };
        eyouClient.getIns().createRewardedVideoAd(_rewardedVideoAdInfo, function (createRewardedVideoAdRes) {
          if (createRewardedVideoAdRes.code === 0) {
            eyouClient.getIns().showRewardedVideoAd();
          }
        });
      } else if (isKuaiShou) {
        console.log("快手广告");
        var _rewardedVideoAdInfo2 = {
          adUnitId: '2300009525_01',
          onClose: function onClose(onCloseRes) {
            _this.cb(onCloseRes && onCloseRes.isEnded ? 0 : 1);
          },
          onError: function onError(error) {
            return _this.cb(-1);
          }
        };
        eyouClientKs.getIns().createRewardedVideoAd(_rewardedVideoAdInfo2, function (createRewardedVideoAdRes) {
          console.log("创建激励视频组件回调:>", createRewardedVideoAdRes);
          if (createRewardedVideoAdRes.code === 0) {
            eyouClientKs.getIns().showRewardedVideoAd();
          } else {
            _this.cb(-1);
          }
        });
      }
    }
  }
});
module.exports = AdsMgr;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29yZVxcQWRzTWdyLmpzIl0sIm5hbWVzIjpbIkFkc1BhcmFtIiwicmVxdWlyZSIsImV5b3VDbGllbnRUaWt0b2siLCJleW91Q2xpZW50S3MiLCJleW91Q2xpZW50IiwiQWRzTWdyIiwiY2MiLCJDbGFzcyIsInN0YXRpY3MiLCJiYW5uZXJJZF9iYWlkdSIsImJhbm5lcklkX3d4IiwiYmFubmVySWRfdHQiLCJiZFZpZGVvSWRfMSIsImJkVmlkZW9JZF8yIiwiYmRWaWRlb0lkXzMiLCJiZFZpZGVvSWRfNCIsImJkVmlkZW9JZF81IiwiYmRWaWRlb0lkXzYiLCJiZFZpZGVvSWRfNyIsImJkVmlkZW9JZF84IiwiYmRWaWRlb0lkXzkiLCJiZFZpZGVvSWRfMTAiLCJ3eFZpZGVvSWRfMSIsInd4VmlkZW9JZF8yIiwid3hWaWRlb0lkXzMiLCJ3eFZpZGVvSWRfNCIsInd4VmlkZW9JZF81Iiwid3hWaWRlb0lkXzYiLCJ3eFZpZGVvSWRfNyIsInd4VmlkZW9JZF84Iiwid3hWaWRlb0lkXzkiLCJ3eFZpZGVvSWRfMTAiLCJhbGxTY3JlZW4iLCJJbml0IiwiZ2V0QmFubmVyQWRJZCIsImlzS3VhaVNob3UiLCJrcyIsInN5cyIsInBsYXRmb3JtIiwiV0VDSEFUX0dBTUUiLCJCQUlEVV9HQU1FIiwiQllURURBTkNFX0dBTUUiLCJnZXRWaWRlb0FkSWQiLCJhZE5hbWUiLCJhZElkIiwiUG9pbnRBIiwiUG9pbnRCIiwiUG9pbnRDIiwiUG9pbnREIiwiUG9pbnRFIiwiUG9pbnRGIiwiUG9pbnRHIiwiUG9pbnRIIiwiUG9pbnRJIiwiUG9pbnRKIiwiU2hvd0Jhbm5lckFkcyIsInNlbGYiLCJiYW5uZXJBZFNob3dOdW0iLCJiYW5uZXJBZEN0cmwiLCJkZXN0cm95IiwiV1hBRCIsIlciLCJ3eCIsImdldFN5c3RlbUluZm9TeW5jIiwid2luZG93V2lkdGgiLCJIIiwid2luZG93SGVpZ2h0IiwiYWRXaWR0aCIsImNyZWF0ZUJhbm5lckFkIiwiYWRVbml0SWQiLCJzdHlsZSIsImxlZnQiLCJ0b3AiLCJ3aWR0aCIsIm9uUmVzaXplIiwicmVzIiwiY29uc29sZSIsImxvZyIsInJlYWxIZWlnaHQiLCJyZWFsV2lkdGgiLCJzaG93Iiwib25FcnJvciIsImVyciIsInN3YW4iLCJhcHBTaWQiLCJoZWlnaHQiLCJvbkxvYWQiLCJIaWRlQmFubmVyQWQiLCJoaWRlIiwiUmVjb3ZlclNob3dCYW5uZXIiLCJEZXN0cm95QmFubmVyIiwiU2hvd1ZpZGVvQWRzIiwiY2IiLCJfdGhpcyIsInJld2FyZGVkVmlkZW9BZEluZm8iLCJvbkNsb3NlIiwib25DbG9zZVJlcyIsImlzRW5kZWQiLCJlcnJvciIsImdldElucyIsImNyZWF0ZVJld2FyZGVkVmlkZW9BZCIsImNyZWF0ZVJld2FyZGVkVmlkZW9BZFJlcyIsImNvZGUiLCJzaG93UmV3YXJkZWRWaWRlb0FkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDbEMsSUFBSUMsZ0JBQWdCLEdBQUdELE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQztBQUNsRCxJQUFJRSxZQUFZLEdBQUdGLE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFDMUMsSUFBSUcsVUFBVSxHQUFHSCxPQUFPLENBQUMsWUFBWSxDQUFDO0FBQ3RDLElBQUlJLE1BQU0sR0FBR0MsRUFBRSxDQUFDQyxLQUFLLENBQUM7RUFDbEJDLE9BQU8sRUFBQztJQUNQO0lBQ0c7SUFDQTs7SUFFQTtJQUNBQyxjQUFjLEVBQUMsU0FBUztJQUN4QkMsV0FBVyxFQUFDLHlCQUF5QjtJQUNyQ0MsV0FBVyxFQUFDLFNBQVM7SUFFckI7SUFDQUMsV0FBVyxFQUFDLFNBQVM7SUFDckJDLFdBQVcsRUFBQyxTQUFTO0lBQ3JCQyxXQUFXLEVBQUMsU0FBUztJQUNyQkMsV0FBVyxFQUFDLFNBQVM7SUFDckJDLFdBQVcsRUFBQyxTQUFTO0lBQ3JCQyxXQUFXLEVBQUMsU0FBUztJQUNy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bEQsQ0FBQztVQUNEaEIsT0FBTyxFQUFFLFNBQUFBLFFBQUFpQixLQUFLO1lBQUEsT0FBSUwsS0FBSSxDQUFDRCxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7VUFBQTtRQUM5QixDQUFDO1FBQ0R6RixZQUFZLENBQUNnRyxNQUFNLEVBQUUsQ0FBQ0MscUJBQXFCLENBQUNOLHFCQUFtQixFQUFFLFVBQUFPLHdCQUF3QixFQUFJO1VBQzVGekIsT0FBTyxDQUFDQyxHQUFHLENBQUMsY0FBYyxFQUFFd0Isd0JBQXdCLENBQUM7VUFDckQsSUFBSUEsd0JBQXdCLENBQUNDLElBQUksS0FBSyxDQUFDLEVBQUU7WUFDeENuRyxZQUFZLENBQUNnRyxNQUFNLEVBQUUsQ0FBQ0ksbUJBQW1CLEVBQUU7VUFDNUMsQ0FBQyxNQUFNO1lBQ05WLEtBQUksQ0FBQ0QsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1VBQ1o7UUFDRCxDQUFDLENBQUM7TUFDSDtJQUNEO0VBQ0U7QUFDSixDQUFDLENBQUM7QUFDRlksTUFBTSxDQUFDQyxPQUFPLEdBQUdwRyxNQUFNIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQWRzUGFyYW0gPSByZXF1aXJlKFwiQWRzUGFyYW1cIik7XHJcbnZhciBleW91Q2xpZW50VGlrdG9rID0gcmVxdWlyZShcIkV5b3VDbGllbnRUaWt0b2tcIik7XHJcbnZhciBleW91Q2xpZW50S3MgPSByZXF1aXJlKFwiRXlvdUNsaWVudEtzXCIpO1xyXG52YXIgZXlvdUNsaWVudCA9IHJlcXVpcmUoJ2V5b3VDbGllbnQnKTtcclxudmFyIEFkc01nciA9IGNjLkNsYXNzKHtcclxuICAgIHN0YXRpY3M6e1xyXG4gICAgXHQvL+W+ruS/oSB3eFxyXG4gICAgICAgIC8v5aS05p2hIHR0XHJcbiAgICAgICAgLy/nmb7luqYgYmFpZHVcclxuXHJcbiAgICAgICAgLy/lr7nlupTnmoTlubPlj7DnmoQgIGJhbm5lcklkICDph4fnlKjliqDlkI7nvIDnmoTmlrnlvI9cclxuICAgICAgICBiYW5uZXJJZF9iYWlkdTpcIjYxOTE3NDJcIixcclxuICAgICAgICBiYW5uZXJJZF93eDpcImFkdW5pdC00MmJjYWFlNmNhZmFhN2M2XCIsXHJcbiAgICAgICAgYmFubmVySWRfdHQ6XCI2MTUyMDQyXCIsXHJcblxyXG4gICAgICAgIC8v55m+5bqm5bm/5ZGKaWQgIOa/gOWKseinhumikVxyXG4gICAgICAgIGJkVmlkZW9JZF8xOlwiNjE5MTc1NlwiLFxyXG4gICAgICAgIGJkVmlkZW9JZF8yOlwiNjE5MTc1NVwiLFxyXG4gICAgICAgIGJkVmlkZW9JZF8zOlwiNjE5MTc1NFwiLFxyXG4gICAgICAgIGJkVmlkZW9JZF80OlwiNjE5MTc1M1wiLFxyXG4gICAgICAgIGJkVmlkZW9JZF81OlwiNjE5MTc1MlwiLFxyXG4gICAgICAgIGJkVmlkZW9JZF82OlwiNjE5MTc1MVwiLFxyXG4gICAgICAgIGJkVmlkZW9JZF83OlwiNjE5MTc0OVwiLFxyXG4gICAgICAgIGJkVmlkZW9JZF84OlwiNjE5MTc0OFwiLFxyXG4gICAgICAgIGJkVmlkZW9JZF85OlwiNjE5MTc0N1wiLFxyXG4gICAgICAgIGJkVmlkZW9JZF8xMDpcIjYxOTE3NDRcIixcclxuICAgICAgICAvL+W+ruS/oeW5v+WRimlkICDmv4DlirHop4bpopFcclxuICAgICAgICB3eFZpZGVvSWRfMTpcIlwiLFxyXG4gICAgICAgIHd4VmlkZW9JZF8yOlwiXCIsXHJcbiAgICAgICAgd3hWaWRlb0lkXzM6XCJcIixcclxuICAgICAgICB3eFZpZGVvSWRfNDpcIlwiLFxyXG4gICAgICAgIHd4VmlkZW9JZF81OlwiXCIsXHJcbiAgICAgICAgd3hWaWRlb0lkXzY6XCJcIixcclxuICAgICAgICB3eFZpZGVvSWRfNzpcIlwiLFxyXG4gICAgICAgIHd4VmlkZW9JZF84OlwiXCIsXHJcbiAgICAgICAgd3hWaWRlb0lkXzk6XCJcIixcclxuICAgICAgICB3eFZpZGVvSWRfMTA6XCJcIixcclxuXHJcbiAgICAgICAgYWxsU2NyZWVuOmZhbHNlLFxyXG5cclxuICAgIFx0Ly/pppblhYjnoa7lrprkvb/nlKjnmoTlubPlj7BcclxuICAgIFx0SW5pdDpmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWxsU2NyZWVuID0gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICBcdC8v6I635Y+W5bm/5ZGK54K5SURcclxuXHQgICAgZ2V0QmFubmVyQWRJZDpmdW5jdGlvbigpXHJcblx0ICAgIHtcclxuXHRcdFx0bGV0IGlzS3VhaVNob3UgPSBmYWxzZTtcclxuXHRcdFx0aWYgKHR5cGVvZiBrcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHQvL+i/kOihjOWcqOW/q+aJi+W5s+WPsFxyXG5cdFx0XHRcdGlzS3VhaVNob3UgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiAhaXNLdWFpU2hvdSkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmJhbm5lcklkX3d4O1xyXG5cdFx0XHR9IGVsc2UgaWYgKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLkJBSURVX0dBTUUpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5iYW5uZXJJZF9iYWlkdTtcclxuXHRcdFx0fSBlbHNlIGlmIChjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5CWVRFREFOQ0VfR0FNRSkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLmJhbm5lcklkX3R0O1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdCAgICB9LFxyXG5cclxuXHQgICAgLy/ojrflj5blub/lkYrngrlJRCAg6L+Z6YeM6YWN572uIOinhumikeWlluWKseW5v+WRiiBJZCDnlLHkuo7kvJrmnInlpJrkuKrlub/lkYrngrkgIOagueaNruWQjuWPsOiuvue9ruadpemhtlxyXG5cdCAgICBnZXRWaWRlb0FkSWQ6ZnVuY3Rpb24oYWROYW1lKVxyXG5cdCAgICB7XHJcblx0XHRcdGxldCBpc0t1YWlTaG91ID0gZmFsc2U7XHJcblx0XHRcdGlmICh0eXBlb2Yga3MgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0Ly/ov5DooYzlnKjlv6vmiYvlubPlj7BcclxuXHRcdFx0XHRpc0t1YWlTaG91ID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdCAgICAgICAgdmFyIGFkSWQ7XHJcblx0ICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiAhaXNLdWFpU2hvdSlcclxuXHQgICAgICAgIHtcclxuXHQgICAgICAgICAgICBzd2l0Y2goYWROYW1lKVxyXG5cdCAgICAgICAgICAgIHtcclxuXHQgICAgICAgICAgICAgICAgY2FzZSBBZHNQYXJhbS5Qb2ludEE6XHJcblx0ICAgICAgICAgICAgICAgICAgICBhZElkID0gdGhpcy53eFZpZGVvSWRfMTtcclxuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgICAgICAgICBjYXNlIEFkc1BhcmFtLlBvaW50QjpcclxuXHQgICAgICAgICAgICAgICAgICAgIGFkSWQgPSB0aGlzLnd4VmlkZW9JZF8yO1xyXG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICAgICAgICAgIGNhc2UgQWRzUGFyYW0uUG9pbnRDOlxyXG5cdCAgICAgICAgICAgICAgICAgICAgYWRJZCA9IHRoaXMud3hWaWRlb0lkXzM7XHJcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgICAgICAgY2FzZSBBZHNQYXJhbS5Qb2ludEQ6XHJcblx0ICAgICAgICAgICAgICAgICAgICBhZElkID0gdGhpcy53eFZpZGVvSWRfNDtcclxuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgICAgICAgICBjYXNlIEFkc1BhcmFtLlBvaW50RTpcclxuXHQgICAgICAgICAgICAgICAgICAgIGFkSWQgPSB0aGlzLnd4VmlkZW9JZF81O1xyXG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICAgICAgICAgIGNhc2UgQWRzUGFyYW0uUG9pbnRGOlxyXG5cdCAgICAgICAgICAgICAgICAgICAgYWRJZCA9IHRoaXMud3hWaWRlb0lkXzY7XHJcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgICAgICAgY2FzZSBBZHNQYXJhbS5Qb2ludEc6XHJcblx0ICAgICAgICAgICAgICAgICAgICBhZElkID0gdGhpcy53eFZpZGVvSWRfNztcclxuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgICAgICAgICBjYXNlIEFkc1BhcmFtLlBvaW50SDpcclxuXHQgICAgICAgICAgICAgICAgICAgIGFkSWQgPSB0aGlzLnd4VmlkZW9JZF84O1xyXG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICAgICAgICAgIGNhc2UgQWRzUGFyYW0uUG9pbnRJOlxyXG5cdCAgICAgICAgICAgICAgICAgICAgYWRJZCA9IHRoaXMud3hWaWRlb0lkXzk7XHJcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgICAgICAgY2FzZSBBZHNQYXJhbS5Qb2ludEo6XHJcblx0ICAgICAgICAgICAgICAgICAgICBhZElkID0gdGhpcy53eFZpZGVvSWRfMTA7XHJcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBlbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLkJBSURVX0dBTUUpXHJcblx0ICAgICAgICB7XHJcblx0ICAgICAgICAgICAgc3dpdGNoKGFkTmFtZSlcclxuXHQgICAgICAgICAgICB7XHJcblx0ICAgICAgICAgICAgICAgIGNhc2UgQWRzUGFyYW0uUG9pbnRBOlxyXG5cdCAgICAgICAgICAgICAgICAgICAgYWRJZCA9IHRoaXMuYmRWaWRlb0lkXzE7XHJcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgICAgICAgY2FzZSBBZHNQYXJhbS5Qb2ludEI6XHJcblx0ICAgICAgICAgICAgICAgICAgICBhZElkID0gdGhpcy5iZFZpZGVvSWRfMjtcclxuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgICAgICAgICBjYXNlIEFkc1BhcmFtLlBvaW50QzpcclxuXHQgICAgICAgICAgICAgICAgICAgIGFkSWQgPSB0aGlzLmJkVmlkZW9JZF8zO1xyXG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICAgICAgICAgIGNhc2UgQWRzUGFyYW0uUG9pbnREOlxyXG5cdCAgICAgICAgICAgICAgICAgICAgYWRJZCA9IHRoaXMuYmRWaWRlb0lkXzQ7XHJcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgICAgICAgY2FzZSBBZHNQYXJhbS5Qb2ludEU6XHJcblx0ICAgICAgICAgICAgICAgICAgICBhZElkID0gdGhpcy5iZFZpZGVvSWRfNTtcclxuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgICAgICAgICBjYXNlIEFkc1BhcmFtLlBvaW50RjpcclxuXHQgICAgICAgICAgICAgICAgICAgIGFkSWQgPSB0aGlzLmJkVmlkZW9JZF82O1xyXG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICAgICAgICAgIGNhc2UgQWRzUGFyYW0uUG9pbnRHOlxyXG5cdCAgICAgICAgICAgICAgICAgICAgYWRJZCA9IHRoaXMuYmRWaWRlb0lkXzc7XHJcblx0ICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHQgICAgICAgICAgICAgICAgY2FzZSBBZHNQYXJhbS5Qb2ludEg6XHJcblx0ICAgICAgICAgICAgICAgICAgICBhZElkID0gdGhpcy5iZFZpZGVvSWRfODtcclxuXHQgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cdCAgICAgICAgICAgICAgICBjYXNlIEFkc1BhcmFtLlBvaW50STpcclxuXHQgICAgICAgICAgICAgICAgICAgIGFkSWQgPSB0aGlzLmJkVmlkZW9JZF85O1xyXG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICAgICAgICAgIGNhc2UgQWRzUGFyYW0uUG9pbnRKOlxyXG5cdCAgICAgICAgICAgICAgICAgICAgYWRJZCA9IHRoaXMuYmRWaWRlb0lkXzEwO1xyXG5cdCAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgcmV0dXJuIGFkSWQ7XHJcblx0ICAgIH0sXHJcblxyXG5cdCAgICBTaG93QmFubmVyQWRzOmZ1bmN0aW9uKClcclxuXHQgICAge1xyXG5cdCAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cdFx0XHRsZXQgaXNLdWFpU2hvdSA9IGZhbHNlO1xyXG5cdFx0XHRpZiAodHlwZW9mIGtzICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdC8v6L+Q6KGM5Zyo5b+r5omL5bmz5Y+wXHJcblx0XHRcdFx0aXNLdWFpU2hvdSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHQgICAgICAgIGlmKHRoaXMuYmFubmVyQWRTaG93TnVtID09IG51bGwpXHJcblx0ICAgICAgICAgICAgdGhpcy5iYW5uZXJBZFNob3dOdW0gPSAwO1xyXG5cdCAgICAgICAgdGhpcy5iYW5uZXJBZFNob3dOdW0gKys7XHJcblx0ICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiAhaXNLdWFpU2hvdSlcclxuXHQgICAgICAgIHtcclxuXHQgICAgICAgICAgICBpZih0aGlzLmJhbm5lckFkQ3RybCAhPW51bGwgJiYgdGhpcy5iYW5uZXJBZFNob3dOdW0lNSE9MClcclxuXHQgICAgICAgICAgICB7XHJcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgdGhpcy5iYW5uZXJBZFNob3dOdW0gPSAwO1xyXG5cclxuXHQgICAgICAgICAgICBpZih0aGlzLmJhbm5lckFkQ3RybCAhPW51bGwpXHJcblx0ICAgICAgICAgICAgICAgIHRoaXMuYmFubmVyQWRDdHJsLmRlc3Ryb3koKTtcclxuXHQgICAgICAgICAgICBsZXQgV1hBRD17fTtcclxuXHQgICAgICAgICAgICBXWEFELlcgPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpLndpbmRvd1dpZHRoO1xyXG5cdCAgICAgICAgICAgIFdYQUQuSCA9IHd4LmdldFN5c3RlbUluZm9TeW5jKCkud2luZG93SGVpZ2h0O1xyXG5cclxuXHQgICAgICAgICAgICBsZXQgYWRXaWR0aCA9IDA7XHJcblx0ICAgICAgICAgICAgaWYodGhpcy5hbGxTY3JlZW4pXHJcblx0ICAgICAgICAgICAgICAgIGFkV2lkdGggPSBXWEFELlc7XHJcblx0ICAgICAgICAgICAgZWxzZVxyXG5cdCAgICAgICAgICAgICAgICBhZFdpZHRoID0gMzAwO1xyXG5cdCAgICAgICAgICAgIHRoaXMuYmFubmVyQWRDdHJsID0gd3guY3JlYXRlQmFubmVyQWQoe1xyXG5cdCAgICAgICAgICAgICAgICBhZFVuaXRJZDogdGhpcy5nZXRCYW5uZXJBZElkKCksXHJcblx0ICAgICAgICAgICAgICAgIHN0eWxlOiB7IFxyXG5cdCAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcclxuXHQgICAgICAgICAgICAgICAgICAgIHRvcDogMC8qLyhXWEFELkgvMTApKjgqLyxcclxuXHQgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBhZFdpZHRoLFxyXG5cdCAgICAgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgfSk7XHJcblx0ICAgICAgICAgICAgdGhpcy5iYW5uZXJBZEN0cmwub25SZXNpemUocmVzPT57XHJcblx0ICAgIFxyXG5cdCAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIumHjee9ruW5v+WRiuWuveW6piBcIiArIFdYQUQuSCArIFwiICwgXCIgKyBzZWxmLmJhbm5lckFkQ3RybC5zdHlsZS5yZWFsSGVpZ2h0KTtcclxuXHQgICAgICAgICAgICAgICAgc2VsZi5iYW5uZXJBZEN0cmwuc3R5bGUudG9wID0gV1hBRC5ILXNlbGYuYmFubmVyQWRDdHJsLnN0eWxlLnJlYWxIZWlnaHQ7XHJcblx0ICAgICAgICAgICAgICAgIHNlbGYuYmFubmVyQWRDdHJsLnN0eWxlLmxlZnQgPSAoV1hBRC5XLXNlbGYuYmFubmVyQWRDdHJsLnN0eWxlLnJlYWxXaWR0aCkvMjtcclxuXHQgICAgICAgICAgICAgICAgc2VsZi5iYW5uZXJBZEN0cmwuc2hvdygpO1xyXG5cdCAgICAgICAgICAgICAgICBcclxuXHQgICAgICAgICAgICB9KTsgXHJcblx0ICAgICAgICAgICAgdGhpcy5iYW5uZXJBZEN0cmwub25FcnJvcihlcnIgPT4geyBjb25zb2xlLmxvZyhlcnIpIH0pOyBcclxuXHQgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaYvuekuuW5v+WRilwiKTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQkFJRFVfR0FNRSlcclxuXHQgICAgICAgIHtcclxuXHQgICAgICAgICAgICBpZihzd2FuLmdldFN5c3RlbUluZm9TeW5jKCkucGxhdGZvcm0gPT0gJ2lvcycpIC8v55uu5YmNIGlvcyDkuI3mlK/mjIHop4bpopHlub/lkYpcclxuXHQgICAgICAgICAgICB7XHJcblx0ICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgaWYodGhpcy5iYW5uZXJBZEN0cmwgIT1udWxsKVxyXG5cdCAgICAgICAgICAgICAgICB0aGlzLmJhbm5lckFkQ3RybC5kZXN0cm95KCk7XHJcblx0ICAgICAgICAgICAgbGV0IFdYQUQ9e307XHJcblxyXG5cdCAgICAgICAgICAgIFdYQUQuVyA9IHN3YW4uZ2V0U3lzdGVtSW5mb1N5bmMoKS53aW5kb3dXaWR0aDtcclxuXHQgICAgICAgICAgICBXWEFELkggPSBzd2FuLmdldFN5c3RlbUluZm9TeW5jKCkud2luZG93SGVpZ2h0O1xyXG5cclxuXHQgICAgICAgICAgICBjb25zb2xlLmxvZyhcIueZvuW6pueahCBiYW5uZXJJZCA9IFwiICsgdGhpcy5nZXRCYW5uZXJBZElkKCkpO1xyXG5cdCAgICAgICAgICAgIHRoaXMuYmFubmVyQWRDdHJsID0gc3dhbi5jcmVhdGVCYW5uZXJBZCh7XHJcblx0ICAgICAgICAgICAgICAgIGFkVW5pdElkOiB0aGlzLmdldEJhbm5lckFkSWQoKSxcclxuXHQgICAgICAgICAgICAgICAgYXBwU2lkOidjMGZiNDA3ZicsXHJcblx0ICAgICAgICAgICAgICAgIHN0eWxlOiB7IFxyXG5cdCAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcclxuXHQgICAgICAgICAgICAgICAgICAgIHRvcDogMCxcclxuXHQgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAzMjEsXHJcblx0ICAgICAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICB9KTtcclxuXHJcblx0ICAgICAgICAgICAgaWYodGhpcy5hbGxTY3JlZW4pXHJcblx0ICAgICAgICAgICAgICAgIHNlbGYuYmFubmVyQWRDdHJsLnN0eWxlLndpZHRoID0gV1hBRC5IO1xyXG5cdCAgICAgICAgICAgIGVsc2VcclxuXHQgICAgICAgICAgICAgICAgc2VsZi5iYW5uZXJBZEN0cmwuc3R5bGUud2lkdGggPSAzMDA7XHJcblx0ICAgICAgICAgICBcclxuXHQgICAgICAgICAgICB0aGlzLmJhbm5lckFkQ3RybC5vblJlc2l6ZShyZXM9PntcclxuXHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLph43nva7lub/lkYrlrr3luqYgXCIpO1xyXG5cdCAgICAgICAgICAgICAgICBzZWxmLmJhbm5lckFkQ3RybC5zdHlsZS50b3AgPSBXWEFELkgtcmVzLmhlaWdodDtcclxuXHQgICAgICAgICAgICAgICAgc2VsZi5iYW5uZXJBZEN0cmwuc3R5bGUubGVmdCA9IChXWEFELlctcmVzLndpZHRoKS8yO1xyXG5cdCAgICAgICAgICAgICAgICBzZWxmLmJhbm5lckFkQ3RybC5zaG93KCk7XHJcblx0ICAgICAgICAgICAgICAgIFxyXG5cdCAgICAgICAgICAgIH0pOyBcclxuXHJcblx0ICAgICAgICAgICAgdGhpcy5iYW5uZXJBZEN0cmwub25Mb2FkKCgpID0+IHtcclxuXHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyBiYW5uZXIg5Yqg6L295a6M5oiQJyk7XHJcblx0ICAgICAgICAgICAgICAgIHNlbGYuYmFubmVyQWRDdHJsLnNob3coKTtcclxuXHQgICAgICAgICAgICB9KTtcclxuXHQgICAgICAgICAgICBcclxuXHQgICAgICAgICAgICB0aGlzLmJhbm5lckFkQ3RybC5vbkVycm9yKGVyciA9PiB7IGNvbnNvbGUubG9nKGVycikgfSk7IFxyXG5cdCAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5pi+56S65bm/5ZGKXCIpO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9LFxyXG5cclxuXHQgICAgSGlkZUJhbm5lckFkOmZ1bmN0aW9uKCl7XHJcblx0ICAgIFx0aWYodGhpcy5iYW5uZXJBZEN0cmwgIT0gbnVsbClcclxuXHQgICAgXHRcdHRoaXMuYmFubmVyQWRDdHJsLmhpZGUoKTtcclxuXHQgICAgfSxcclxuXHJcblx0ICAgIFJlY292ZXJTaG93QmFubmVyOmZ1bmN0aW9uKCl7XHJcblx0ICAgIFx0aWYodGhpcy5iYW5uZXJBZEN0cmwgIT0gbnVsbClcclxuXHQgICAgXHRcdHRoaXMuYmFubmVyQWRDdHJsLnNob3coKTtcclxuXHQgICAgXHRlbHNlXHJcblx0ICAgIFx0XHR0aGlzLlNob3dCYW5uZXJBZHMoKTtcclxuXHQgICAgfSxcclxuXHJcblx0ICAgIERlc3Ryb3lCYW5uZXI6ZnVuY3Rpb24oKXtcclxuXHQgICAgXHRpZih0aGlzLmJhbm5lckFkQ3RybCAhPW51bGwpXHJcblx0ICAgICAgICAgICAgdGhpcy5iYW5uZXJBZEN0cmwuZGVzdHJveSgpO1xyXG5cdCAgICB9LFxyXG5cclxuXHQgICAgLy9jYiDlm57osIPlj4LmlbAgMCDmkq3mlL7lrozmiJDvvIwxIOS4jeaUvuacquWujOaIkCDvvIwtMSDop4bpopHliqDovb3lh7rplJlcclxuXHQgICAgLy8gU2hvd1ZpZGVvQWRzOmZ1bmN0aW9uKGFkTmFtZSxjYilcclxuXHQgICAgLy8ge1xyXG5cdCAgICAvLyAgICAgdGhpcy5jYiA9IGNiXHJcblx0ICAgIC8vICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5XRUNIQVRfR0FNRSlcclxuXHQgICAgLy8gICAgIHtcclxuXHQgICAgLy8gICAgICAgICBsZXQgdmlkZW9BZCA9IHd4LmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7XHJcblx0ICAgIC8vICAgICAgICAgICAgIGFkVW5pdElkOiB0aGlzLmdldFZpZGVvQWRJZChhZE5hbWUpXHJcblx0ICAgIC8vICAgICAgICAgfSlcclxuXHQgICAgLy9cclxuXHQgICAgLy8gICAgICAgICB2aWRlb0FkLmxvYWQoKVxyXG5cdCAgICAvLyAgICAgICAgIC50aGVuKCgpID0+IHZpZGVvQWQuc2hvdygpKVxyXG5cdCAgICAvLyAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyLmVyck1zZykpXHJcblx0XHQvL1xyXG5cdCAgICAvLyAgICAgICAgIHZpZGVvQWQub25FcnJvcihlcnIgPT4ge1xyXG5cdCAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW5v+WRiuWKoOi9veWHuumUmSBcIiArIGVyci5lcnJNc2cpXHJcblx0ICAgIC8vICAgICAgICAgICAgIHRoaXMuY2IoLTEpO1xyXG5cdCAgICAvLyAgICAgICAgIH0pO1xyXG5cdFx0Ly9cclxuXHQgICAgLy8gICAgICAgICB2aWRlb0FkLm9uTG9hZCgoKT0+eyBjb25zb2xlLmxvZyhcIuWKoOi9veS6i+S7tuWbnuiwg1wiKSB9KTtcclxuXHRcdC8vXHJcblx0ICAgIC8vICAgICAgICAgdmlkZW9BZC5vbkNsb3NlKHJlcyA9PntcclxuXHQgICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coXCLmmK/lkKbop4LnnIvlrozmlbTkuoYgXCIgKyByZXMuaXNFbmRlZClcclxuXHQgICAgLy8gICAgICAgICAgICAgdGhpcy5jYihyZXMuaXNFbmRlZD8wOjEpO1xyXG5cdCAgICAvLyAgICAgICAgICAgICB2aWRlb0FkLm9mZkxvYWQoKTtcclxuXHQgICAgLy8gICAgICAgICAgICAgdmlkZW9BZC5vZmZFcnJvcigpO1xyXG5cdCAgICAvLyAgICAgICAgICAgICB2aWRlb0FkLm9mZkNsb3NlKCk7XHJcblx0XHQvL1xyXG5cdCAgICAvLyAgICAgICAgIH0pO1xyXG5cdFx0Ly9cclxuXHQgICAgLy8gICAgIH1cclxuXHQgICAgLy8gICAgIGVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQkFJRFVfR0FNRSlcclxuXHQgICAgLy8gICAgIHtcclxuXHQgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIueZvuW6pueahOinhumikeW5v+WRiiAgXCIgKyB0aGlzLmdldFZpZGVvQWRJZChhZE5hbWUpKTtcclxuXHRcdC8vXHJcblx0ICAgIC8vICAgICAgICAgbGV0IHZpZGVvQWQgPSBzd2FuLmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7XHJcblx0ICAgIC8vICAgICAgICAgICAgIGFkVW5pdElkOiB0aGlzLmdldFZpZGVvQWRJZChhZE5hbWUpLFxyXG5cdCAgICAvLyAgICAgICAgICAgICBhcHBTaWQ6ICdjMGZiNDA3ZicsXHJcblx0ICAgIC8vICAgICAgICAgfSlcclxuXHQgICAgLy9cclxuXHQgICAgLy8gICAgICAgICB2aWRlb0FkLmxvYWQoKVxyXG5cdCAgICAvLyAgICAgICAgIC50aGVuKCgpID0+IHZpZGVvQWQuc2hvdygpKVxyXG5cdCAgICAvLyAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyLmVyck1zZykpXHJcblx0XHQvL1xyXG5cdCAgICAvLyAgICAgICAgIHZpZGVvQWQub25FcnJvcihlcnIgPT4ge1xyXG5cdCAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW5v+WRiuWKoOi9veWHuumUmSBcIiArIGVyci5lcnJNc2cpXHJcblx0ICAgIC8vICAgICAgICAgICAgIHRoaXMuY2IoLTEpO1xyXG5cdCAgICAvLyAgICAgICAgIH0pO1xyXG5cdFx0Ly9cclxuXHQgICAgLy8gICAgICAgICB2aWRlb0FkLm9uTG9hZCgoKT0+eyBjb25zb2xlLmxvZyhcIuWKoOi9veS6i+S7tuWbnuiwg1wiKSB9KTtcclxuXHRcdC8vXHJcblx0ICAgIC8vICAgICAgICAgdmlkZW9BZC5vbkNsb3NlKHJlcyA9PntcclxuXHQgICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coXCLmmK/lkKbop4LnnIvlrozmlbTkuoYgXCIgKyByZXMuaXNFbmRlZClcclxuXHQgICAgLy8gICAgICAgICAgICAgdGhpcy5jYihyZXMuaXNFbmRlZD8wOjEpO1xyXG5cdCAgICAvLyAgICAgICAgICAgICB2aWRlb0FkLm9mZkxvYWQoKTtcclxuXHQgICAgLy8gICAgICAgICAgICAgdmlkZW9BZC5vZmZFcnJvcigpO1xyXG5cdCAgICAvLyAgICAgICAgICAgICB2aWRlb0FkLm9mZkNsb3NlKCk7XHJcblx0XHQvL1xyXG5cdCAgICAvLyAgICAgICAgIH0pO1xyXG5cdFx0Ly9cclxuXHQgICAgLy8gICAgIH1cclxuXHQgICAgLy8gICAgIGVsc2VcclxuXHQgICAgLy8gICAgIHtcclxuXHQgICAgLy8gICAgICAgICB0aGlzLmNiKDApO1xyXG5cdCAgICAvLyAgICAgfVxyXG5cdCAgICAvLyB9LFxyXG5cclxuXHRcdC8vY2Ig5Zue6LCD5Y+C5pWwIDAg5pKt5pS+5a6M5oiQ77yMMSDkuI3mlL7mnKrlrozmiJAg77yMLTEg6KeG6aKR5Yqg6L295Ye66ZSZXHJcblx0XHRTaG93VmlkZW9BZHM6ZnVuY3Rpb24oYWROYW1lLGNiKSB7XHJcblx0XHRcdHRoaXMuY2IgPSBjYlxyXG5cdFx0XHRsZXQgaXNLdWFpU2hvdSA9IGZhbHNlO1xyXG5cdFx0XHRpZiAodHlwZW9mIGtzICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdC8v6L+Q6KGM5Zyo5b+r5omL5bmz5Y+wXHJcblx0XHRcdFx0aXNLdWFpU2hvdSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKSB7XHJcblx0XHRcdFx0bGV0IHJld2FyZGVkVmlkZW9BZEluZm8gPSB7XHJcblx0XHRcdFx0XHRhZFVuaXRJZDogJzExMzVoMGdjOGNpYWgxODJqMicsXHJcblx0XHRcdFx0XHRvbkNsb3NlOiBvbkNsb3NlUmVzID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5jYihvbkNsb3NlUmVzICYmIG9uQ2xvc2VSZXMuaXNFbmRlZCA/IDAgOiAxKVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdG9uRXJyb3I6IGVycm9yID0+IHRoaXMuY2IoLTEpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGV5b3VDbGllbnRUaWt0b2suZ2V0SW5zKCkuY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHJld2FyZGVkVmlkZW9BZEluZm8sIGNyZWF0ZVJld2FyZGVkVmlkZW9BZFJlcyA9PiB7XHJcblx0XHRcdFx0XHRpZiAoY3JlYXRlUmV3YXJkZWRWaWRlb0FkUmVzLmNvZGUgPT09IDApIHtcclxuXHRcdFx0XHRcdFx0ZXlvdUNsaWVudFRpa3Rvay5nZXRJbnMoKS5zaG93UmV3YXJkZWRWaWRlb0FkKClcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuY2IoLTEpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSBlbHNlIGlmIChjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiAhaXNLdWFpU2hvdSkge1xyXG5cdFx0XHRcdGxldCByZXdhcmRlZFZpZGVvQWRJbmZvID0ge1xyXG5cdFx0XHRcdFx0YWRVbml0SWQ6ICdhZHVuaXQtM2NmMzcyZmQ3NDg3ZmQ4NycsXHJcblx0XHRcdFx0XHRvbkNsb3NlOiBvbkNsb3NlUmVzID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5jYihvbkNsb3NlUmVzICYmIG9uQ2xvc2VSZXMuY29kZSA9PT0gMCA/IDAgOiAxKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRleW91Q2xpZW50LmdldElucygpLmNyZWF0ZVJld2FyZGVkVmlkZW9BZChyZXdhcmRlZFZpZGVvQWRJbmZvLCBjcmVhdGVSZXdhcmRlZFZpZGVvQWRSZXMgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGNyZWF0ZVJld2FyZGVkVmlkZW9BZFJlcy5jb2RlID09PSAwKSB7XHJcblx0XHRcdFx0XHRcdGV5b3VDbGllbnQuZ2V0SW5zKCkuc2hvd1Jld2FyZGVkVmlkZW9BZCgpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fWVsc2UgaWYgKGlzS3VhaVNob3Upe1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwi5b+r5omL5bm/5ZGKXCIpXHJcblx0XHRcdFx0bGV0IHJld2FyZGVkVmlkZW9BZEluZm8gPSB7XHJcblx0XHRcdFx0XHRhZFVuaXRJZDogJzIzMDAwMDk1MjVfMDEnLFxyXG5cdFx0XHRcdFx0b25DbG9zZTogb25DbG9zZVJlcyA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMuY2Iob25DbG9zZVJlcyAmJiBvbkNsb3NlUmVzLmlzRW5kZWQgPyAwIDogMSlcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRvbkVycm9yOiBlcnJvciA9PiB0aGlzLmNiKC0xKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRleW91Q2xpZW50S3MuZ2V0SW5zKCkuY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHJld2FyZGVkVmlkZW9BZEluZm8sIGNyZWF0ZVJld2FyZGVkVmlkZW9BZFJlcyA9PiB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIuWIm+W7uua/gOWKseinhumikee7hOS7tuWbnuiwgzo+XCIsIGNyZWF0ZVJld2FyZGVkVmlkZW9BZFJlcyk7XHJcblx0XHRcdFx0XHRpZiAoY3JlYXRlUmV3YXJkZWRWaWRlb0FkUmVzLmNvZGUgPT09IDApIHtcclxuXHRcdFx0XHRcdFx0ZXlvdUNsaWVudEtzLmdldElucygpLnNob3dSZXdhcmRlZFZpZGVvQWQoKVxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5jYigtMSlcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG4gICAgfSwgXHJcbn0pO1xyXG5tb2R1bGUuZXhwb3J0cyA9IEFkc01ncjtcclxuIl19