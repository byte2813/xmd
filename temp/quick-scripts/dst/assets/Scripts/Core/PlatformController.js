
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/Core/PlatformController.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'df981lfZ3ZDuI2YfqwwH8kx', 'PlatformController');
// Scripts/Core/PlatformController.js

"use strict";

var PlatformController = cc.Class({
  statics: {
    wxSubContextViewLock: 0,
    //微信 wx
    //头条 tt
    //百度 baidu
    nickName: "校长王",
    Init: function Init() {
      this.InitRandNickName();

      // this.CreateGameClub();
    },

    //百度 头条等先判定是否登陆了
    IsLoginSync: function IsLoginSync() {
      if (cc.sys.platform === cc.sys.BAIDU_GAME) {
        var result = swan.isLoginSync();
        if (result.isLogin) {
          console.log("已经有登陆了");
          return true;
        }
        return false;
      } else if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {}
      return true;
    },
    Login: function Login() {
      var self = this;
      if (cc.sys.platform === cc.sys.BAIDU_GAME) {
        swan.login({
          success: function success() {
            self.setUserCloudStorage(cc.Mgr.UserDataMgr.HistoryHighAssets);
          },
          fail: function fail() {
            swan.showModal({
              title: "登录失败",
              content: "是否重新登录？",
              cancelText: "退出游戏",
              success: function success(res) {
                if (res.confirm) {
                  console.log("点击了确定");
                  self.Login();
                } else if (res.cancel) {
                  console.log("点击了取消");
                  swan.exit();
                }
              }
            });
          }
        });
      } else if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {}
      return true;
    },
    //游戏圈按钮
    CreateGameClub: function CreateGameClub() {
      var isKuaiShou = false;
      if (typeof ks !== 'undefined') {
        //运行在快手平台
        isKuaiShou = true;
      }
      if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) {
        var winSize = cc.view.getVisibleSize();
        var leftRatio = 68 / winSize.width;
        var topRatio = 275 / winSize.height;
        var sysInfo = wx.getSystemInfoSync();
        this.leftPos = sysInfo.windowWidth * leftRatio;
        this.topPos = sysInfo.windowHeight * topRatio;
        console.log(this.topPos + "  ================创建游戏圈按钮===============" + this.leftPos);
        var self = this;
        this.gameClubBtn = wx.createGameClubButton({
          icon: 'green',
          text: "游戏圈",
          style: {
            left: self.leftPos - 20,
            top: self.topPos - 20,
            width: 45,
            height: 45
          }
        });
      }
    },
    ShowClubButton: function ShowClubButton(flag) {
      if (flag === void 0) {
        flag = false;
      }
      var isKuaiShou = false;
      if (typeof ks !== 'undefined') {
        //运行在快手平台
        isKuaiShou = true;
      }
      if (cc.sys.platform === cc.sys.WECHAT_GAME && this.gameClubBtn != null && !isKuaiShou) {
        if (flag == true) this.gameClubBtn.show();else this.gameClubBtn.hide();
      }
    },
    //随机一个名字
    InitRandNickName: function InitRandNickName() {
      var seed = Math.floor(Math.random() * 24) + 1;
      this.nickName = cc.Mgr.global.getTranslation("Name" + seed);
      cc.log("================================ " + this.nickName);
    },
    //右上角的转发按钮
    ShareTopNav: function ShareTopNav() {
      var index = Math.floor(Math.random() * 6);
      var info = cc.Mgr.ShareInfos.getShareInfos(index);
      var isKuaiShou = false;
      if (typeof ks !== 'undefined') {
        //运行在快手平台
        isKuaiShou = true;
      }
      if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) {
        wx.showShareMenu({
          withShareTicket: true
        });
        wx.onShareAppMessage(function () {
          // 用户点击了“转发”按钮
          return {
            title: "【有人@你】我在这个游戏里面挣了一个亿",
            imageUrlId: 'dwMg-qBPS8S7MIWk4VRHxw',
            imageUrl: "https://paopao.talkyun.com.cn/yiyi/1.jpg"
          };
        });
      } else if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {
        tt.showShareMenu(false);
        tt.onShareAppMessage(function () {
          // 用户点击了“转发”按钮
          return {
            title: info.text,
            //imageUrlId: 'Ik14RZj7SV2BtigrtE3d1g',
            imageUrl: info.url
          };
        });
      } else if (cc.sys.platform === cc.sys.BAIDU_GAME) {
        swan.showShareMenu(false);
        swan.onShareAppMessage(function () {
          // 用户点击了“转发”按钮
          return {
            title: info.text,
            imageUrl: info.url
          };
        });
      }
    },
    //转发一段文本
    ShareToFriendTxt: function ShareToFriendTxt(str) {
      var isKuaiShou = false;
      if (typeof ks !== 'undefined') {
        //运行在快手平台
        isKuaiShou = true;
      }
      if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) {
        console.log("点击了分享啊");
        wx.shareAppMessage({
          title: str
        });
      } else if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {
        tt.shareAppMessage({
          title: str
        });
      } else if (cc.sys.platform === cc.sys.BAIDU_GAME) {
        console.log("点击了分享啊");
        swan.shareAppMessage({
          title: str
        });
      } else if (isKuaiShou) {
        ks.shareAppMessage({});
      }
    },
    //自定义转发
    ShareToFriend: function ShareToFriend(index) {
      var info = cc.Mgr.ShareInfos.getShareInfos(index);
      var isKuaiShou = false;
      if (typeof ks !== 'undefined') {
        //运行在快手平台
        isKuaiShou = true;
      }
      if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) {
        console.log("点击了分享啊");
        wx.shareAppMessage({
          title: info.text,
          imageUrl: info.url
        });
      } else if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {
        tt.shareAppMessage({
          title: info.text,
          imageUrl: info.url
        });
      } else if (cc.sys.platform === cc.sys.BAIDU_GAME) {
        console.log("点击了分享啊");
        swan.shareAppMessage({
          title: info.text,
          imageUrl: info.url
        });
      } else if (isKuaiShou) {
        ks.shareAppMessage({});
      }
    },
    //显示平台的小弹窗 回调用
    showToast: function showToast(text) {
      var isKuaiShou = false;
      if (typeof ks !== 'undefined') {
        //运行在快手平台
        isKuaiShou = true;
      }
      cc.log(text);
      if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) {
        wx.showToast({
          title: text,
          icon: 'success',
          duration: 2000
        });
      } else if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {
        tt.showToast({
          title: text,
          icon: 'success',
          duration: 2000
        });
      } else if (cc.sys.platform === cc.sys.BAIDU_GAME) {
        swan.showToast({
          title: text,
          icon: 'success',
          duration: 2000
        });
      } else if (isKuaiShou) {
        ks.showToast({
          title: text,
          icon: 'success',
          duration: 2000
        });
      }
    },
    //微信开放数据存储 score 代表当前要保存的东西
    setUserCloudStorage: function setUserCloudStorage(socre) {
      if (!this.IsLoginSync()) {
        return;
      }
      var isKuaiShou = false;
      if (typeof ks !== 'undefined') {
        //运行在快手平台
        isKuaiShou = true;
      }
      cc.log("setUserCloudStorage socre = " + socre);
      if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) {
        var kvData = {};
        kvData.wxgame = {};
        kvData.wxgame.score = socre;
        kvData.wxgame.update_time = new Date().getTime();
        console.log(JSON.stringify(kvData));
        var kvDataList = new Array();
        kvDataList.push({
          key: "xmbScore",
          value: JSON.stringify(kvData)
        });
        wx.setUserCloudStorage({
          KVDataList: kvDataList,
          success: function success(res) {
            console.log("success:" + JSON.stringify(res));
          },
          fail: function fail(res) {
            console.log("fail : " + res);
          }
        });
      } else if (cc.sys.platform === cc.sys.BAIDU_GAME) {
        var kvData = {};
        kvData.wxgame = {};
        kvData.wxgame.score = socre;
        kvData.wxgame.update_time = new Date().getTime();
        console.log(JSON.stringify(kvData));
        var kvDataList = new Array();
        kvDataList.push({
          key: "xmbScore",
          value: JSON.stringify(kvData)
        });
        swan.setUserCloudStorage({
          KVDataList: kvDataList,
          success: function success(res) {
            return console.log("success " + res);
          },
          fail: function fail(res) {
            return console.log("fail " + res);
          },
          complete: function complete(res) {
            return console.log("complete " + res);
          }
        });
      }
    },
    //是否支持排行功能
    IsSupportRank: function IsSupportRank() {
      var isKuaiShou = false;
      if (typeof ks !== 'undefined') {
        //运行在快手平台
        isKuaiShou = true;
      }
      if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou || cc.sys.platform === cc.sys.BAIDU_GAME) return true;
      return false;
    },
    //显示子域
    showSubContentView: function showSubContentView() {
      var isKuaiShou = false;
      if (typeof ks !== 'undefined') {
        //运行在快手平台
        isKuaiShou = true;
      }
      if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou || cc.sys.platform === cc.sys.BAIDU_GAME) {
        var param = {};
        param.flag = true;
        cc.director.GlobalEvent.emit(cc.Mgr.Event.ShowRank, param);
      }
    },
    hideSubContentView: function hideSubContentView() {
      var isKuaiShou = false;
      if (typeof ks !== 'undefined') {
        //运行在快手平台
        isKuaiShou = true;
      }
      if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou || cc.sys.platform === cc.sys.BAIDU_GAME) {
        var param = {};
        param.flag = false;
        cc.director.GlobalEvent.emit(cc.Mgr.Event.ShowRank, param);
      }
    },
    SendMessageToSubView: function SendMessageToSubView(code, curScore) {
      if (curScore === void 0) {
        curScore = 0;
      }
      var msg = {};
      msg.code = code;
      msg.curScore = curScore;
      var isKuaiShou = false;
      if (typeof ks !== 'undefined') {
        //运行在快手平台
        isKuaiShou = true;
      }
      if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) {
        wx.getOpenDataContext().postMessage({
          message: msg
        });
      } else if (cc.sys.platform === cc.sys.BAIDU_GAME) {
        swan.getOpenDataContext().postMessage({
          message: msg
        });
      }
    },
    //整理数据
    CollateData: function CollateData(data) {
      this.userInfo = [];
      var j = 0;
      for (var _i = 0; _i < data.length; ++_i) {
        if (data[_i].KVDataList.length == 0) {
          console.log("combData 没有此项数据");
          continue;
        }
        //{"openid":"o0OhZ5Kn2xO9b5FVR8TE0YXOl3Wc","nickname":"杨彬","avatarUrl":"https://wx.qlogo.cn/mmopen/vi_32/FcRibGPkicSKhn6LA1OWfL7ictiaKiajzibzW8zwQibkGKdCJmmiasvibcRasI2KytcVtW8ClH5IQTsOs3CB8vyMSUAOarA/132","KVDataList":[{"key":"\belsfkScore","value":"{\"wxgame\":{\"score\":1889,\"update_time\":1553824369920}}"}]}
        this.userInfo[j] = {};
        this.userInfo[j].openid = data[_i].openid;
        this.userInfo[j].nickname = data[_i].nickname;
        this.userInfo[j].avatarUrl = data[_i].avatarUrl;
        var kVDataListValuestr = data[_i].KVDataList[0].value;
        kVDataListValuestr = kVDataListValuestr.substr(1); //删除第一个字符
        kVDataListValuestr = kVDataListValuestr.substr(0, kVDataListValuestr.length - 1);
        kVDataListValuestr = "{" + kVDataListValuestr + "}";
        var gameScore = JSON.parse(kVDataListValuestr).wxgame;
        this.userInfo[j].score = gameScore.score;
        j++;
      }
      //给用户数据进行排序
      this.userInfo.sort(function (a, b) {
        if (a.score < b.score) return 1;else if (a.score > b.score) return -1;else return 0;
      });
      console.log("CollateData--- " + JSON.stringify(this.userInfo));
      for (var i = 0; i < this.userInfo.length; i++) {
        //挑出自己的排名
        if (this.userInfo[i].avatarUrl == this.avatarUrl) {
          this.mySordId = i;
        }
      }
    }
  }
});
module.exports = PlatformController;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcQ29yZVxcUGxhdGZvcm1Db250cm9sbGVyLmpzIl0sIm5hbWVzIjpbIlBsYXRmb3JtQ29udHJvbGxlciIsImNjIiwiQ2xhc3MiLCJzdGF0aWNzIiwid3hTdWJDb250ZXh0Vmlld0xvY2siLCJuaWNrTmFtZSIsIkluaXQiLCJJbml0UmFuZE5pY2tOYW1lIiwiSXNMb2dpblN5bmMiLCJzeXMiLCJwbGF0Zm9ybSIsIkJBSURVX0dBTUUiLCJyZXN1bHQiLCJzd2FuIiwiaXNMb2dpblN5bmMiLCJpc0xvZ2luIiwiY29uc29sZSIsImxvZyIsIkJZVEVEQU5DRV9HQU1FIiwiTG9naW4iLCJzZWxmIiwibG9naW4iLCJzdWNjZXNzIiwic2V0VXNlckNsb3VkU3RvcmFnZSIsIk1nciIsIlVzZXJEYXRhTWdyIiwiSGlzdG9yeUhpZ2hBc3NldHMiLCJmYWlsIiwic2hvd01vZGFsIiwidGl0bGUiLCJjb250ZW50IiwiY2FuY2VsVGV4dCIsInJlcyIsImNvbmZpcm0iLCJjYW5jZWwiLCJleGl0IiwiQ3JlYXRlR2FtZUNsdWIiLCJpc0t1YWlTaG91Iiwia3MiLCJXRUNIQVRfR0FNRSIsIndpblNpemUiLCJ2aWV3IiwiZ2V0VmlzaWJsZVNpemUiLCJsZWZ0UmF0aW8iLCJ3aWR0aCIsInRvcFJhdGlvIiwiaGVpZ2h0Iiwic3lzSW5mbyIsInd4IiwiZ2V0U3lzdGVtSW5mb1N5bmMiLCJsZWZ0UG9zIiwid2luZG93V2lkdGgiLCJ0b3BQb3MiLCJ3aW5kb3dIZWlnaHQiLCJnYW1lQ2x1YkJ0biIsImNyZWF0ZUdhbWVDbHViQnV0dG9uIiwiaWNvbiIsInRleHQiLCJzdHlsZSIsImxlZnQiLCJ0b3AiLCJTaG93Q2x1YkJ1dHRvbiIsImZsYWciLCJzaG93IiwiaGlkZSIsInNlZWQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJnbG9iYWwiLCJnZXRUcmFuc2xhdGlvbiIsIlNoYXJlVG9wTmF2IiwiaW5kZXgiLCJpbmZvIiwiU2hhcmVJbmZvcyIsImdldFNoYXJlSW5mb3MiLCJzaG93U2hhcmVNZW51Iiwid2l0aFNoYXJlVGlja2V0Iiwib25TaGFyZUFwcE1lc3NhZ2UiLCJpbWFnZVVybElkIiwiaW1hZ2VVcmwiLCJ0dCIsInVybCIsIlNoYXJlVG9GcmllbmRUeHQiLCJzdHIiLCJzaGFyZUFwcE1lc3NhZ2UiLCJTaGFyZVRvRnJpZW5kIiwic2hvd1RvYXN0IiwiZHVyYXRpb24iLCJzb2NyZSIsImt2RGF0YSIsInd4Z2FtZSIsInNjb3JlIiwidXBkYXRlX3RpbWUiLCJEYXRlIiwiZ2V0VGltZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJrdkRhdGFMaXN0IiwiQXJyYXkiLCJwdXNoIiwia2V5IiwidmFsdWUiLCJLVkRhdGFMaXN0IiwiY29tcGxldGUiLCJJc1N1cHBvcnRSYW5rIiwic2hvd1N1YkNvbnRlbnRWaWV3IiwicGFyYW0iLCJkaXJlY3RvciIsIkdsb2JhbEV2ZW50IiwiZW1pdCIsIkV2ZW50IiwiU2hvd1JhbmsiLCJoaWRlU3ViQ29udGVudFZpZXciLCJTZW5kTWVzc2FnZVRvU3ViVmlldyIsImNvZGUiLCJjdXJTY29yZSIsIm1zZyIsImdldE9wZW5EYXRhQ29udGV4dCIsInBvc3RNZXNzYWdlIiwibWVzc2FnZSIsIkNvbGxhdGVEYXRhIiwiZGF0YSIsInVzZXJJbmZvIiwiaiIsImkiLCJsZW5ndGgiLCJvcGVuaWQiLCJuaWNrbmFtZSIsImF2YXRhclVybCIsImtWRGF0YUxpc3RWYWx1ZXN0ciIsInN1YnN0ciIsImdhbWVTY29yZSIsInBhcnNlIiwic29ydCIsImEiLCJiIiwibXlTb3JkSWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLElBQUlBLGtCQUFrQixHQUFHQyxFQUFFLENBQUNDLEtBQUssQ0FBQztFQUM5QkMsT0FBTyxFQUFDO0lBQ0pDLG9CQUFvQixFQUFDLENBQUM7SUFDdEI7SUFDQTtJQUNBO0lBQ0FDLFFBQVEsRUFBQyxLQUFLO0lBRWRDLElBQUksRUFBQyxTQUFBQSxLQUFBLEVBQVk7TUFDYixJQUFJLENBQUNDLGdCQUFnQixFQUFFOztNQUV2QjtJQUNKLENBQUM7O0lBRUQ7SUFDQUMsV0FBVyxFQUFDLFNBQUFBLFlBQUEsRUFBVTtNQUNyQixJQUFHUCxFQUFFLENBQUNRLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLVCxFQUFFLENBQUNRLEdBQUcsQ0FBQ0UsVUFBVSxFQUFFO1FBQ3pDLElBQUlDLE1BQU0sR0FBR0MsSUFBSSxDQUFDQyxXQUFXLEVBQUU7UUFDbEMsSUFBR0YsTUFBTSxDQUFDRyxPQUFPLEVBQ2pCO1VBQ0NDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFFBQVEsQ0FBQztVQUNyQixPQUFPLElBQUk7UUFDWjtRQUNBLE9BQU8sS0FBSztNQUNWLENBQUMsTUFBTSxJQUFHaEIsRUFBRSxDQUFDUSxHQUFHLENBQUNDLFFBQVEsS0FBS1QsRUFBRSxDQUFDUSxHQUFHLENBQUNTLGNBQWMsRUFBRSxDQUVyRDtNQUVBLE9BQU8sSUFBSTtJQUNaLENBQUM7SUFFREMsS0FBSyxFQUFDLFNBQUFBLE1BQUEsRUFBVTtNQUNmLElBQUlDLElBQUksR0FBRyxJQUFJO01BQ2YsSUFBR25CLEVBQUUsQ0FBQ1EsR0FBRyxDQUFDQyxRQUFRLEtBQUtULEVBQUUsQ0FBQ1EsR0FBRyxDQUFDRSxVQUFVLEVBQ3hDO1FBQ0NFLElBQUksQ0FBQ1EsS0FBSyxDQUFDO1VBQ1ZDLE9BQU8sRUFBRSxTQUFBQSxRQUFBLEVBQVk7WUFDakJGLElBQUksQ0FBQ0csbUJBQW1CLENBQUN0QixFQUFFLENBQUN1QixHQUFHLENBQUNDLFdBQVcsQ0FBQ0MsaUJBQWlCLENBQUM7VUFDbEUsQ0FBQztVQUNEQyxJQUFJLEVBQUUsU0FBQUEsS0FBQSxFQUFZO1lBQ2RkLElBQUksQ0FBQ2UsU0FBUyxDQUFDO2NBQ1hDLEtBQUssRUFBRSxNQUFNO2NBQ2JDLE9BQU8sRUFBRSxTQUFTO2NBQ2xCQyxVQUFVLEVBQUUsTUFBTTtjQUNsQlQsT0FBTyxFQUFFLFNBQUFBLFFBQVVVLEdBQUcsRUFBRTtnQkFDcEIsSUFBSUEsR0FBRyxDQUFDQyxPQUFPLEVBQUU7a0JBQ2JqQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLENBQUM7a0JBQ3BCRyxJQUFJLENBQUNELEtBQUssRUFBRTtnQkFDaEIsQ0FBQyxNQUNJLElBQUlhLEdBQUcsQ0FBQ0UsTUFBTSxFQUFFO2tCQUNqQmxCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sQ0FBQztrQkFDcEJKLElBQUksQ0FBQ3NCLElBQUksRUFBRTtnQkFDZjtjQUNKO1lBQ0osQ0FBQyxDQUFDO1VBQ047UUFDSixDQUFDLENBQUM7TUFDQSxDQUFDLE1BQ0ksSUFBR2xDLEVBQUUsQ0FBQ1EsR0FBRyxDQUFDQyxRQUFRLEtBQUtULEVBQUUsQ0FBQ1EsR0FBRyxDQUFDUyxjQUFjLEVBQ2pELENBRUE7TUFFQSxPQUFPLElBQUk7SUFDWixDQUFDO0lBRUQ7SUFDQWtCLGNBQWMsRUFBQyxTQUFBQSxlQUFBLEVBQVU7TUFDOUIsSUFBSUMsVUFBVSxHQUFHLEtBQUs7TUFDdEIsSUFBSSxPQUFPQyxFQUFFLEtBQUssV0FBVyxFQUFFO1FBQzlCO1FBQ0FELFVBQVUsR0FBRyxJQUFJO01BQ2xCO01BQ00sSUFBR3BDLEVBQUUsQ0FBQ1EsR0FBRyxDQUFDQyxRQUFRLEtBQUtULEVBQUUsQ0FBQ1EsR0FBRyxDQUFDOEIsV0FBVyxJQUFJLENBQUNGLFVBQVUsRUFDeEQ7UUFDQyxJQUFJRyxPQUFPLEdBQUd2QyxFQUFFLENBQUN3QyxJQUFJLENBQUNDLGNBQWMsRUFBRTtRQUN0QyxJQUFJQyxTQUFTLEdBQUcsRUFBRSxHQUFHSCxPQUFPLENBQUNJLEtBQUs7UUFDbEMsSUFBSUMsUUFBUSxHQUFHLEdBQUcsR0FBR0wsT0FBTyxDQUFDTSxNQUFNO1FBRW5DLElBQUlDLE9BQU8sR0FBR0MsRUFBRSxDQUFDQyxpQkFBaUIsRUFBRTtRQUVwQyxJQUFJLENBQUNDLE9BQU8sR0FBR0gsT0FBTyxDQUFDSSxXQUFXLEdBQUdSLFNBQVM7UUFDOUMsSUFBSSxDQUFDUyxNQUFNLEdBQUdMLE9BQU8sQ0FBQ00sWUFBWSxHQUFHUixRQUFRO1FBRTdDN0IsT0FBTyxDQUFDQyxHQUFHLENBQUMsSUFBSSxDQUFDbUMsTUFBTSxHQUFHLDBDQUEwQyxHQUFHLElBQUksQ0FBQ0YsT0FBTyxDQUFDO1FBRXBGLElBQUk5QixJQUFJLEdBQUcsSUFBSTtRQUNmLElBQUksQ0FBQ2tDLFdBQVcsR0FBR04sRUFBRSxDQUFDTyxvQkFBb0IsQ0FBQztVQUMxQ0MsSUFBSSxFQUFDLE9BQU87VUFDWkMsSUFBSSxFQUFDLEtBQUs7VUFDVkMsS0FBSyxFQUFDO1lBQ0xDLElBQUksRUFBQ3ZDLElBQUksQ0FBQzhCLE9BQU8sR0FBRyxFQUFFO1lBQ3RCVSxHQUFHLEVBQUN4QyxJQUFJLENBQUNnQyxNQUFNLEdBQUcsRUFBRTtZQUNwQlIsS0FBSyxFQUFFLEVBQUU7WUFDVEUsTUFBTSxFQUFFO1VBQ1Q7UUFDRCxDQUFDLENBQUM7TUFDSDtJQUNELENBQUM7SUFFRGUsY0FBYyxFQUFDLFNBQUFBLGVBQVNDLElBQUksRUFDNUI7TUFBQSxJQUR3QkEsSUFBSTtRQUFKQSxJQUFJLEdBQUcsS0FBSztNQUFBO01BRXpDLElBQUl6QixVQUFVLEdBQUcsS0FBSztNQUN0QixJQUFJLE9BQU9DLEVBQUUsS0FBSyxXQUFXLEVBQUU7UUFDOUI7UUFDQUQsVUFBVSxHQUFHLElBQUk7TUFDbEI7TUFDTSxJQUFHcEMsRUFBRSxDQUFDUSxHQUFHLENBQUNDLFFBQVEsS0FBS1QsRUFBRSxDQUFDUSxHQUFHLENBQUM4QixXQUFXLElBQUksSUFBSSxDQUFDZSxXQUFXLElBQUksSUFBSSxJQUFJLENBQUNqQixVQUFVLEVBQ3BGO1FBQ0MsSUFBR3lCLElBQUksSUFBSSxJQUFJLEVBQ2QsSUFBSSxDQUFDUixXQUFXLENBQUNTLElBQUksRUFBRSxDQUFDLEtBRXhCLElBQUksQ0FBQ1QsV0FBVyxDQUFDVSxJQUFJLEVBQUU7TUFDekI7SUFDRCxDQUFDO0lBRUQ7SUFDQXpELGdCQUFnQixFQUFDLFNBQUFBLGlCQUFBLEVBQVU7TUFDMUIsSUFBSTBELElBQUksR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNELElBQUksQ0FBQ0UsTUFBTSxFQUFFLEdBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQztNQUMzQyxJQUFJLENBQUMvRCxRQUFRLEdBQUdKLEVBQUUsQ0FBQ3VCLEdBQUcsQ0FBQzZDLE1BQU0sQ0FBQ0MsY0FBYyxDQUFDLE1BQU0sR0FBRUwsSUFBSSxDQUFDO01BQzFEaEUsRUFBRSxDQUFDZ0IsR0FBRyxDQUFDLG1DQUFtQyxHQUFHLElBQUksQ0FBQ1osUUFBUSxDQUFDO0lBQzVELENBQUM7SUFFRDtJQUNBa0UsV0FBVyxFQUFDLFNBQUFBLFlBQUEsRUFBVTtNQUNyQixJQUFJQyxLQUFLLEdBQUdOLElBQUksQ0FBQ0MsS0FBSyxDQUFDRCxJQUFJLENBQUNFLE1BQU0sRUFBRSxHQUFDLENBQUMsQ0FBQztNQUN2QyxJQUFJSyxJQUFJLEdBQUd4RSxFQUFFLENBQUN1QixHQUFHLENBQUNrRCxVQUFVLENBQUNDLGFBQWEsQ0FBQ0gsS0FBSyxDQUFDO01BQ3ZELElBQUluQyxVQUFVLEdBQUcsS0FBSztNQUN0QixJQUFJLE9BQU9DLEVBQUUsS0FBSyxXQUFXLEVBQUU7UUFDOUI7UUFDQUQsVUFBVSxHQUFHLElBQUk7TUFDbEI7TUFDTSxJQUFHcEMsRUFBRSxDQUFDUSxHQUFHLENBQUNDLFFBQVEsS0FBS1QsRUFBRSxDQUFDUSxHQUFHLENBQUM4QixXQUFXLElBQUksQ0FBQ0YsVUFBVSxFQUN4RDtRQUNJVyxFQUFFLENBQUM0QixhQUFhLENBQUM7VUFBQ0MsZUFBZSxFQUFDO1FBQUksQ0FBQyxDQUFDO1FBQ3hDN0IsRUFBRSxDQUFDOEIsaUJBQWlCLENBQUMsWUFBWTtVQUM3QjtVQUNBLE9BQU87WUFDTGpELEtBQUssRUFBRSxxQkFBcUI7WUFDNUJrRCxVQUFVLEVBQUUsd0JBQXdCO1lBQ3BDQyxRQUFRLEVBQUU7VUFDWixDQUFDO1FBQ0wsQ0FBQyxDQUFDO01BQ04sQ0FBQyxNQUNJLElBQUcvRSxFQUFFLENBQUNRLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLVCxFQUFFLENBQUNRLEdBQUcsQ0FBQ1MsY0FBYyxFQUNqRDtRQUNJK0QsRUFBRSxDQUFDTCxhQUFhLENBQUMsS0FBSyxDQUFDO1FBQ3ZCSyxFQUFFLENBQUNILGlCQUFpQixDQUFDLFlBQVk7VUFDN0I7VUFDQSxPQUFPO1lBQ0xqRCxLQUFLLEVBQUU0QyxJQUFJLENBQUNoQixJQUFJO1lBQ2hCO1lBQ0F1QixRQUFRLEVBQUVQLElBQUksQ0FBQ1M7VUFDakIsQ0FBQztRQUNMLENBQUMsQ0FBQztNQUNOLENBQUMsTUFDSSxJQUFHakYsRUFBRSxDQUFDUSxHQUFHLENBQUNDLFFBQVEsS0FBS1QsRUFBRSxDQUFDUSxHQUFHLENBQUNFLFVBQVUsRUFDN0M7UUFDSUUsSUFBSSxDQUFDK0QsYUFBYSxDQUFDLEtBQUssQ0FBQztRQUN6Qi9ELElBQUksQ0FBQ2lFLGlCQUFpQixDQUFDLFlBQVk7VUFDL0I7VUFDQSxPQUFPO1lBQ0xqRCxLQUFLLEVBQUU0QyxJQUFJLENBQUNoQixJQUFJO1lBQ2hCdUIsUUFBUSxFQUFFUCxJQUFJLENBQUNTO1VBQ2pCLENBQUM7UUFDTCxDQUFDLENBQUM7TUFDTjtJQUNELENBQUM7SUFFRDtJQUNBQyxnQkFBZ0IsRUFBQyxTQUFBQSxpQkFBU0MsR0FBRyxFQUFDO01BQ25DLElBQUkvQyxVQUFVLEdBQUcsS0FBSztNQUN0QixJQUFJLE9BQU9DLEVBQUUsS0FBSyxXQUFXLEVBQUU7UUFDOUI7UUFDQUQsVUFBVSxHQUFHLElBQUk7TUFDbEI7TUFDTSxJQUFHcEMsRUFBRSxDQUFDUSxHQUFHLENBQUNDLFFBQVEsS0FBS1QsRUFBRSxDQUFDUSxHQUFHLENBQUM4QixXQUFXLElBQUksQ0FBQ0YsVUFBVSxFQUN4RDtRQUNJckIsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCK0IsRUFBRSxDQUFDcUMsZUFBZSxDQUFDO1VBQ2Z4RCxLQUFLLEVBQUV1RDtRQUNYLENBQUMsQ0FBQztNQUNOLENBQUMsTUFDSSxJQUFHbkYsRUFBRSxDQUFDUSxHQUFHLENBQUNDLFFBQVEsS0FBS1QsRUFBRSxDQUFDUSxHQUFHLENBQUNTLGNBQWMsRUFDakQ7UUFDSStELEVBQUUsQ0FBQ0ksZUFBZSxDQUFDO1VBQ2Z4RCxLQUFLLEVBQUV1RDtRQUNYLENBQUMsQ0FBQztNQUNOLENBQUMsTUFDSSxJQUFHbkYsRUFBRSxDQUFDUSxHQUFHLENBQUNDLFFBQVEsS0FBS1QsRUFBRSxDQUFDUSxHQUFHLENBQUNFLFVBQVUsRUFDN0M7UUFDSUssT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCSixJQUFJLENBQUN3RSxlQUFlLENBQUM7VUFDakJ4RCxLQUFLLEVBQUV1RDtRQUNYLENBQUMsQ0FBQztNQUNOLENBQUMsTUFDRixJQUFHL0MsVUFBVSxFQUNsQjtRQUNDQyxFQUFFLENBQUMrQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDdkI7SUFDSyxDQUFDO0lBRUQ7SUFDQUMsYUFBYSxFQUFDLFNBQUFBLGNBQVNkLEtBQUssRUFBQztNQUM1QixJQUFJQyxJQUFJLEdBQUd4RSxFQUFFLENBQUN1QixHQUFHLENBQUNrRCxVQUFVLENBQUNDLGFBQWEsQ0FBQ0gsS0FBSyxDQUFDO01BQ3ZELElBQUluQyxVQUFVLEdBQUcsS0FBSztNQUN0QixJQUFJLE9BQU9DLEVBQUUsS0FBSyxXQUFXLEVBQUU7UUFDOUI7UUFDQUQsVUFBVSxHQUFHLElBQUk7TUFDbEI7TUFDTSxJQUFHcEMsRUFBRSxDQUFDUSxHQUFHLENBQUNDLFFBQVEsS0FBS1QsRUFBRSxDQUFDUSxHQUFHLENBQUM4QixXQUFXLElBQUksQ0FBQ0YsVUFBVSxFQUN4RDtRQUNJckIsT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCK0IsRUFBRSxDQUFDcUMsZUFBZSxDQUFDO1VBQ2Z4RCxLQUFLLEVBQUU0QyxJQUFJLENBQUNoQixJQUFJO1VBQ2hCdUIsUUFBUSxFQUFFUCxJQUFJLENBQUNTO1FBQ25CLENBQUMsQ0FBQztNQUNOLENBQUMsTUFDSSxJQUFHakYsRUFBRSxDQUFDUSxHQUFHLENBQUNDLFFBQVEsS0FBS1QsRUFBRSxDQUFDUSxHQUFHLENBQUNTLGNBQWMsRUFDakQ7UUFDSStELEVBQUUsQ0FBQ0ksZUFBZSxDQUFDO1VBQ2Z4RCxLQUFLLEVBQUU0QyxJQUFJLENBQUNoQixJQUFJO1VBQ2hCdUIsUUFBUSxFQUFFUCxJQUFJLENBQUNTO1FBQ25CLENBQUMsQ0FBQztNQUNOLENBQUMsTUFDSSxJQUFHakYsRUFBRSxDQUFDUSxHQUFHLENBQUNDLFFBQVEsS0FBS1QsRUFBRSxDQUFDUSxHQUFHLENBQUNFLFVBQVUsRUFDN0M7UUFDSUssT0FBTyxDQUFDQyxHQUFHLENBQUMsUUFBUSxDQUFDO1FBQ3JCSixJQUFJLENBQUN3RSxlQUFlLENBQUM7VUFDakJ4RCxLQUFLLEVBQUU0QyxJQUFJLENBQUNoQixJQUFJO1VBQ2hCdUIsUUFBUSxFQUFFUCxJQUFJLENBQUNTO1FBQ25CLENBQUMsQ0FBQztNQUNOLENBQUMsTUFDRixJQUFHN0MsVUFBVSxFQUNsQjtRQUNDQyxFQUFFLENBQUMrQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDdkI7SUFDSyxDQUFDO0lBQ047SUFDS0UsU0FBUyxFQUFDLFNBQUFBLFVBQVM5QixJQUFJLEVBQzFCO01BQ0YsSUFBSXBCLFVBQVUsR0FBRyxLQUFLO01BQ3RCLElBQUksT0FBT0MsRUFBRSxLQUFLLFdBQVcsRUFBRTtRQUM5QjtRQUNBRCxVQUFVLEdBQUcsSUFBSTtNQUNsQjtNQUNNcEMsRUFBRSxDQUFDZ0IsR0FBRyxDQUFDd0MsSUFBSSxDQUFDO01BQ1osSUFBR3hELEVBQUUsQ0FBQ1EsR0FBRyxDQUFDQyxRQUFRLEtBQUtULEVBQUUsQ0FBQ1EsR0FBRyxDQUFDOEIsV0FBVyxJQUFJLENBQUNGLFVBQVUsRUFDeEQ7UUFDSVcsRUFBRSxDQUFDdUMsU0FBUyxDQUFDO1VBQ1QxRCxLQUFLLEVBQUU0QixJQUFJO1VBQ1hELElBQUksRUFBRSxTQUFTO1VBQ2ZnQyxRQUFRLEVBQUU7UUFDZCxDQUFDLENBQUM7TUFDTixDQUFDLE1BQ0ksSUFBR3ZGLEVBQUUsQ0FBQ1EsR0FBRyxDQUFDQyxRQUFRLEtBQUtULEVBQUUsQ0FBQ1EsR0FBRyxDQUFDUyxjQUFjLEVBQ2pEO1FBQ0krRCxFQUFFLENBQUNNLFNBQVMsQ0FBQztVQUNUMUQsS0FBSyxFQUFFNEIsSUFBSTtVQUNYRCxJQUFJLEVBQUUsU0FBUztVQUNmZ0MsUUFBUSxFQUFFO1FBQ2QsQ0FBQyxDQUFDO01BQ04sQ0FBQyxNQUNJLElBQUd2RixFQUFFLENBQUNRLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLVCxFQUFFLENBQUNRLEdBQUcsQ0FBQ0UsVUFBVSxFQUM3QztRQUNJRSxJQUFJLENBQUMwRSxTQUFTLENBQUM7VUFDWDFELEtBQUssRUFBRTRCLElBQUk7VUFDWEQsSUFBSSxFQUFFLFNBQVM7VUFDZmdDLFFBQVEsRUFBRTtRQUNkLENBQUMsQ0FBQztNQUNOLENBQUMsTUFDRixJQUFHbkQsVUFBVSxFQUNsQjtRQUNDQyxFQUFFLENBQUNpRCxTQUFTLENBQUM7VUFDWjFELEtBQUssRUFBRTRCLElBQUk7VUFDWEQsSUFBSSxFQUFFLFNBQVM7VUFDZmdDLFFBQVEsRUFBRTtRQUNYLENBQUMsQ0FBQztNQUNIO0lBQ0UsQ0FBQztJQUNEO0lBQ0FqRSxtQkFBbUIsRUFBQyxTQUFBQSxvQkFBU2tFLEtBQUssRUFDbEM7TUFDQyxJQUFHLENBQUMsSUFBSSxDQUFDakYsV0FBVyxFQUFFLEVBQ3RCO1FBQ0M7TUFDRDtNQUNILElBQUk2QixVQUFVLEdBQUcsS0FBSztNQUN0QixJQUFJLE9BQU9DLEVBQUUsS0FBSyxXQUFXLEVBQUU7UUFDOUI7UUFDQUQsVUFBVSxHQUFHLElBQUk7TUFDbEI7TUFFTXBDLEVBQUUsQ0FBQ2dCLEdBQUcsQ0FBQyw4QkFBOEIsR0FBR3dFLEtBQUssQ0FBQztNQUM5QyxJQUFHeEYsRUFBRSxDQUFDUSxHQUFHLENBQUNDLFFBQVEsS0FBS1QsRUFBRSxDQUFDUSxHQUFHLENBQUM4QixXQUFXLElBQUksQ0FBQ0YsVUFBVSxFQUN4RDtRQUNJLElBQUlxRCxNQUFNLEdBQUMsQ0FBQyxDQUFDO1FBQ2JBLE1BQU0sQ0FBQ0MsTUFBTSxHQUFDLENBQUMsQ0FBQztRQUNoQkQsTUFBTSxDQUFDQyxNQUFNLENBQUNDLEtBQUssR0FBR0gsS0FBSztRQUMzQkMsTUFBTSxDQUFDQyxNQUFNLENBQUNFLFdBQVcsR0FBSSxJQUFJQyxJQUFJLEVBQUUsQ0FBQ0MsT0FBTyxFQUFFO1FBQ2pEL0UsT0FBTyxDQUFDQyxHQUFHLENBQUMrRSxJQUFJLENBQUNDLFNBQVMsQ0FBQ1AsTUFBTSxDQUFDLENBQUM7UUFFbkMsSUFBSVEsVUFBVSxHQUFHLElBQUlDLEtBQUssRUFBRTtRQUM1QkQsVUFBVSxDQUFDRSxJQUFJLENBQUM7VUFBQ0MsR0FBRyxFQUFFLFdBQVc7VUFBRUMsS0FBSyxFQUFFTixJQUFJLENBQUNDLFNBQVMsQ0FBQ1AsTUFBTTtRQUFDLENBQUMsQ0FBQztRQUNsRTFDLEVBQUUsQ0FBQ3pCLG1CQUFtQixDQUFDO1VBQ3RCZ0YsVUFBVSxFQUFFTCxVQUFVO1VBQ3RCNUUsT0FBTyxFQUFFLFNBQUFBLFFBQUFVLEdBQUcsRUFBSTtZQUNaaEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsVUFBVSxHQUFHK0UsSUFBSSxDQUFDQyxTQUFTLENBQUNqRSxHQUFHLENBQUMsQ0FBQztVQUNqRCxDQUFDO1VBQ0RMLElBQUksRUFBRSxTQUFBQSxLQUFBSyxHQUFHLEVBQUk7WUFDVGhCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFNBQVMsR0FBR2UsR0FBRyxDQUFDO1VBQ2hDO1FBQ0QsQ0FBQyxDQUFDO01BQ04sQ0FBQyxNQUNJLElBQUcvQixFQUFFLENBQUNRLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLVCxFQUFFLENBQUNRLEdBQUcsQ0FBQ0UsVUFBVSxFQUM3QztRQUNDLElBQUkrRSxNQUFNLEdBQUMsQ0FBQyxDQUFDO1FBQ1ZBLE1BQU0sQ0FBQ0MsTUFBTSxHQUFDLENBQUMsQ0FBQztRQUNoQkQsTUFBTSxDQUFDQyxNQUFNLENBQUNDLEtBQUssR0FBR0gsS0FBSztRQUMzQkMsTUFBTSxDQUFDQyxNQUFNLENBQUNFLFdBQVcsR0FBSSxJQUFJQyxJQUFJLEVBQUUsQ0FBQ0MsT0FBTyxFQUFFO1FBQ2pEL0UsT0FBTyxDQUFDQyxHQUFHLENBQUMrRSxJQUFJLENBQUNDLFNBQVMsQ0FBQ1AsTUFBTSxDQUFDLENBQUM7UUFFbkMsSUFBSVEsVUFBVSxHQUFHLElBQUlDLEtBQUssRUFBRTtRQUM1QkQsVUFBVSxDQUFDRSxJQUFJLENBQUM7VUFBQ0MsR0FBRyxFQUFFLFdBQVc7VUFBRUMsS0FBSyxFQUFFTixJQUFJLENBQUNDLFNBQVMsQ0FBQ1AsTUFBTTtRQUFDLENBQUMsQ0FBQztRQUVyRTdFLElBQUksQ0FBQ1UsbUJBQW1CLENBQUM7VUFDOUJnRixVQUFVLEVBQUVMLFVBQVU7VUFDdEI1RSxPQUFPLEVBQUUsU0FBQUEsUUFBQVUsR0FBRztZQUFBLE9BQUloQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxVQUFVLEdBQUNlLEdBQUcsQ0FBQztVQUFBO1VBQzNDTCxJQUFJLEVBQUUsU0FBQUEsS0FBQUssR0FBRztZQUFBLE9BQUloQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPLEdBQUNlLEdBQUcsQ0FBQztVQUFBO1VBQ3JDd0UsUUFBUSxFQUFFLFNBQUFBLFNBQUF4RSxHQUFHO1lBQUEsT0FBSWhCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFdBQVcsR0FBQ2UsR0FBRyxDQUFDO1VBQUE7UUFDOUMsQ0FBQyxDQUFDO01BQ0c7SUFDSixDQUFDO0lBRUQ7SUFDQXlFLGFBQWEsRUFBQyxTQUFBQSxjQUFBLEVBQ2Q7TUFDRixJQUFJcEUsVUFBVSxHQUFHLEtBQUs7TUFDdEIsSUFBSSxPQUFPQyxFQUFFLEtBQUssV0FBVyxFQUFFO1FBQzlCO1FBQ0FELFVBQVUsR0FBRyxJQUFJO01BQ2xCO01BQ00sSUFBSXBDLEVBQUUsQ0FBQ1EsR0FBRyxDQUFDQyxRQUFRLEtBQUtULEVBQUUsQ0FBQ1EsR0FBRyxDQUFDOEIsV0FBVyxJQUFJLENBQUNGLFVBQVUsSUFBS3BDLEVBQUUsQ0FBQ1EsR0FBRyxDQUFDQyxRQUFRLEtBQUtULEVBQUUsQ0FBQ1EsR0FBRyxDQUFDRSxVQUFVLEVBQy9GLE9BQU8sSUFBSTtNQUVmLE9BQU8sS0FBSztJQUNoQixDQUFDO0lBRUQ7SUFDQStGLGtCQUFrQixFQUFDLFNBQUFBLG1CQUFBLEVBQ25CO01BQ0YsSUFBSXJFLFVBQVUsR0FBRyxLQUFLO01BQ3RCLElBQUksT0FBT0MsRUFBRSxLQUFLLFdBQVcsRUFBRTtRQUM5QjtRQUNBRCxVQUFVLEdBQUcsSUFBSTtNQUNsQjtNQUNNLElBQUlwQyxFQUFFLENBQUNRLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLVCxFQUFFLENBQUNRLEdBQUcsQ0FBQzhCLFdBQVcsSUFBSSxDQUFDRixVQUFVLElBQUtwQyxFQUFFLENBQUNRLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLVCxFQUFFLENBQUNRLEdBQUcsQ0FBQ0UsVUFBVSxFQUNuRztRQUNDLElBQUlnRyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2RBLEtBQUssQ0FBQzdDLElBQUksR0FBRyxJQUFJO1FBQ2pCN0QsRUFBRSxDQUFDMkcsUUFBUSxDQUFDQyxXQUFXLENBQUNDLElBQUksQ0FBQzdHLEVBQUUsQ0FBQ3VCLEdBQUcsQ0FBQ3VGLEtBQUssQ0FBQ0MsUUFBUSxFQUFFTCxLQUFLLENBQUM7TUFDM0Q7SUFDSixDQUFDO0lBRURNLGtCQUFrQixFQUFDLFNBQUFBLG1CQUFBLEVBQ25CO01BQ0YsSUFBSTVFLFVBQVUsR0FBRyxLQUFLO01BQ3RCLElBQUksT0FBT0MsRUFBRSxLQUFLLFdBQVcsRUFBRTtRQUM5QjtRQUNBRCxVQUFVLEdBQUcsSUFBSTtNQUNsQjtNQUNNLElBQUlwQyxFQUFFLENBQUNRLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLVCxFQUFFLENBQUNRLEdBQUcsQ0FBQzhCLFdBQVcsSUFBSSxDQUFDRixVQUFVLElBQUtwQyxFQUFFLENBQUNRLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLVCxFQUFFLENBQUNRLEdBQUcsQ0FBQ0UsVUFBVSxFQUNuRztRQUNJLElBQUlnRyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCQSxLQUFLLENBQUM3QyxJQUFJLEdBQUcsS0FBSztRQUNsQjdELEVBQUUsQ0FBQzJHLFFBQVEsQ0FBQ0MsV0FBVyxDQUFDQyxJQUFJLENBQUM3RyxFQUFFLENBQUN1QixHQUFHLENBQUN1RixLQUFLLENBQUNDLFFBQVEsRUFBRUwsS0FBSyxDQUFDO01BQzNEO0lBQ0osQ0FBQztJQUVETyxvQkFBb0IsRUFBQyxTQUFBQSxxQkFBU0MsSUFBSSxFQUFDQyxRQUFRLEVBQzNDO01BQUEsSUFEbUNBLFFBQVE7UUFBUkEsUUFBUSxHQUFDLENBQUM7TUFBQTtNQUV6QyxJQUFJQyxHQUFHLEdBQUMsQ0FBQyxDQUFDO01BQ1ZBLEdBQUcsQ0FBQ0YsSUFBSSxHQUFHQSxJQUFJO01BQ2ZFLEdBQUcsQ0FBQ0QsUUFBUSxHQUFHQSxRQUFRO01BQzdCLElBQUkvRSxVQUFVLEdBQUcsS0FBSztNQUN0QixJQUFJLE9BQU9DLEVBQUUsS0FBSyxXQUFXLEVBQUU7UUFDOUI7UUFDQUQsVUFBVSxHQUFHLElBQUk7TUFDbEI7TUFDTSxJQUFHcEMsRUFBRSxDQUFDUSxHQUFHLENBQUNDLFFBQVEsS0FBS1QsRUFBRSxDQUFDUSxHQUFHLENBQUM4QixXQUFXLElBQUksQ0FBQ0YsVUFBVSxFQUN4RDtRQUNJVyxFQUFFLENBQUNzRSxrQkFBa0IsRUFBRSxDQUFDQyxXQUFXLENBQUM7VUFDaENDLE9BQU8sRUFBRUg7UUFDYixDQUFDLENBQUM7TUFDTixDQUFDLE1BQ0ksSUFBR3BILEVBQUUsQ0FBQ1EsR0FBRyxDQUFDQyxRQUFRLEtBQUtULEVBQUUsQ0FBQ1EsR0FBRyxDQUFDRSxVQUFVLEVBQzdDO1FBQ0NFLElBQUksQ0FBQ3lHLGtCQUFrQixFQUFFLENBQUNDLFdBQVcsQ0FBQztVQUN4Q0MsT0FBTyxFQUFFSDtRQUNiLENBQUMsQ0FBQztNQUNHO0lBQ0osQ0FBQztJQUVEO0lBQ0FJLFdBQVcsRUFBQyxTQUFBQSxZQUFTQyxJQUFJLEVBQ3pCO01BQ0ksSUFBSSxDQUFDQyxRQUFRLEdBQUcsRUFBRTtNQUNsQixJQUFJQyxDQUFDLEdBQUcsQ0FBQztNQUNULEtBQUssSUFBSUMsRUFBQyxHQUFHLENBQUMsRUFBRUEsRUFBQyxHQUFHSCxJQUFJLENBQUNJLE1BQU0sRUFBRSxFQUFFRCxFQUFDLEVBQUU7UUFDbEMsSUFBR0gsSUFBSSxDQUFDRyxFQUFDLENBQUMsQ0FBQ3RCLFVBQVUsQ0FBQ3VCLE1BQU0sSUFBSSxDQUFDLEVBQ2pDO1VBQ0k5RyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQztVQUM5QjtRQUNKO1FBQ0E7UUFDQSxJQUFJLENBQUMwRyxRQUFRLENBQUNDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQztRQUNuQixJQUFJLENBQUNELFFBQVEsQ0FBQ0MsQ0FBQyxDQUFDLENBQUNHLE1BQU0sR0FBR0wsSUFBSSxDQUFDRyxFQUFDLENBQUMsQ0FBQ0UsTUFBTTtRQUN4QyxJQUFJLENBQUNKLFFBQVEsQ0FBQ0MsQ0FBQyxDQUFDLENBQUNJLFFBQVEsR0FBR04sSUFBSSxDQUFDRyxFQUFDLENBQUMsQ0FBQ0csUUFBUTtRQUM1QyxJQUFJLENBQUNMLFFBQVEsQ0FBQ0MsQ0FBQyxDQUFDLENBQUNLLFNBQVMsR0FBR1AsSUFBSSxDQUFDRyxFQUFDLENBQUMsQ0FBQ0ksU0FBUztRQUU5QyxJQUFJQyxrQkFBa0IsR0FBR1IsSUFBSSxDQUFDRyxFQUFDLENBQUMsQ0FBQ3RCLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQ0QsS0FBSztRQUNwRDRCLGtCQUFrQixHQUFHQSxrQkFBa0IsQ0FBQ0MsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkRELGtCQUFrQixHQUFHQSxrQkFBa0IsQ0FBQ0MsTUFBTSxDQUFDLENBQUMsRUFBRUQsa0JBQWtCLENBQUNKLE1BQU0sR0FBQyxDQUFDLENBQUM7UUFDOUVJLGtCQUFrQixHQUFHLEdBQUcsR0FBR0Esa0JBQWtCLEdBQUcsR0FBRztRQUNuRCxJQUFJRSxTQUFTLEdBQUdwQyxJQUFJLENBQUNxQyxLQUFLLENBQUNILGtCQUFrQixDQUFDLENBQUN2QyxNQUFNO1FBQ3JELElBQUksQ0FBQ2dDLFFBQVEsQ0FBQ0MsQ0FBQyxDQUFDLENBQUNoQyxLQUFLLEdBQUd3QyxTQUFTLENBQUN4QyxLQUFLO1FBQ3hDZ0MsQ0FBQyxFQUFFO01BQ1A7TUFDQTtNQUNBLElBQUksQ0FBQ0QsUUFBUSxDQUFDVyxJQUFJLENBQUMsVUFBQ0MsQ0FBQyxFQUFDQyxDQUFDLEVBQUc7UUFDbEIsSUFBR0QsQ0FBQyxDQUFDM0MsS0FBSyxHQUFDNEMsQ0FBQyxDQUFDNUMsS0FBSyxFQUNkLE9BQU8sQ0FBQyxDQUFDLEtBQ1IsSUFBRzJDLENBQUMsQ0FBQzNDLEtBQUssR0FBQzRDLENBQUMsQ0FBQzVDLEtBQUssRUFDbkIsT0FBTyxDQUFDLENBQUMsTUFFVCxPQUFPLENBQUM7TUFDaEIsQ0FBQyxDQUNKO01BQ0Q1RSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxpQkFBaUIsR0FBRytFLElBQUksQ0FBQ0MsU0FBUyxDQUFDLElBQUksQ0FBQzBCLFFBQVEsQ0FBQyxDQUFDO01BQzlELEtBQUksSUFBSUUsQ0FBQyxHQUFDLENBQUMsRUFBRUEsQ0FBQyxHQUFDLElBQUksQ0FBQ0YsUUFBUSxDQUFDRyxNQUFNLEVBQUNELENBQUMsRUFBRSxFQUN2QztRQUFFO1FBQ0UsSUFBRyxJQUFJLENBQUNGLFFBQVEsQ0FBQ0UsQ0FBQyxDQUFDLENBQUNJLFNBQVMsSUFBSSxJQUFJLENBQUNBLFNBQVMsRUFDL0M7VUFDSSxJQUFJLENBQUNRLFFBQVEsR0FBR1osQ0FBQztRQUNyQjtNQUNKO0lBQ0o7RUFDRDtBQUNKLENBQUMsQ0FBQztBQUNGYSxNQUFNLENBQUNDLE9BQU8sR0FBRzNJLGtCQUFrQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbnZhciBQbGF0Zm9ybUNvbnRyb2xsZXIgPSBjYy5DbGFzcyh7XHJcbiAgICBzdGF0aWNzOntcclxuICAgICAgICB3eFN1YkNvbnRleHRWaWV3TG9jazowLFxyXG4gICAgICAgIC8v5b6u5L+hIHd4XHJcbiAgICAgICAgLy/lpLTmnaEgdHRcclxuICAgICAgICAvL+eZvuW6piBiYWlkdVxyXG4gICAgICAgIG5pY2tOYW1lOlwi5qCh6ZW/546LXCIsXHJcblxyXG4gICAgICAgIEluaXQ6ZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLkluaXRSYW5kTmlja05hbWUoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIHRoaXMuQ3JlYXRlR2FtZUNsdWIoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvL+eZvuW6piDlpLTmnaHnrYnlhYjliKTlrprmmK/lkKbnmbvpmYbkuoZcclxuICAgICAgICBJc0xvZ2luU3luYzpmdW5jdGlvbigpe1xyXG4gICAgICAgIFx0aWYoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQkFJRFVfR0FNRSkge1xyXG4gICAgICAgIFx0XHR2YXIgcmVzdWx0ID0gc3dhbi5pc0xvZ2luU3luYygpO1xyXG4gICAgXHRcdFx0aWYocmVzdWx0LmlzTG9naW4pXHJcbiAgICBcdFx0XHR7XHJcbiAgICBcdFx0XHRcdGNvbnNvbGUubG9nKFwi5bey57uP5pyJ55m76ZmG5LqGXCIpO1xyXG4gICAgXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuICAgIFx0XHRcdH1cclxuICAgIFx0XHRcdHJldHVybiBmYWxzZTtcclxuICAgICAgICBcdH0gZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5CWVRFREFOQ0VfR0FNRSkge1xyXG5cclxuICAgICAgICBcdH1cclxuXHJcbiAgICAgICAgXHRyZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBMb2dpbjpmdW5jdGlvbigpe1xyXG4gICAgICAgIFx0dmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIFx0aWYoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQkFJRFVfR0FNRSlcclxuICAgICAgICBcdHtcclxuICAgICAgICBcdFx0c3dhbi5sb2dpbih7XHJcblx0XHRcdCAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQgICAgICAgICAgICBzZWxmLnNldFVzZXJDbG91ZFN0b3JhZ2UoY2MuTWdyLlVzZXJEYXRhTWdyLkhpc3RvcnlIaWdoQXNzZXRzKTtcclxuXHRcdFx0ICAgICAgICB9LFxyXG5cdFx0XHQgICAgICAgIGZhaWw6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0ICAgICAgICAgICAgc3dhbi5zaG93TW9kYWwoe1xyXG5cdFx0XHQgICAgICAgICAgICAgICAgdGl0bGU6IFwi55m75b2V5aSx6LSlXCIsXHJcblx0XHRcdCAgICAgICAgICAgICAgICBjb250ZW50OiBcIuaYr+WQpumHjeaWsOeZu+W9le+8n1wiLFxyXG5cdFx0XHQgICAgICAgICAgICAgICAgY2FuY2VsVGV4dDogXCLpgIDlh7rmuLjmiI9cIixcclxuXHRcdFx0ICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmNvbmZpcm0pIHtcclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLngrnlh7vkuobnoa7lrppcIik7XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuTG9naW4oKTtcclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICB9XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzLmNhbmNlbCkge1xyXG5cdFx0XHQgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIueCueWHu+S6huWPlua2iFwiKTtcclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICAgICAgc3dhbi5leGl0KCk7XHJcblx0XHRcdCAgICAgICAgICAgICAgICAgICAgfVxyXG5cdFx0XHQgICAgICAgICAgICAgICAgfVxyXG5cdFx0XHQgICAgICAgICAgICB9KVxyXG5cdFx0XHQgICAgICAgIH1cclxuXHRcdFx0ICAgIH0pXHJcbiAgICAgICAgXHR9XHJcbiAgICAgICAgXHRlbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKVxyXG4gICAgICAgIFx0e1xyXG5cclxuICAgICAgICBcdH1cclxuXHJcbiAgICAgICAgXHRyZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvL+a4uOaIj+WciOaMiemSrlxyXG4gICAgICAgIENyZWF0ZUdhbWVDbHViOmZ1bmN0aW9uKCl7XHJcblx0XHRcdGxldCBpc0t1YWlTaG91ID0gZmFsc2U7XHJcblx0XHRcdGlmICh0eXBlb2Yga3MgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0Ly/ov5DooYzlnKjlv6vmiYvlubPlj7BcclxuXHRcdFx0XHRpc0t1YWlTaG91ID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG4gICAgICAgIFx0aWYoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuV0VDSEFUX0dBTUUgJiYgIWlzS3VhaVNob3UpXHJcbiAgICAgICAgXHR7XHJcbiAgICAgICAgXHRcdHZhciB3aW5TaXplID0gY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpO1xyXG4gICAgICAgIFx0XHR2YXIgbGVmdFJhdGlvID0gNjggLyB3aW5TaXplLndpZHRoO1xyXG4gICAgICAgIFx0XHR2YXIgdG9wUmF0aW8gPSAyNzUgLyB3aW5TaXplLmhlaWdodDtcclxuXHJcbiAgICAgICAgXHRcdHZhciBzeXNJbmZvID0gd3guZ2V0U3lzdGVtSW5mb1N5bmMoKTtcclxuXHJcbiAgICAgICAgXHRcdHRoaXMubGVmdFBvcyA9IHN5c0luZm8ud2luZG93V2lkdGggKiBsZWZ0UmF0aW87XHJcbiAgICAgICAgXHRcdHRoaXMudG9wUG9zID0gc3lzSW5mby53aW5kb3dIZWlnaHQgKiB0b3BSYXRpbztcclxuXHJcbiAgICAgICAgXHRcdGNvbnNvbGUubG9nKHRoaXMudG9wUG9zICsgXCIgID09PT09PT09PT09PT09PT3liJvlu7rmuLjmiI/lnIjmjInpkq49PT09PT09PT09PT09PT1cIiArIHRoaXMubGVmdFBvcyk7XHJcblxyXG4gICAgICAgIFx0XHR2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgXHRcdHRoaXMuZ2FtZUNsdWJCdG4gPSB3eC5jcmVhdGVHYW1lQ2x1YkJ1dHRvbih7XHJcbiAgICAgICAgXHRcdFx0aWNvbjonZ3JlZW4nLFxyXG4gICAgICAgIFx0XHRcdHRleHQ6XCLmuLjmiI/lnIhcIixcclxuICAgICAgICBcdFx0XHRzdHlsZTp7XHJcbiAgICAgICAgXHRcdFx0XHRsZWZ0OnNlbGYubGVmdFBvcyAtIDIwLFxyXG4gICAgICAgIFx0XHRcdFx0dG9wOnNlbGYudG9wUG9zIC0gMjAsXHJcbiAgICAgICAgXHRcdFx0XHR3aWR0aDogNDUsXHJcbiAgICAgICAgXHRcdFx0XHRoZWlnaHQ6IDQ1LFxyXG4gICAgICAgIFx0XHRcdH1cclxuICAgICAgICBcdFx0fSk7XHJcbiAgICAgICAgXHR9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgU2hvd0NsdWJCdXR0b246ZnVuY3Rpb24oZmxhZyA9IGZhbHNlKVxyXG4gICAgICAgIHtcclxuXHRcdFx0bGV0IGlzS3VhaVNob3UgPSBmYWxzZTtcclxuXHRcdFx0aWYgKHR5cGVvZiBrcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHQvL+i/kOihjOWcqOW/q+aJi+W5s+WPsFxyXG5cdFx0XHRcdGlzS3VhaVNob3UgPSB0cnVlO1xyXG5cdFx0XHR9XHJcbiAgICAgICAgXHRpZihjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiB0aGlzLmdhbWVDbHViQnRuICE9IG51bGwgJiYgIWlzS3VhaVNob3UpXHJcbiAgICAgICAgXHR7XHJcbiAgICAgICAgXHRcdGlmKGZsYWcgPT0gdHJ1ZSlcclxuICAgICAgICBcdFx0XHR0aGlzLmdhbWVDbHViQnRuLnNob3coKTtcclxuICAgICAgICBcdFx0ZWxzZVxyXG4gICAgICAgIFx0XHRcdHRoaXMuZ2FtZUNsdWJCdG4uaGlkZSgpO1xyXG4gICAgICAgIFx0fVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8v6ZqP5py65LiA5Liq5ZCN5a2XXHJcbiAgICAgICAgSW5pdFJhbmROaWNrTmFtZTpmdW5jdGlvbigpe1xyXG4gICAgICAgIFx0dmFyIHNlZWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMjQpICsgMTtcclxuICAgICAgICBcdHRoaXMubmlja05hbWUgPSBjYy5NZ3IuZ2xvYmFsLmdldFRyYW5zbGF0aW9uKFwiTmFtZVwiKyBzZWVkKTtcclxuICAgICAgICBcdGNjLmxvZyhcIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFwiICsgdGhpcy5uaWNrTmFtZSlcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvL+WPs+S4iuinkueahOi9rOWPkeaMiemSrlxyXG4gICAgICAgIFNoYXJlVG9wTmF2OmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgXHR2YXIgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNik7XHJcblx0ICAgICAgICBsZXQgaW5mbyA9IGNjLk1nci5TaGFyZUluZm9zLmdldFNoYXJlSW5mb3MoaW5kZXgpO1xyXG5cdFx0XHRsZXQgaXNLdWFpU2hvdSA9IGZhbHNlO1xyXG5cdFx0XHRpZiAodHlwZW9mIGtzICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdC8v6L+Q6KGM5Zyo5b+r5omL5bmz5Y+wXHJcblx0XHRcdFx0aXNLdWFpU2hvdSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHQgICAgICAgIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLldFQ0hBVF9HQU1FICYmICFpc0t1YWlTaG91KVxyXG5cdCAgICAgICAge1xyXG5cdCAgICAgICAgICAgIHd4LnNob3dTaGFyZU1lbnUoe3dpdGhTaGFyZVRpY2tldDp0cnVlfSk7XHJcblx0ICAgICAgICAgICAgd3gub25TaGFyZUFwcE1lc3NhZ2UoZnVuY3Rpb24gKCkge1xyXG5cdCAgICAgICAgICAgICAgICAvLyDnlKjmiLfngrnlh7vkuobigJzovazlj5HigJ3mjInpkq5cclxuXHQgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuXHQgICAgICAgICAgICAgICAgICB0aXRsZTogXCLjgJDmnInkurpA5L2g44CR5oiR5Zyo6L+Z5Liq5ri45oiP6YeM6Z2i5oyj5LqG5LiA5Liq5Lq/XCIsXHJcblx0ICAgICAgICAgICAgICAgICAgaW1hZ2VVcmxJZDogJ2R3TWctcUJQUzhTN01JV2s0VlJIeHcnLFxyXG5cdCAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBcImh0dHBzOi8vcGFvcGFvLnRhbGt5dW4uY29tLmNuL3lpeWkvMS5qcGdcIixcclxuXHQgICAgICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgICAgIH0pXHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBlbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKVxyXG5cdCAgICAgICAge1xyXG5cdCAgICAgICAgICAgIHR0LnNob3dTaGFyZU1lbnUoZmFsc2UpO1xyXG5cdCAgICAgICAgICAgIHR0Lm9uU2hhcmVBcHBNZXNzYWdlKGZ1bmN0aW9uICgpIHtcclxuXHQgICAgICAgICAgICAgICAgLy8g55So5oi354K55Ye75LqG4oCc6L2s5Y+R4oCd5oyJ6ZKuXHJcblx0ICAgICAgICAgICAgICAgIHJldHVybiB7XHJcblx0ICAgICAgICAgICAgICAgICAgdGl0bGU6IGluZm8udGV4dCxcclxuXHQgICAgICAgICAgICAgICAgICAvL2ltYWdlVXJsSWQ6ICdJazE0UlpqN1NWMkJ0aWdydEUzZDFnJyxcclxuXHQgICAgICAgICAgICAgICAgICBpbWFnZVVybDogaW5mby51cmwsXHJcblx0ICAgICAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICB9KVxyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5CQUlEVV9HQU1FKVxyXG5cdCAgICAgICAge1xyXG5cdCAgICAgICAgICAgIHN3YW4uc2hvd1NoYXJlTWVudShmYWxzZSk7XHJcblx0ICAgICAgICAgICAgc3dhbi5vblNoYXJlQXBwTWVzc2FnZShmdW5jdGlvbiAoKSB7XHJcblx0ICAgICAgICAgICAgICAgIC8vIOeUqOaIt+eCueWHu+S6huKAnOi9rOWPkeKAneaMiemSrlxyXG5cdCAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG5cdCAgICAgICAgICAgICAgICAgIHRpdGxlOiBpbmZvLnRleHQsXHJcblx0ICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IGluZm8udXJsXHJcblx0ICAgICAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICB9KVxyXG5cdCAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8v6L2s5Y+R5LiA5q615paH5pysXHJcbiAgICAgICAgU2hhcmVUb0ZyaWVuZFR4dDpmdW5jdGlvbihzdHIpe1xyXG5cdFx0XHRsZXQgaXNLdWFpU2hvdSA9IGZhbHNlO1xyXG5cdFx0XHRpZiAodHlwZW9mIGtzICE9PSAndW5kZWZpbmVkJykge1xyXG5cdFx0XHRcdC8v6L+Q6KGM5Zyo5b+r5omL5bmz5Y+wXHJcblx0XHRcdFx0aXNLdWFpU2hvdSA9IHRydWU7XHJcblx0XHRcdH1cclxuICAgICAgICBcdGlmKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLldFQ0hBVF9HQU1FICYmICFpc0t1YWlTaG91KVxyXG5cdCAgICAgICAge1xyXG5cdCAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi54K55Ye75LqG5YiG5Lqr5ZWKXCIpO1xyXG5cdCAgICAgICAgICAgIHd4LnNoYXJlQXBwTWVzc2FnZSh7XHJcblx0ICAgICAgICAgICAgICAgIHRpdGxlOiBzdHIsXHJcblx0ICAgICAgICAgICAgfSlcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQllURURBTkNFX0dBTUUpXHJcblx0ICAgICAgICB7XHJcblx0ICAgICAgICAgICAgdHQuc2hhcmVBcHBNZXNzYWdlKHtcclxuXHQgICAgICAgICAgICAgICAgdGl0bGU6IHN0cixcclxuXHQgICAgICAgICAgICB9KVxyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5CQUlEVV9HQU1FKVxyXG5cdCAgICAgICAge1xyXG5cdCAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi54K55Ye75LqG5YiG5Lqr5ZWKXCIpO1xyXG5cdCAgICAgICAgICAgIHN3YW4uc2hhcmVBcHBNZXNzYWdlKHtcclxuXHQgICAgICAgICAgICAgICAgdGl0bGU6IHN0cixcclxuXHQgICAgICAgICAgICB9KVxyXG5cdCAgICAgICAgfVxyXG5cdFx0XHRlbHNlIGlmKGlzS3VhaVNob3UpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRrcy5zaGFyZUFwcE1lc3NhZ2Uoe30pXHJcblx0XHRcdH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvL+iHquWumuS5iei9rOWPkVxyXG4gICAgICAgIFNoYXJlVG9GcmllbmQ6ZnVuY3Rpb24oaW5kZXgpe1xyXG4gICAgICAgIFx0dmFyIGluZm8gPSBjYy5NZ3IuU2hhcmVJbmZvcy5nZXRTaGFyZUluZm9zKGluZGV4KTtcclxuXHRcdFx0bGV0IGlzS3VhaVNob3UgPSBmYWxzZTtcclxuXHRcdFx0aWYgKHR5cGVvZiBrcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHQvL+i/kOihjOWcqOW/q+aJi+W5s+WPsFxyXG5cdFx0XHRcdGlzS3VhaVNob3UgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0ICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiAhaXNLdWFpU2hvdSlcclxuXHQgICAgICAgIHtcclxuXHQgICAgICAgICAgICBjb25zb2xlLmxvZyhcIueCueWHu+S6huWIhuS6q+WVilwiKTtcclxuXHQgICAgICAgICAgICB3eC5zaGFyZUFwcE1lc3NhZ2Uoe1xyXG5cdCAgICAgICAgICAgICAgICB0aXRsZTogaW5mby50ZXh0LFxyXG5cdCAgICAgICAgICAgICAgICBpbWFnZVVybDogaW5mby51cmwsXHJcblx0ICAgICAgICAgICAgfSlcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQllURURBTkNFX0dBTUUpXHJcblx0ICAgICAgICB7XHJcblx0ICAgICAgICAgICAgdHQuc2hhcmVBcHBNZXNzYWdlKHtcclxuXHQgICAgICAgICAgICAgICAgdGl0bGU6IGluZm8udGV4dCxcclxuXHQgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IGluZm8udXJsXHJcblx0ICAgICAgICAgICAgfSlcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQkFJRFVfR0FNRSlcclxuXHQgICAgICAgIHtcclxuXHQgICAgICAgICAgICBjb25zb2xlLmxvZyhcIueCueWHu+S6huWIhuS6q+WVilwiKTtcclxuXHQgICAgICAgICAgICBzd2FuLnNoYXJlQXBwTWVzc2FnZSh7XHJcblx0ICAgICAgICAgICAgICAgIHRpdGxlOiBpbmZvLnRleHQsXHJcblx0ICAgICAgICAgICAgICAgIGltYWdlVXJsOiBpbmZvLnVybFxyXG5cdCAgICAgICAgICAgIH0pXHJcblx0ICAgICAgICB9XHJcblx0XHRcdGVsc2UgaWYoaXNLdWFpU2hvdSlcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGtzLnNoYXJlQXBwTWVzc2FnZSh7fSlcclxuXHRcdFx0fVxyXG4gICAgICAgIH0sXHJcbiBcdFx0Ly/mmL7npLrlubPlj7DnmoTlsI/lvLnnqpcg5Zue6LCD55SoXHJcbiAgICAgICAgc2hvd1RvYXN0OmZ1bmN0aW9uKHRleHQpXHJcblx0ICAgIHtcclxuXHRcdFx0bGV0IGlzS3VhaVNob3UgPSBmYWxzZTtcclxuXHRcdFx0aWYgKHR5cGVvZiBrcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHQvL+i/kOihjOWcqOW/q+aJi+W5s+WPsFxyXG5cdFx0XHRcdGlzS3VhaVNob3UgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0ICAgICAgICBjYy5sb2codGV4dCk7XHJcblx0ICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiAhaXNLdWFpU2hvdSlcclxuXHQgICAgICAgIHtcclxuXHQgICAgICAgICAgICB3eC5zaG93VG9hc3Qoe1xyXG5cdCAgICAgICAgICAgICAgICB0aXRsZTogdGV4dCxcclxuXHQgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLFxyXG5cdCAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMFxyXG5cdCAgICAgICAgICAgIH0pXHJcblx0ICAgICAgICB9XHJcblx0ICAgICAgICBlbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKVxyXG5cdCAgICAgICAge1xyXG5cdCAgICAgICAgICAgIHR0LnNob3dUb2FzdCh7XHJcblx0ICAgICAgICAgICAgICAgIHRpdGxlOiB0ZXh0LFxyXG5cdCAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsXHJcblx0ICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwXHJcblx0ICAgICAgICAgICAgfSlcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQkFJRFVfR0FNRSlcclxuXHQgICAgICAgIHtcclxuXHQgICAgICAgICAgICBzd2FuLnNob3dUb2FzdCh7XHJcblx0ICAgICAgICAgICAgICAgIHRpdGxlOiB0ZXh0LFxyXG5cdCAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsXHJcblx0ICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwXHJcblx0ICAgICAgICAgICAgfSlcclxuXHQgICAgICAgIH1cclxuXHRcdFx0ZWxzZSBpZihpc0t1YWlTaG91KVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0a3Muc2hvd1RvYXN0KHtcclxuXHRcdFx0XHRcdHRpdGxlOiB0ZXh0LFxyXG5cdFx0XHRcdFx0aWNvbjogJ3N1Y2Nlc3MnLFxyXG5cdFx0XHRcdFx0ZHVyYXRpb246IDIwMDBcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblx0ICAgIH0sXHJcblx0ICAgIC8v5b6u5L+h5byA5pS+5pWw5o2u5a2Y5YKoIHNjb3JlIOS7o+ihqOW9k+WJjeimgeS/neWtmOeahOS4nOilv1xyXG5cdCAgICBzZXRVc2VyQ2xvdWRTdG9yYWdlOmZ1bmN0aW9uKHNvY3JlKSBcclxuXHQgICAge1xyXG5cdCAgICBcdGlmKCF0aGlzLklzTG9naW5TeW5jKCkpXHJcblx0ICAgIFx0e1xyXG5cdCAgICBcdFx0cmV0dXJuO1xyXG5cdCAgICBcdH1cclxuXHRcdFx0bGV0IGlzS3VhaVNob3UgPSBmYWxzZTtcclxuXHRcdFx0aWYgKHR5cGVvZiBrcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHQvL+i/kOihjOWcqOW/q+aJi+W5s+WPsFxyXG5cdFx0XHRcdGlzS3VhaVNob3UgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0ICAgIFx0XHJcblx0ICAgICAgICBjYy5sb2coXCJzZXRVc2VyQ2xvdWRTdG9yYWdlIHNvY3JlID0gXCIgKyBzb2NyZSk7XHJcblx0ICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiAhaXNLdWFpU2hvdSlcclxuXHQgICAgICAgIHtcclxuXHQgICAgICAgICAgICB2YXIga3ZEYXRhPXt9O1xyXG5cdCAgICAgICAgICAgIGt2RGF0YS53eGdhbWU9e307XHJcblx0ICAgICAgICAgICAga3ZEYXRhLnd4Z2FtZS5zY29yZSA9IHNvY3JlO1xyXG5cdCAgICAgICAgICAgIGt2RGF0YS53eGdhbWUudXBkYXRlX3RpbWUgPSAgbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblx0ICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoa3ZEYXRhKSk7XHJcblxyXG5cdCAgICAgICAgICAgIHZhciBrdkRhdGFMaXN0ID0gbmV3IEFycmF5KCk7XHJcblx0ICAgICAgICAgICAga3ZEYXRhTGlzdC5wdXNoKHtrZXk6IFwiXGJ4bWJTY29yZVwiLCB2YWx1ZTogSlNPTi5zdHJpbmdpZnkoa3ZEYXRhKX0pO1xyXG5cdCAgICAgICAgICAgIHd4LnNldFVzZXJDbG91ZFN0b3JhZ2Uoe1xyXG5cdFx0ICAgICAgICAgICAgS1ZEYXRhTGlzdDoga3ZEYXRhTGlzdCxcclxuXHRcdCAgICAgICAgICAgIHN1Y2Nlc3M6IHJlcyA9PiB7XHJcblx0XHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdWNjZXNzOlwiICsgSlNPTi5zdHJpbmdpZnkocmVzKSlcclxuXHRcdCAgICAgICAgICAgIH0sXHJcblx0XHQgICAgICAgICAgICBmYWlsOiByZXMgPT4ge1xyXG5cdFx0ICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmFpbCA6IFwiICsgcmVzKTtcclxuXHRcdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICB9KTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQkFJRFVfR0FNRSlcclxuXHQgICAgICAgIHtcclxuXHQgICAgICAgIFx0dmFyIGt2RGF0YT17fTtcclxuXHQgICAgICAgICAgICBrdkRhdGEud3hnYW1lPXt9O1xyXG5cdCAgICAgICAgICAgIGt2RGF0YS53eGdhbWUuc2NvcmUgPSBzb2NyZTtcclxuXHQgICAgICAgICAgICBrdkRhdGEud3hnYW1lLnVwZGF0ZV90aW1lID0gIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cdCAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGt2RGF0YSkpO1xyXG5cclxuXHQgICAgICAgICAgICB2YXIga3ZEYXRhTGlzdCA9IG5ldyBBcnJheSgpO1xyXG5cdCAgICAgICAgICAgIGt2RGF0YUxpc3QucHVzaCh7a2V5OiBcIlxieG1iU2NvcmVcIiwgdmFsdWU6IEpTT04uc3RyaW5naWZ5KGt2RGF0YSl9KTtcclxuXHJcblx0ICAgICAgICBcdHN3YW4uc2V0VXNlckNsb3VkU3RvcmFnZSh7XHJcblx0XHRcdFx0XHRLVkRhdGFMaXN0OiBrdkRhdGFMaXN0LFxyXG5cdFx0XHRcdFx0c3VjY2VzczogcmVzID0+IGNvbnNvbGUubG9nKFwic3VjY2VzcyBcIityZXMpLFxyXG5cdFx0XHRcdFx0ZmFpbDogcmVzID0+IGNvbnNvbGUubG9nKFwiZmFpbCBcIityZXMpLFxyXG5cdFx0XHRcdFx0Y29tcGxldGU6IHJlcyA9PiBjb25zb2xlLmxvZyhcImNvbXBsZXRlIFwiK3JlcylcclxuXHRcdFx0XHR9KTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgfSxcclxuXHJcblx0ICAgIC8v5piv5ZCm5pSv5oyB5o6S6KGM5Yqf6IO9XHJcblx0ICAgIElzU3VwcG9ydFJhbms6ZnVuY3Rpb24oKVxyXG5cdCAgICB7XHJcblx0XHRcdGxldCBpc0t1YWlTaG91ID0gZmFsc2U7XHJcblx0XHRcdGlmICh0eXBlb2Yga3MgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0Ly/ov5DooYzlnKjlv6vmiYvlubPlj7BcclxuXHRcdFx0XHRpc0t1YWlTaG91ID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdCAgICAgICAgaWYoKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLldFQ0hBVF9HQU1FICYmICFpc0t1YWlTaG91KSB8fCBjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5CQUlEVV9HQU1FKVxyXG5cdCAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG5cclxuXHQgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHQgICAgfSxcclxuXHJcblx0ICAgIC8v5pi+56S65a2Q5Z+fXHJcblx0ICAgIHNob3dTdWJDb250ZW50VmlldzpmdW5jdGlvbigpXHJcblx0ICAgIHtcclxuXHRcdFx0bGV0IGlzS3VhaVNob3UgPSBmYWxzZTtcclxuXHRcdFx0aWYgKHR5cGVvZiBrcyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0XHQvL+i/kOihjOWcqOW/q+aJi+W5s+WPsFxyXG5cdFx0XHRcdGlzS3VhaVNob3UgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0ICAgICAgICBpZigoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuV0VDSEFUX0dBTUUgJiYgIWlzS3VhaVNob3UpIHx8IGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLkJBSURVX0dBTUUgKVxyXG5cdCAgICAgICAge1xyXG5cdFx0ICAgICAgICB2YXIgcGFyYW0gPSB7fTtcclxuXHRcdCAgICAgICAgcGFyYW0uZmxhZyA9IHRydWU7XHJcblx0XHQgICAgICAgIGNjLmRpcmVjdG9yLkdsb2JhbEV2ZW50LmVtaXQoY2MuTWdyLkV2ZW50LlNob3dSYW5rLCBwYXJhbSk7XHJcblx0ICAgICAgICB9XHJcblx0ICAgIH0sXHJcblxyXG5cdCAgICBoaWRlU3ViQ29udGVudFZpZXc6ZnVuY3Rpb24oKVxyXG5cdCAgICB7XHJcblx0XHRcdGxldCBpc0t1YWlTaG91ID0gZmFsc2U7XHJcblx0XHRcdGlmICh0eXBlb2Yga3MgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0Ly/ov5DooYzlnKjlv6vmiYvlubPlj7BcclxuXHRcdFx0XHRpc0t1YWlTaG91ID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdCAgICAgICAgaWYoKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLldFQ0hBVF9HQU1FICYmICFpc0t1YWlTaG91KSB8fCBjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5CQUlEVV9HQU1FIClcclxuXHQgICAgICAgIHtcclxuXHQgICAgICAgICAgICB2YXIgcGFyYW0gPSB7fTtcclxuXHRcdCAgICAgICAgcGFyYW0uZmxhZyA9IGZhbHNlO1xyXG5cdFx0ICAgICAgICBjYy5kaXJlY3Rvci5HbG9iYWxFdmVudC5lbWl0KGNjLk1nci5FdmVudC5TaG93UmFuaywgcGFyYW0pO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9LFxyXG5cclxuXHQgICAgU2VuZE1lc3NhZ2VUb1N1YlZpZXc6ZnVuY3Rpb24oY29kZSxjdXJTY29yZT0wKVxyXG5cdCAgICB7XHJcblx0ICAgICAgICB2YXIgbXNnPXt9O1xyXG5cdCAgICAgICAgbXNnLmNvZGUgPSBjb2RlO1xyXG5cdCAgICAgICAgbXNnLmN1clNjb3JlID0gY3VyU2NvcmU7XHJcblx0XHRcdGxldCBpc0t1YWlTaG91ID0gZmFsc2U7XHJcblx0XHRcdGlmICh0eXBlb2Yga3MgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0Ly/ov5DooYzlnKjlv6vmiYvlubPlj7BcclxuXHRcdFx0XHRpc0t1YWlTaG91ID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdCAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuV0VDSEFUX0dBTUUgJiYgIWlzS3VhaVNob3UpXHJcblx0ICAgICAgICB7XHJcblx0ICAgICAgICAgICAgd3guZ2V0T3BlbkRhdGFDb250ZXh0KCkucG9zdE1lc3NhZ2Uoe1xyXG5cdCAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2dcclxuXHQgICAgICAgICAgICB9KTtcclxuXHQgICAgICAgIH1cclxuXHQgICAgICAgIGVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQkFJRFVfR0FNRSlcclxuXHQgICAgICAgIHtcclxuXHQgICAgICAgIFx0c3dhbi5nZXRPcGVuRGF0YUNvbnRleHQoKS5wb3N0TWVzc2FnZSh7XHJcblx0XHRcdFx0ICAgIG1lc3NhZ2U6IG1zZ1xyXG5cdFx0XHRcdH0pO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9LFxyXG5cclxuXHQgICAgLy/mlbTnkIbmlbDmja5cclxuXHQgICAgQ29sbGF0ZURhdGE6ZnVuY3Rpb24oZGF0YSlcclxuXHQgICAge1xyXG5cdCAgICAgICAgdGhpcy51c2VySW5mbyA9IFtdO1xyXG5cdCAgICAgICAgdmFyIGogPSAwO1xyXG5cdCAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgKytpKSB7XHJcblx0ICAgICAgICAgICAgaWYoZGF0YVtpXS5LVkRhdGFMaXN0Lmxlbmd0aCA9PSAwKVxyXG5cdCAgICAgICAgICAgIHtcclxuXHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjb21iRGF0YSDmsqHmnInmraTpobnmlbDmja5cIik7XHJcblx0ICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cdCAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICAvL3tcIm9wZW5pZFwiOlwibzBPaFo1S24yeE85YjVGVlI4VEUwWVhPbDNXY1wiLFwibmlja25hbWVcIjpcIuadqOW9rFwiLFwiYXZhdGFyVXJsXCI6XCJodHRwczovL3d4LnFsb2dvLmNuL21tb3Blbi92aV8zMi9GY1JpYkdQa2ljU0tobjZMQTFPV2ZMN2ljdGlhS2lhanppYnpXOHp3UWlia0dLZENKbW1pYXN2aWJjUmFzSTJLeXRjVnRXOENsSDVJUVRzT3MzQ0I4dnlNU1VBT2FyQS8xMzJcIixcIktWRGF0YUxpc3RcIjpbe1wia2V5XCI6XCJcXGJlbHNma1Njb3JlXCIsXCJ2YWx1ZVwiOlwie1xcXCJ3eGdhbWVcXFwiOntcXFwic2NvcmVcXFwiOjE4ODksXFxcInVwZGF0ZV90aW1lXFxcIjoxNTUzODI0MzY5OTIwfX1cIn1dfVxyXG5cdCAgICAgICAgICAgIHRoaXMudXNlckluZm9bal09e307XHJcblx0ICAgICAgICAgICAgdGhpcy51c2VySW5mb1tqXS5vcGVuaWQgPSBkYXRhW2ldLm9wZW5pZDtcclxuXHQgICAgICAgICAgICB0aGlzLnVzZXJJbmZvW2pdLm5pY2tuYW1lID0gZGF0YVtpXS5uaWNrbmFtZTtcclxuXHQgICAgICAgICAgICB0aGlzLnVzZXJJbmZvW2pdLmF2YXRhclVybCA9IGRhdGFbaV0uYXZhdGFyVXJsO1xyXG5cclxuXHQgICAgICAgICAgICB2YXIga1ZEYXRhTGlzdFZhbHVlc3RyID0gZGF0YVtpXS5LVkRhdGFMaXN0WzBdLnZhbHVlO1xyXG5cdCAgICAgICAgICAgIGtWRGF0YUxpc3RWYWx1ZXN0ciA9IGtWRGF0YUxpc3RWYWx1ZXN0ci5zdWJzdHIoMSk7IC8v5Yig6Zmk56ys5LiA5Liq5a2X56ymXHJcblx0ICAgICAgICAgICAga1ZEYXRhTGlzdFZhbHVlc3RyID0ga1ZEYXRhTGlzdFZhbHVlc3RyLnN1YnN0cigwLCBrVkRhdGFMaXN0VmFsdWVzdHIubGVuZ3RoLTEpOyBcclxuXHQgICAgICAgICAgICBrVkRhdGFMaXN0VmFsdWVzdHIgPSBcIntcIiArIGtWRGF0YUxpc3RWYWx1ZXN0ciArIFwifVwiO1xyXG5cdCAgICAgICAgICAgIHZhciBnYW1lU2NvcmUgPSBKU09OLnBhcnNlKGtWRGF0YUxpc3RWYWx1ZXN0cikud3hnYW1lO1xyXG5cdCAgICAgICAgICAgIHRoaXMudXNlckluZm9bal0uc2NvcmUgPSBnYW1lU2NvcmUuc2NvcmU7XHJcblx0ICAgICAgICAgICAgaisrO1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICAgICAgLy/nu5nnlKjmiLfmlbDmja7ov5vooYzmjpLluo9cclxuXHQgICAgICAgIHRoaXMudXNlckluZm8uc29ydCgoYSxiKT0+e1xyXG5cdCAgICAgICAgICAgICAgICBpZihhLnNjb3JlPGIuc2NvcmUpXHJcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuXHQgICAgICAgICAgICAgICAgZWxzZSBpZihhLnNjb3JlPmIuc2NvcmUpXHJcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTFcclxuXHQgICAgICAgICAgICAgICAgZWxzZVxyXG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgKTtcclxuXHQgICAgICAgIGNvbnNvbGUubG9nKFwiQ29sbGF0ZURhdGEtLS0gXCIgKyBKU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJJbmZvKSk7XHJcblx0ICAgICAgICBmb3IodmFyIGk9MCA7aTx0aGlzLnVzZXJJbmZvLmxlbmd0aDtpKyspXHJcblx0ICAgICAgICB7XHQvL+aMkeWHuuiHquW3seeahOaOkuWQjVxyXG5cdCAgICAgICAgICAgIGlmKHRoaXMudXNlckluZm9baV0uYXZhdGFyVXJsID09IHRoaXMuYXZhdGFyVXJsKVxyXG5cdCAgICAgICAgICAgIHtcclxuXHQgICAgICAgICAgICAgICAgdGhpcy5teVNvcmRJZCA9IGk7XHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgfSBcclxuXHQgICAgfSxcclxuICAgIH0sXHJcbn0pO1xyXG5tb2R1bGUuZXhwb3J0cyA9IFBsYXRmb3JtQ29udHJvbGxlcjtcclxuIl19