
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/UI/EventPanel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e67e8p1OxxG7oSy9F6+K1UZ', 'EventPanel');
// Scripts/UI/EventPanel.js

"use strict";

var ItemType = require("ItemType");
var RewardType = require("RewardType");
var UserState = require("UserState");
var EventPanel = cc.Class({
  "extends": cc.Component,
  properties: {
    desLbl: cc.Label,
    btnLbl: [cc.Label],
    btnTip: [cc.Node],
    btnDesLbl: [cc.Label],
    Data: null
  },
  ShowPanel: function ShowPanel(Id) {
    //cc.log("根据事件来处理问题  Id = " + Id);
    var data = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.EventData, Id);
    this.Data = data;
    this.desLbl.string = cc.Mgr.global.getTranslation("event_" + data.desId);
    for (var i = 0; i < 2; i++) {
      this.btnLbl[i].string = cc.Mgr.global.getTranslation("event_" + data.cost[i].desId);
      this.btnTip[i].active = true;
      if (data.cost[i].costType == RewardType.NULL) {
        this.btnTip[i].active = false;
      } else if (data.cost[i].costType == RewardType.Cash) {
        var costNum = Math.floor(data.cost[i].costNum * (1 - cc.Mgr.UserDataMgr.EventCostBonus));
        this.btnDesLbl[i].string = "花费现金:" + costNum;
      } else if (data.cost[i].costType == RewardType.HP) {
        this.btnDesLbl[i].string = "消耗体力:" + data.cost[i].costNum;
      } else if (data.cost[i].costType == RewardType.Reputation) {
        this.btnDesLbl[i].string = "名声损失:" + data.cost[i].costNum;
      }
    }
  },
  ClickConfirmY: function ClickConfirmY() {
    var param = {};
    param.text = "";
    param.des = "";
    param.forWhat = "Event_No";
    if (cc.Mgr.UserDataMgr.userState == UserState.OK) {
      if (this.Data.cost[0].costType == RewardType.NULL) {
        param.forWhat = "Event_Yes";
      } else if (this.Data.cost[0].costType == RewardType.Cash) {
        if (cc.Mgr.UserDataMgr.Cash >= this.Data.cost[0].costNum) {
          param.forWhat = "Event_Yes";
          cc.Mgr.UserDataMgr.Cash -= this.Data.cost[0].costNum;
        } else {
          param.text = "钱不够,无法参与";
          param.forWhat = "Event_No";
        }
      } else if (this.Data.cost[0].costType == RewardType.HP) {
        if (cc.Mgr.UserDataMgr.HpPoint >= this.Data.cost[0].costNum) {
          param.forWhat = "Event_Yes";
          cc.Mgr.UserDataMgr.HpPoint -= this.Data.cost[0].costNum;
        } else {
          param.text = "你的健康状态已无法支持你进入本次活动";
          param.forWhat = "Event_No";
        }
      } else if (this.Data.cost[0].costType == RewardType.Reputation) {
        if (cc.Mgr.UserDataMgr.Reputation >= this.Data.cost[0].costNum) {
          param.forWhat = "Event_Yes";
          cc.Mgr.UserDataMgr.Reputation -= this.Data.cost[0].costNum;
        } else {
          param.text = "你的名声已无法支持你进入本次活动";
          param.forWhat = "Event_No";
        }
      }
    } else {
      param.text = "尚在治疗过程中,停止一切活动";
      param.forWhat = "Event_No";
    }
    if (param.forWhat != "Event_No") {
      param.forWhat = "Event_Yes";
      var result = null;
      var seed = Math.random();
      if (seed > 0.5) {
        result = this.Data.YResults[1];
        param.text = cc.Mgr.global.getTranslation("event_" + result.desId);
      } else {
        result = this.Data.YResults[0];
        param.text = cc.Mgr.global.getTranslation("event_" + result.desId);
      }
      if (result != null) {
        param.Pdata = cc.Mgr.UserDataMgr.GetOrCostDataByRewardType(result.rewardType, result.rewardNum, result.rewardId);
        var des = this.GetEventReward(result.rewardType, result.rewardId);
        if (des != "") {
          if (result.rewardNum > 0 && result.rewardType == RewardType.Goods) {
            if (param.Pdata.Id == -1) {
              param.des = des + "+" + result.rewardNum;
              param.text = "仓库已满，无法获得"; //"+" + result.rewardNum;
            } else {
              param.des = des + "+" + result.rewardNum;
              param.text = param.text + "\n"; //"+" + result.rewardNum;
            }
          } else if (result.rewardNum > 0 && (result.rewardType == RewardType.Stock || result.rewardType == RewardType.StockPrice)) {
            if (param.Pdata.companyId == -1) {
              if (this.Data.cost[0].costType == RewardType.Cash) cc.Mgr.UserDataMgr.Cash += this.Data.cost[0].costNum;
              param.des = des + "+" + result.rewardNum;
              param.text = "该公司尚未创立,奖励无法获得,花费现金返回"; //"+" + result.rewardNum;
            } else {
              param.des = des + "+" + result.rewardNum;
              param.text = param.text + "\n"; //"+" + result.rewardNum;
            }
          } else {
            if (result.rewardNum > 0) param.des = des + "+" + result.rewardNum;else param.des = des + result.rewardNum;
            param.text = param.text + "\n"; //+ result.rewardNum;
          }
        }
      }
    } else {}
    //cc.log("___________________________" + param.forWhat);
    //cc.log(" ====事件最终描述 ============= " + param.text);
    cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenEventResult, param);
    this.ClosePanel();
  },
  ClickConfirmN: function ClickConfirmN() {
    var param = {};
    param.forWhat = "Event_No";
    param.text = "";
    param.des = "";
    if (cc.Mgr.UserDataMgr.userState == UserState.OK) {
      if (this.Data.cost[1].costType == RewardType.NULL) {
        param.forWhat = "Event_Yes";
      } else if (this.Data.cost[1].costType == RewardType.Cash) {
        if (cc.Mgr.UserDataMgr.Cash >= this.Data.cost[1].costNum) {
          param.forWhat = "Event_Yes";
          cc.Mgr.UserDataMgr.Cash -= this.Data.cost[1].costNum;
        } else {
          param.text = "钱不够,无法参与";
          param.forWhat = "Event_No";
        }
      } else if (this.Data.cost[1].costType == RewardType.HP) {
        if (cc.Mgr.UserDataMgr.HpPoint >= this.Data.cost[1].costNum) {
          param.forWhat = "Event_Yes";
          cc.Mgr.UserDataMgr.HpPoint -= this.Data.cost[1].costNum;
        } else {
          param.text = "你的健康状态已无法支持你进入本次活动";
          param.forWhat = "Event_No";
        }
      } else if (this.Data.cost[1].costType == RewardType.Reputation) {
        if (cc.Mgr.UserDataMgr.Reputation >= this.Data.cost[1].costNum) {
          param.forWhat = "Event_Yes";
          cc.Mgr.UserDataMgr.Reputation -= this.Data.cost[1].costNum;
        } else {
          param.text = "你的名声已无法支持你进入本次活动";
          param.forWhat = "Event_No";
        }
      }
    } else {
      param.text = "尚在治疗过程中,停止一切活动";
      param.forWhat = "Event_No";
    }
    if (param.forWhat != "Event_No") {
      param.forWhat = "Event_Yes";
      var seed = Math.random();
      var result = null;
      if (seed > 0.5) {
        result = this.Data.NResults[1];
        param.text = cc.Mgr.global.getTranslation("event_" + result.desId);
      } else {
        result = this.Data.NResults[0];
        param.text = cc.Mgr.global.getTranslation("event_" + result.desId);
      }
      if (result != null) {
        param.Pdata = cc.Mgr.UserDataMgr.GetOrCostDataByRewardType(result.rewardType, result.rewardNum, result.rewardId);
        var des = this.GetEventReward(result.rewardType, result.rewardId);
        if (des != "") {
          if (result.rewardNum > 0 && result.rewardType == RewardType.Goods) {
            if (param.Pdata.Id == -1) {
              param.des = des + "+" + result.rewardNum;
              param.text = "仓库已满，无法获得"; //"+" + result.rewardNum;
            } else {
              param.des = des + "+" + result.rewardNum;
              param.text = param.text + "\n"; //"+" + result.rewardNum;
            }
          } else if (result.rewardNum > 0 && (result.rewardType == RewardType.Stock || result.rewardType == RewardType.StockPrice)) {
            if (param.Pdata.companyId == -1) {
              if (this.Data.cost[0].costType == RewardType.Cash) cc.Mgr.UserDataMgr.Cash += this.Data.cost[0].costNum;
              param.des = des + "+" + result.rewardNum;
              param.text = "该公司尚未创立,奖励无法获得,花费现金返回"; //"+" + result.rewardNum;
            } else {
              param.des = des + "+" + result.rewardNum;
              param.text = param.text + "\n"; //"+" + result.rewardNum;
            }
          } else {
            if (result.rewardNum > 0) param.des = des + "+" + result.rewardNum;else param.des = des + result.rewardNum;
            param.text = param.text + "\n"; //+ result.rewardNum;
          }
        }
      }
    } else {}
    //cc.log("事件最终描述 ============= " + param.text);
    cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenEventResult, param);
    this.ClosePanel();
  },
  GetEventReward: function GetEventReward(rewardType, rewardId) {
    var des = "";
    switch (rewardType) {
      case RewardType.NULL:
        des = "";
        break;
      case RewardType.Cash:
        des = "现金";
        break;
      case RewardType.Car:
        des = "汽车";
        break;
      case RewardType.House:
        des = "房子";
        break;
      case RewardType.HP:
        des = "健康值";
        break;
      case RewardType.Goods:
        des = "商品";
        break;
      case RewardType.Reputation:
        des = "名声";
        break;
      case RewardType.Stock:
        var companyName = cc.Mgr.global.getTranslation("company_" + rewardId);
        des = companyName + "股票";
        break;
      case RewardType.StockPrice:
        var companyName = cc.Mgr.global.getTranslation("company_" + rewardId);
        des = companyName + "股票价格";
        break;
    }
    return des;
  },
  ClosePanel: function ClosePanel() {
    cc.Mgr.AudioMgr.playSFX("click");
    this.node.active = false;
  }
});
module.exports = EventPanel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcVUlcXEV2ZW50UGFuZWwuanMiXSwibmFtZXMiOlsiSXRlbVR5cGUiLCJyZXF1aXJlIiwiUmV3YXJkVHlwZSIsIlVzZXJTdGF0ZSIsIkV2ZW50UGFuZWwiLCJjYyIsIkNsYXNzIiwiQ29tcG9uZW50IiwicHJvcGVydGllcyIsImRlc0xibCIsIkxhYmVsIiwiYnRuTGJsIiwiYnRuVGlwIiwiTm9kZSIsImJ0bkRlc0xibCIsIkRhdGEiLCJTaG93UGFuZWwiLCJJZCIsImRhdGEiLCJNZ3IiLCJNYXBEYXRhTWdyIiwiZ2V0RGF0YUJ5SXRlbVR5cGVBbmRJZCIsIkV2ZW50RGF0YSIsInN0cmluZyIsImdsb2JhbCIsImdldFRyYW5zbGF0aW9uIiwiZGVzSWQiLCJpIiwiY29zdCIsImFjdGl2ZSIsImNvc3RUeXBlIiwiTlVMTCIsIkNhc2giLCJjb3N0TnVtIiwiTWF0aCIsImZsb29yIiwiVXNlckRhdGFNZ3IiLCJFdmVudENvc3RCb251cyIsIkhQIiwiUmVwdXRhdGlvbiIsIkNsaWNrQ29uZmlybVkiLCJwYXJhbSIsInRleHQiLCJkZXMiLCJmb3JXaGF0IiwidXNlclN0YXRlIiwiT0siLCJIcFBvaW50IiwicmVzdWx0Iiwic2VlZCIsInJhbmRvbSIsIllSZXN1bHRzIiwiUGRhdGEiLCJHZXRPckNvc3REYXRhQnlSZXdhcmRUeXBlIiwicmV3YXJkVHlwZSIsInJld2FyZE51bSIsInJld2FyZElkIiwiR2V0RXZlbnRSZXdhcmQiLCJHb29kcyIsIlN0b2NrIiwiU3RvY2tQcmljZSIsImNvbXBhbnlJZCIsImRpcmVjdG9yIiwiR2xvYmFsRXZlbnQiLCJlbWl0IiwiRXZlbnQiLCJPcGVuRXZlbnRSZXN1bHQiLCJDbG9zZVBhbmVsIiwiQ2xpY2tDb25maXJtTiIsIk5SZXN1bHRzIiwiQ2FyIiwiSG91c2UiLCJjb21wYW55TmFtZSIsIkF1ZGlvTWdyIiwicGxheVNGWCIsIm5vZGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7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LENBQUMwRCxVQUFVO1FBQ3RCLElBQUlZLFdBQVcsR0FBR25FLEVBQUUsQ0FBQ2MsR0FBRyxDQUFDSyxNQUFNLENBQUNDLGNBQWMsQ0FBQyxVQUFVLEdBQUcrQixRQUFRLENBQUM7UUFDckViLEdBQUcsR0FBRzZCLFdBQVcsR0FBRyxNQUFNO1FBQzFCO0lBQU07SUFFZCxPQUFPN0IsR0FBRztFQUNkLENBQUM7RUFFRHdCLFVBQVUsRUFBQyxTQUFBQSxXQUFBLEVBQVU7SUFDakI5RCxFQUFFLENBQUNjLEdBQUcsQ0FBQ3NELFFBQVEsQ0FBQ0MsT0FBTyxDQUFDLE9BQU8sQ0FBQztJQUNoQyxJQUFJLENBQUNDLElBQUksQ0FBQzlDLE1BQU0sR0FBRyxLQUFLO0VBQzVCO0FBQ0osQ0FBQyxDQUFDO0FBQ0YrQyxNQUFNLENBQUNDLE9BQU8sR0FBR3pFLFVBQVUiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBJdGVtVHlwZSA9IHJlcXVpcmUoXCJJdGVtVHlwZVwiKTtcclxudmFyIFJld2FyZFR5cGUgPSByZXF1aXJlKFwiUmV3YXJkVHlwZVwiKTtcclxudmFyIFVzZXJTdGF0ZSA9IHJlcXVpcmUoXCJVc2VyU3RhdGVcIik7XHJcbnZhciBFdmVudFBhbmVsID0gY2MuQ2xhc3Moe1xyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIGRlc0xibDpjYy5MYWJlbCxcclxuXHJcbiAgICAgICAgYnRuTGJsOltjYy5MYWJlbF0sXHJcblxyXG4gICAgICAgIGJ0blRpcDpbY2MuTm9kZV0sXHJcbiAgICAgICAgYnRuRGVzTGJsOltjYy5MYWJlbF0sXHJcbiAgICAgICAgRGF0YTpudWxsLFxyXG4gICAgfSxcclxuXHJcbiAgICBTaG93UGFuZWw6ZnVuY3Rpb24gKElkKSB7XHJcbiAgICAgICAgLy9jYy5sb2coXCLmoLnmja7kuovku7bmnaXlpITnkIbpl67popggIElkID0gXCIgKyBJZCk7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBjYy5NZ3IuTWFwRGF0YU1nci5nZXREYXRhQnlJdGVtVHlwZUFuZElkKEl0ZW1UeXBlLkV2ZW50RGF0YSwgSWQpO1xyXG4gICAgICAgIHRoaXMuRGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5kZXNMYmwuc3RyaW5nICA9IGNjLk1nci5nbG9iYWwuZ2V0VHJhbnNsYXRpb24oXCJldmVudF9cIitkYXRhLmRlc0lkKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5idG5MYmxbaV0uc3RyaW5nID0gY2MuTWdyLmdsb2JhbC5nZXRUcmFuc2xhdGlvbihcImV2ZW50X1wiK2RhdGEuY29zdFtpXS5kZXNJZCk7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuVGlwW2ldLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuY29zdFtpXS5jb3N0VHlwZSA9PSBSZXdhcmRUeXBlLk5VTEwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnRuVGlwW2ldLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYoZGF0YS5jb3N0W2ldLmNvc3RUeXBlID09IFJld2FyZFR5cGUuQ2FzaClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvc3ROdW0gPSBNYXRoLmZsb29yKGRhdGEuY29zdFtpXS5jb3N0TnVtICogKDEtY2MuTWdyLlVzZXJEYXRhTWdyLkV2ZW50Q29zdEJvbnVzKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ0bkRlc0xibFtpXS5zdHJpbmcgPSBcIuiKsei0ueeOsOmHkTpcIitjb3N0TnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYoZGF0YS5jb3N0W2ldLmNvc3RUeXBlID09IFJld2FyZFR5cGUuSFApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnRuRGVzTGJsW2ldLnN0cmluZyA9IFwi5raI6ICX5L2T5YqbOlwiK2RhdGEuY29zdFtpXS5jb3N0TnVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYoZGF0YS5jb3N0W2ldLmNvc3RUeXBlID09IFJld2FyZFR5cGUuUmVwdXRhdGlvbilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5idG5EZXNMYmxbaV0uc3RyaW5nID0gXCLlkI3lo7DmjZ/lpLE6XCIrZGF0YS5jb3N0W2ldLmNvc3ROdW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIENsaWNrQ29uZmlybVk6ZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgcGFyYW0gPSB7fTtcclxuICAgICAgICBwYXJhbS50ZXh0ID0gXCJcIjtcclxuICAgICAgICBwYXJhbS5kZXMgPSBcIlwiO1xyXG4gICAgICAgIHBhcmFtLmZvcldoYXQgPSBcIkV2ZW50X05vXCI7XHJcbiAgICAgICAgaWYoY2MuTWdyLlVzZXJEYXRhTWdyLnVzZXJTdGF0ZSA9PSBVc2VyU3RhdGUuT0spXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZih0aGlzLkRhdGEuY29zdFswXS5jb3N0VHlwZSA9PSBSZXdhcmRUeXBlLk5VTEwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtLmZvcldoYXQgPSBcIkV2ZW50X1llc1wiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5EYXRhLmNvc3RbMF0uY29zdFR5cGUgPT0gUmV3YXJkVHlwZS5DYXNoKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZihjYy5NZ3IuVXNlckRhdGFNZ3IuQ2FzaCA+PSB0aGlzLkRhdGEuY29zdFswXS5jb3N0TnVtKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLmZvcldoYXQgPSBcIkV2ZW50X1llc1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLk1nci5Vc2VyRGF0YU1nci5DYXNoIC09IHRoaXMuRGF0YS5jb3N0WzBdLmNvc3ROdW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0udGV4dCA9IFwi6ZKx5LiN5aSfLOaXoOazleWPguS4jlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLmZvcldoYXQgPSBcIkV2ZW50X05vXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZih0aGlzLkRhdGEuY29zdFswXS5jb3N0VHlwZSA9PSBSZXdhcmRUeXBlLkhQKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZihjYy5NZ3IuVXNlckRhdGFNZ3IuSHBQb2ludCA+PSB0aGlzLkRhdGEuY29zdFswXS5jb3N0TnVtKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLmZvcldoYXQgPSBcIkV2ZW50X1llc1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLk1nci5Vc2VyRGF0YU1nci5IcFBvaW50IC09IHRoaXMuRGF0YS5jb3N0WzBdLmNvc3ROdW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0udGV4dCA9IFwi5L2g55qE5YGl5bq354q25oCB5bey5peg5rOV5pSv5oyB5L2g6L+b5YWl5pys5qyh5rS75YqoXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uZm9yV2hhdCA9IFwiRXZlbnRfTm9cIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKHRoaXMuRGF0YS5jb3N0WzBdLmNvc3RUeXBlID09IFJld2FyZFR5cGUuUmVwdXRhdGlvbilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYoY2MuTWdyLlVzZXJEYXRhTWdyLlJlcHV0YXRpb24gPj0gdGhpcy5EYXRhLmNvc3RbMF0uY29zdE51bSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5mb3JXaGF0ID0gXCJFdmVudF9ZZXNcIjtcclxuICAgICAgICAgICAgICAgICAgICBjYy5NZ3IuVXNlckRhdGFNZ3IuUmVwdXRhdGlvbiAtPSB0aGlzLkRhdGEuY29zdFswXS5jb3N0TnVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLnRleHQgPSBcIuS9oOeahOWQjeWjsOW3suaXoOazleaUr+aMgeS9oOi/m+WFpeacrOasoea0u+WKqFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLmZvcldoYXQgPSBcIkV2ZW50X05vXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcGFyYW0udGV4dCA9IFwi5bCa5Zyo5rK755aX6L+H56iL5LitLOWBnOatouS4gOWIh+a0u+WKqFwiO1xyXG4gICAgICAgICAgICBwYXJhbS5mb3JXaGF0ID0gXCJFdmVudF9Ob1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihwYXJhbS5mb3JXaGF0ICE9IFwiRXZlbnRfTm9cIilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHBhcmFtLmZvcldoYXQgPSBcIkV2ZW50X1llc1wiO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIHNlZWQgPSBNYXRoLnJhbmRvbSgpO1xyXG4gICAgICAgICAgICBpZihzZWVkID4gMC41KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLkRhdGEuWVJlc3VsdHNbMV07XHJcbiAgICAgICAgICAgICAgICBwYXJhbS50ZXh0ID0gY2MuTWdyLmdsb2JhbC5nZXRUcmFuc2xhdGlvbihcImV2ZW50X1wiK3Jlc3VsdC5kZXNJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLkRhdGEuWVJlc3VsdHNbMF07XHJcbiAgICAgICAgICAgICAgICBwYXJhbS50ZXh0ID0gY2MuTWdyLmdsb2JhbC5nZXRUcmFuc2xhdGlvbihcImV2ZW50X1wiK3Jlc3VsdC5kZXNJZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHJlc3VsdCAhPSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5QZGF0YSA9IGNjLk1nci5Vc2VyRGF0YU1nci5HZXRPckNvc3REYXRhQnlSZXdhcmRUeXBlKHJlc3VsdC5yZXdhcmRUeXBlLCByZXN1bHQucmV3YXJkTnVtLCByZXN1bHQucmV3YXJkSWQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlcyA9IHRoaXMuR2V0RXZlbnRSZXdhcmQocmVzdWx0LnJld2FyZFR5cGUsIHJlc3VsdC5yZXdhcmRJZCk7XHJcbiAgICAgICAgICAgICAgICBpZihkZXMgIT0gXCJcIilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHQucmV3YXJkTnVtID4gMCAmJiByZXN1bHQucmV3YXJkVHlwZSA9PSBSZXdhcmRUeXBlLkdvb2RzKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocGFyYW0uUGRhdGEuSWQgPT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLmRlcyA9IGRlcyArIFwiK1wiICsgcmVzdWx0LnJld2FyZE51bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnRleHQgPSBcIuS7k+W6k+W3sua7oe+8jOaXoOazleiOt+W+l1wiOy8vXCIrXCIgKyByZXN1bHQucmV3YXJkTnVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uZGVzID0gZGVzICsgXCIrXCIgKyByZXN1bHQucmV3YXJkTnVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0udGV4dCA9IHBhcmFtLnRleHQgKyBcIlxcblwiOy8vXCIrXCIgKyByZXN1bHQucmV3YXJkTnVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihyZXN1bHQucmV3YXJkTnVtID4gMCAmJiAocmVzdWx0LnJld2FyZFR5cGUgPT0gUmV3YXJkVHlwZS5TdG9jayB8fCByZXN1bHQucmV3YXJkVHlwZSA9PSBSZXdhcmRUeXBlLlN0b2NrUHJpY2UpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocGFyYW0uUGRhdGEuY29tcGFueUlkID09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLkRhdGEuY29zdFswXS5jb3N0VHlwZSA9PSBSZXdhcmRUeXBlLkNhc2gpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2MuTWdyLlVzZXJEYXRhTWdyLkNhc2ggKz0gdGhpcy5EYXRhLmNvc3RbMF0uY29zdE51bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uZGVzID0gZGVzICsgXCIrXCIgKyByZXN1bHQucmV3YXJkTnVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0udGV4dCA9IFwi6K+l5YWs5Y+45bCa5pyq5Yib56uLLOWlluWKseaXoOazleiOt+W+lyzoirHotLnnjrDph5Hov5Tlm55cIjsvL1wiK1wiICsgcmVzdWx0LnJld2FyZE51bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLmRlcyA9IGRlcyArIFwiK1wiICsgcmVzdWx0LnJld2FyZE51bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnRleHQgPSBwYXJhbS50ZXh0ICsgXCJcXG5cIjsvL1wiK1wiICsgcmVzdWx0LnJld2FyZE51bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHQucmV3YXJkTnVtID4gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLmRlcyA9IGRlcyArIFwiK1wiICsgcmVzdWx0LnJld2FyZE51bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uZGVzID0gZGVzICsgcmVzdWx0LnJld2FyZE51bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0udGV4dCA9IHBhcmFtLnRleHQgKyBcIlxcblwiIDsvLysgcmVzdWx0LnJld2FyZE51bTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICAvL2NjLmxvZyhcIl9fX19fX19fX19fX19fX19fX19fX19fX19fX1wiICsgcGFyYW0uZm9yV2hhdCk7XHJcbiAgICAgICAgLy9jYy5sb2coXCIgPT09PeS6i+S7tuacgOe7iOaPj+i/sCA9PT09PT09PT09PT09IFwiICsgcGFyYW0udGV4dCk7XHJcbiAgICAgICAgY2MuZGlyZWN0b3IuR2xvYmFsRXZlbnQuZW1pdChjYy5NZ3IuRXZlbnQuT3BlbkV2ZW50UmVzdWx0ICwgcGFyYW0pO1xyXG5cclxuICAgICAgICB0aGlzLkNsb3NlUGFuZWwoKTtcclxuICAgIH0sXHJcblxyXG4gICAgQ2xpY2tDb25maXJtTjpmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBwYXJhbSA9IHt9O1xyXG4gICAgICAgIHBhcmFtLmZvcldoYXQgPSBcIkV2ZW50X05vXCI7XHJcbiAgICAgICAgcGFyYW0udGV4dCA9IFwiXCI7XHJcbiAgICAgICAgcGFyYW0uZGVzID0gXCJcIjtcclxuICAgICAgICBpZihjYy5NZ3IuVXNlckRhdGFNZ3IudXNlclN0YXRlID09IFVzZXJTdGF0ZS5PSylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuRGF0YS5jb3N0WzFdLmNvc3RUeXBlID09IFJld2FyZFR5cGUuTlVMTClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uZm9yV2hhdCA9IFwiRXZlbnRfWWVzXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZih0aGlzLkRhdGEuY29zdFsxXS5jb3N0VHlwZSA9PSBSZXdhcmRUeXBlLkNhc2gpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKGNjLk1nci5Vc2VyRGF0YU1nci5DYXNoID49IHRoaXMuRGF0YS5jb3N0WzFdLmNvc3ROdW0pXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uZm9yV2hhdCA9IFwiRXZlbnRfWWVzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuTWdyLlVzZXJEYXRhTWdyLkNhc2ggLT0gdGhpcy5EYXRhLmNvc3RbMV0uY29zdE51bTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS50ZXh0ID0gXCLpkrHkuI3lpJ8s5peg5rOV5Y+C5LiOXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uZm9yV2hhdCA9IFwiRXZlbnRfTm9cIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKHRoaXMuRGF0YS5jb3N0WzFdLmNvc3RUeXBlID09IFJld2FyZFR5cGUuSFApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKGNjLk1nci5Vc2VyRGF0YU1nci5IcFBvaW50ID49IHRoaXMuRGF0YS5jb3N0WzFdLmNvc3ROdW0pXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uZm9yV2hhdCA9IFwiRXZlbnRfWWVzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuTWdyLlVzZXJEYXRhTWdyLkhwUG9pbnQgLT0gdGhpcy5EYXRhLmNvc3RbMV0uY29zdE51bTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS50ZXh0ID0gXCLkvaDnmoTlgaXlurfnirbmgIHlt7Lml6Dms5XmlK/mjIHkvaDov5vlhaXmnKzmrKHmtLvliqhcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5mb3JXaGF0ID0gXCJFdmVudF9Ob1wiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZih0aGlzLkRhdGEuY29zdFsxXS5jb3N0VHlwZSA9PSBSZXdhcmRUeXBlLlJlcHV0YXRpb24pXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKGNjLk1nci5Vc2VyRGF0YU1nci5SZXB1dGF0aW9uID49IHRoaXMuRGF0YS5jb3N0WzFdLmNvc3ROdW0pXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uZm9yV2hhdCA9IFwiRXZlbnRfWWVzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuTWdyLlVzZXJEYXRhTWdyLlJlcHV0YXRpb24gLT0gdGhpcy5EYXRhLmNvc3RbMV0uY29zdE51bTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS50ZXh0ID0gXCLkvaDnmoTlkI3lo7Dlt7Lml6Dms5XmlK/mjIHkvaDov5vlhaXmnKzmrKHmtLvliqhcIjtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5mb3JXaGF0ID0gXCJFdmVudF9Ob1wiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHBhcmFtLnRleHQgPSBcIuWwmuWcqOayu+eWl+i/h+eoi+S4rSzlgZzmraLkuIDliIfmtLvliqhcIjtcclxuICAgICAgICAgICAgcGFyYW0uZm9yV2hhdCA9IFwiRXZlbnRfTm9cIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHBhcmFtLmZvcldoYXQgIT0gXCJFdmVudF9Ob1wiKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcGFyYW0uZm9yV2hhdCA9IFwiRXZlbnRfWWVzXCI7XHJcbiAgICAgICAgICAgIHZhciBzZWVkID0gTWF0aC5yYW5kb20oKTtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmKHNlZWQgPiAwLjUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuRGF0YS5OUmVzdWx0c1sxXTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnRleHQgPSBjYy5NZ3IuZ2xvYmFsLmdldFRyYW5zbGF0aW9uKFwiZXZlbnRfXCIrcmVzdWx0LmRlc0lkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuRGF0YS5OUmVzdWx0c1swXTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnRleHQgPSBjYy5NZ3IuZ2xvYmFsLmdldFRyYW5zbGF0aW9uKFwiZXZlbnRfXCIrcmVzdWx0LmRlc0lkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYocmVzdWx0ICE9IG51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtLlBkYXRhID0gY2MuTWdyLlVzZXJEYXRhTWdyLkdldE9yQ29zdERhdGFCeVJld2FyZFR5cGUocmVzdWx0LnJld2FyZFR5cGUsIHJlc3VsdC5yZXdhcmROdW0sIHJlc3VsdC5yZXdhcmRJZCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVzID0gdGhpcy5HZXRFdmVudFJld2FyZChyZXN1bHQucmV3YXJkVHlwZSwgcmVzdWx0LnJld2FyZElkKTtcclxuICAgICAgICAgICAgICAgIGlmKGRlcyAhPSBcIlwiKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5yZXdhcmROdW0gPiAwICYmIHJlc3VsdC5yZXdhcmRUeXBlID09IFJld2FyZFR5cGUuR29vZHMgKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocGFyYW0uUGRhdGEuSWQgPT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLmRlcyA9IGRlcyArIFwiK1wiICsgcmVzdWx0LnJld2FyZE51bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnRleHQgPSBcIuS7k+W6k+W3sua7oe+8jOaXoOazleiOt+W+l1wiOy8vXCIrXCIgKyByZXN1bHQucmV3YXJkTnVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uZGVzID0gZGVzICsgXCIrXCIgKyByZXN1bHQucmV3YXJkTnVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0udGV4dCA9IHBhcmFtLnRleHQgKyBcIlxcblwiOy8vXCIrXCIgKyByZXN1bHQucmV3YXJkTnVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihyZXN1bHQucmV3YXJkTnVtID4gMCAmJiAocmVzdWx0LnJld2FyZFR5cGUgPT0gUmV3YXJkVHlwZS5TdG9jayB8fCByZXN1bHQucmV3YXJkVHlwZSA9PSBSZXdhcmRUeXBlLlN0b2NrUHJpY2UpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocGFyYW0uUGRhdGEuY29tcGFueUlkID09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5EYXRhLmNvc3RbMF0uY29zdFR5cGUgPT0gUmV3YXJkVHlwZS5DYXNoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNjLk1nci5Vc2VyRGF0YU1nci5DYXNoICs9IHRoaXMuRGF0YS5jb3N0WzBdLmNvc3ROdW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLmRlcyA9IGRlcyArIFwiK1wiICsgcmVzdWx0LnJld2FyZE51bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnRleHQgPSBcIuivpeWFrOWPuOWwmuacquWIm+eriyzlpZblirHml6Dms5Xojrflvpcs6Iqx6LS5546w6YeR6L+U5ZueXCI7Ly9cIitcIiArIHJlc3VsdC5yZXdhcmROdW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5kZXMgPSBkZXMgKyBcIitcIiArIHJlc3VsdC5yZXdhcmROdW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS50ZXh0ID0gcGFyYW0udGV4dCArIFwiXFxuXCI7Ly9cIitcIiArIHJlc3VsdC5yZXdhcmROdW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0LnJld2FyZE51bSA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5kZXMgPSBkZXMgKyBcIitcIiArIHJlc3VsdC5yZXdhcmROdW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLmRlcyA9IGRlcyArIHJlc3VsdC5yZXdhcmROdW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnRleHQgPSBwYXJhbS50ZXh0ICsgXCJcXG5cIjsvLysgcmVzdWx0LnJld2FyZE51bTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY2MubG9nKFwi5LqL5Lu25pyA57uI5o+P6L+wID09PT09PT09PT09PT0gXCIgKyBwYXJhbS50ZXh0KTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5HbG9iYWxFdmVudC5lbWl0KGNjLk1nci5FdmVudC5PcGVuRXZlbnRSZXN1bHQgLCBwYXJhbSk7XHJcbiAgICAgICAgdGhpcy5DbG9zZVBhbmVsKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIEdldEV2ZW50UmV3YXJkOmZ1bmN0aW9uKHJld2FyZFR5cGUsIHJld2FyZElkKXtcclxuICAgICAgICB2YXIgZGVzID0gXCJcIjtcclxuICAgICAgICBzd2l0Y2ggKHJld2FyZFR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBSZXdhcmRUeXBlLk5VTEw6XHJcbiAgICAgICAgICAgICAgICBkZXMgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmV3YXJkVHlwZS5DYXNoOlxyXG4gICAgICAgICAgICAgICAgZGVzID0gXCLnjrDph5FcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFJld2FyZFR5cGUuQ2FyOlxyXG4gICAgICAgICAgICAgICAgZGVzID0gXCLmsb3ovaZcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFJld2FyZFR5cGUuSG91c2U6XHJcbiAgICAgICAgICAgICAgICBkZXMgPSBcIuaIv+WtkFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmV3YXJkVHlwZS5IUDpcclxuICAgICAgICAgICAgICAgIGRlcyA9IFwi5YGl5bq35YC8XCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZXdhcmRUeXBlLkdvb2RzOlxyXG4gICAgICAgICAgICAgICAgZGVzID0gXCLllYblk4FcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFJld2FyZFR5cGUuUmVwdXRhdGlvbjpcclxuICAgICAgICAgICAgICAgIGRlcyA9IFwi5ZCN5aOwXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZXdhcmRUeXBlLlN0b2NrOlxyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBhbnlOYW1lID0gY2MuTWdyLmdsb2JhbC5nZXRUcmFuc2xhdGlvbihcImNvbXBhbnlfXCIgKyByZXdhcmRJZCk7XHJcbiAgICAgICAgICAgICAgICBkZXMgPSBjb21wYW55TmFtZSArIFwi6IKh56WoXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBSZXdhcmRUeXBlLlN0b2NrUHJpY2U6XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcGFueU5hbWUgPSBjYy5NZ3IuZ2xvYmFsLmdldFRyYW5zbGF0aW9uKFwiY29tcGFueV9cIiArIHJld2FyZElkKTtcclxuICAgICAgICAgICAgICAgIGRlcyA9IGNvbXBhbnlOYW1lICsgXCLogqHnpajku7fmoLxcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGVzO1xyXG4gICAgfSxcclxuXHJcbiAgICBDbG9zZVBhbmVsOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY2MuTWdyLkF1ZGlvTWdyLnBsYXlTRlgoXCJjbGlja1wiKTtcclxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9LFxyXG59KTtcclxubW9kdWxlLmV4cG9ydHMgPSBFdmVudFBhbmVsO1xyXG4iXX0=