
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/UI/WatchAdsPanel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4b05cODMcNOPb1EdqseG9qv', 'WatchAdsPanel');
// Scripts/UI/WatchAdsPanel.js

"use strict";

var TempBonus = require("TempBonus");
var AdsParam = require("AdsParam");
var MateUnLockType = require("MateUnLockType");
var WatchAdsPanel = cc.Class({
  "extends": cc.Component,
  properties: {
    Atlas: cc.SpriteAtlas,
    LoveGod: cc.Sprite,
    BetGod: cc.Sprite,
    MammomGod: cc.Sprite,
    StockGod: cc.Sprite,
    BtnLbl: cc.Sprite,
    BtnIconSp: cc.Sprite,
    BtnBgSp: cc.Sprite,
    forWhat: {
      "default": TempBonus.NULL,
      type: TempBonus
    },
    //是为了干嘛用的

    CloseAni: cc.Animation
  },
  ShowPanel: function ShowPanel(data) {
    this.LoveGod.node.active = false;
    this.BetGod.node.active = false;
    this.MammomGod.node.active = false;
    this.StockGod.node.active = false;
    // this.CloseAni.play("ShowLater");

    if (data.Sp == "aishen") {
      this.forWhat = TempBonus.LoveBonus;
      this.LoveGod.node.active = true;
      this.ShowBtnActive(cc.Mgr.global.hasActiveAiShen);
    }
    if (data.Sp == "dushen") {
      this.forWhat = TempBonus.BetBonus;
      this.BetGod.node.active = true;
      this.ShowBtnActive(cc.Mgr.global.hasActiveDuShen);
    }
    if (data.Sp == "caishen") {
      this.forWhat = TempBonus.AssetBonus;
      this.MammomGod.node.active = true;
      this.ShowBtnActive(cc.Mgr.global.hasActiveCaiShen);
    }
    if (data.Sp == "gushen") {
      this.forWhat = TempBonus.StockBonus;
      this.StockGod.node.active = true;
      this.ShowBtnActive(cc.Mgr.global.hasActiveGuShen);
    }
  },
  ShowBtnActive: function ShowBtnActive(active) {
    if (active) {
      this.BtnLbl.spriteFrame = this.Atlas.getSpriteFrame("active_txt_y");
      this.BtnLbl.node.setPosition(cc.v2(0, 2));
      this.BtnIconSp.node.active = false;
      this.BtnBgSp.spriteFrame = this.Atlas.getSpriteFrame("btn_gray");
    } else {
      this.BtnLbl.spriteFrame = this.Atlas.getSpriteFrame("video_active_txt");
      this.BtnLbl.node.setPosition(cc.v2(36, 2));
      this.BtnIconSp.node.active = true;
      this.BtnBgSp.spriteFrame = this.Atlas.getSpriteFrame("blueBtnBg");
    }
  },
  showRewardVideo: function showRewardVideo() {
    this.js2android('show_reward_video', '1');
  },
  ///激励视频播放完成回调方法 continue_game
  /// Native.android2js("continue_game", ()=>{
  ///     //激励视频播放完成，原生端回调
  /// });
  js2android: function js2android(name, data) {
    console.log("name:" + name + "-data:" + data);
    if (window.injectedObject && window.injectedObject.setJsContent) {
      window.injectedObject.setJsContent(name, data);
    }
  },
  ClickBtn: function ClickBtn() {
    this.showRewardVideo();
    //cc.Mgr.global.TempAdsBonus = this.forWhat;
    if (this.forWhat == TempBonus.LoveBonus) {
      if (cc.Mgr.global.hasActiveAiShen) return;
      var self = this;
      cc.Mgr.AdsMgr.ShowVideoAds(AdsParam.PointG, function (out) {
        if (out == 0) {
          cc.Mgr.UserDataMgr.UnLockOneMate(MateUnLockType.ToDate, cc.Mgr.UserDataMgr.Sex);
          cc.Mgr.global.TempAdsBonus = TempBonus.NULL;
          cc.Mgr.global.hasActiveAiShen = true;
          self.node.active = false;
        }
      });
    } else if (this.forWhat == TempBonus.BetBonus) {
      if (cc.Mgr.global.hasActiveDuShen) return;
      var self = this;
      cc.Mgr.AdsMgr.ShowVideoAds(AdsParam.PointH, function (out) {
        if (out == 0) {
          cc.Mgr.global.TempAdsBetBonus = TempBonus.BetBonus;
          cc.Mgr.global.hasActiveDuShen = true;
          self.node.active = false;
        }
      });
    } else if (this.forWhat == TempBonus.StockBonus) {
      if (cc.Mgr.global.hasActiveGuShen) return;
      var self = this;
      cc.Mgr.AdsMgr.ShowVideoAds(AdsParam.PointI, function (out) {
        if (out == 0) {
          cc.Mgr.global.TempAdsStockBonus = TempBonus.StockBonus;
          cc.Mgr.global.hasActiveGuShen = true;
          self.node.active = false;
        }
      });
    } else if (this.forWhat == TempBonus.AssetBonus) {
      if (cc.Mgr.global.hasActiveCaiShen) return;
      var self = this;
      cc.Mgr.AdsMgr.ShowVideoAds(AdsParam.PointJ, function (out) {
        if (out == 0) {
          cc.Mgr.global.TempAdsAssetBonus = TempBonus.AssetBonus;
          cc.Mgr.global.hasActiveCaiShen = true;
          self.node.active = false;
        }
      });
    }
  },
  ClosePanel: function ClosePanel() {
    this.node.active = false;
  }
});
module.exports = WatchAdsPanel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcVUlcXFdhdGNoQWRzUGFuZWwuanMiXSwibmFtZXMiOlsiVGVtcEJvbnVzIiwicmVxdWlyZSIsIkFkc1BhcmFtIiwiTWF0ZVVuTG9ja1R5cGUiLCJXYXRjaEFkc1BhbmVsIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJBdGxhcyIsIlNwcml0ZUF0bGFzIiwiTG92ZUdvZCIsIlNwcml0ZSIsIkJldEdvZCIsIk1hbW1vbUdvZCIsIlN0b2NrR29kIiwiQnRuTGJsIiwiQnRuSWNvblNwIiwiQnRuQmdTcCIsImZvcldoYXQiLCJOVUxMIiwidHlwZSIsIkNsb3NlQW5pIiwiQW5pbWF0aW9uIiwiU2hvd1BhbmVsIiwiZGF0YSIsIm5vZGUiLCJhY3RpdmUiLCJTcCIsIkxvdmVCb251cyIsIlNob3dCdG5BY3RpdmUiLCJNZ3IiLCJnbG9iYWwiLCJoYXNBY3RpdmVBaVNoZW4iLCJCZXRCb251cyIsImhhc0FjdGl2ZUR1U2hlbiIsIkFzc2V0Qm9udXMiLCJoYXNBY3RpdmVDYWlTaGVuIiwiU3RvY2tCb251cyIsImhhc0FjdGl2ZUd1U2hlbiIsInNwcml0ZUZyYW1lIiwiZ2V0U3ByaXRlRnJhbWUiLCJzZXRQb3NpdGlvbiIsInYyIiwic2hvd1Jld2FyZFZpZGVvIiwianMyYW5kcm9pZCIsIm5hbWUiLCJjb25zb2xlIiwibG9nIiwid2luZG93IiwiaW5qZWN0ZWRPYmplY3QiLCJzZXRKc0NvbnRlbnQiLCJDbGlja0J0biIsInNlbGYiLCJBZHNNZ3IiLCJTaG93VmlkZW9BZHMiLCJQb2ludEciLCJvdXQiLCJVc2VyRGF0YU1nciIsIlVuTG9ja09uZU1hdGUiLCJUb0RhdGUiLCJTZXgiLCJUZW1wQWRzQm9udXMiLCJQb2ludEgiLCJUZW1wQWRzQmV0Qm9udXMiLCJQb2ludEkiLCJUZW1wQWRzU3RvY2tCb251cyIsIlBvaW50SiIsIlRlbXBBZHNBc3NldEJvbnVzIiwiQ2xvc2VQYW5lbCIsIm1vZHVsZSIsImV4cG9ydHMi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Q0FBQ1IsT0FBTyxJQUFJbkIsU0FBUyxDQUFDb0MsVUFBVSxFQUM1QztNQUNPLElBQUcvQixFQUFFLENBQUMwQixHQUFHLENBQUNDLE1BQU0sQ0FBQ0ssZ0JBQWdCLEVBQzdCO01BRUosSUFBSWdCLElBQUksR0FBRyxJQUFJO01BQ2ZoRCxFQUFFLENBQUMwQixHQUFHLENBQUN1QixNQUFNLENBQUNDLFlBQVksQ0FBQ3JELFFBQVEsQ0FBQ2lFLE1BQU0sRUFBRSxVQUFTVixHQUFHLEVBQUM7UUFDckQsSUFBR0EsR0FBRyxJQUFJLENBQUMsRUFDWDtVQUNJcEQsRUFBRSxDQUFDMEIsR0FBRyxDQUFDQyxNQUFNLENBQUNvQyxpQkFBaUIsR0FBR3BFLFNBQVMsQ0FBQ29DLFVBQVU7VUFDdEQvQixFQUFFLENBQUMwQixHQUFHLENBQUNDLE1BQU0sQ0FBQ0ssZ0JBQWdCLEdBQUcsSUFBSTtVQUNyQ2dCLElBQUksQ0FBQzNCLElBQUksQ0FBQ0MsTUFBTSxHQUFHLEtBQUs7UUFDNUI7TUFDSixDQUFDLENBQUM7SUFDVDtFQUNELENBQUM7RUFFRDBDLFVBQVUsRUFBQyxTQUFBQSxXQUFBLEVBQ1g7SUFDSSxJQUFJLENBQUMzQyxJQUFJLENBQUNDLE1BQU0sR0FBRyxLQUFLO0VBQzVCO0FBQ0osQ0FBQyxDQUFDO0FBQ0YyQyxNQUFNLENBQUNDLE9BQU8sR0FBR25FLGFBQWEiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBUZW1wQm9udXMgPSByZXF1aXJlKFwiVGVtcEJvbnVzXCIpO1xyXG52YXIgQWRzUGFyYW0gPSByZXF1aXJlKFwiQWRzUGFyYW1cIik7XHJcbnZhciBNYXRlVW5Mb2NrVHlwZSA9IHJlcXVpcmUoXCJNYXRlVW5Mb2NrVHlwZVwiKTtcclxudmFyIFdhdGNoQWRzUGFuZWwgPSBjYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcblxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIEF0bGFzOmNjLlNwcml0ZUF0bGFzLFxyXG4gICAgICAgIExvdmVHb2Q6Y2MuU3ByaXRlLFxyXG4gICAgICAgIEJldEdvZDpjYy5TcHJpdGUsXHJcbiAgICAgICAgTWFtbW9tR29kOmNjLlNwcml0ZSxcclxuICAgICAgICBTdG9ja0dvZDpjYy5TcHJpdGUsXHJcblxyXG4gICAgICAgIEJ0bkxibDpjYy5TcHJpdGUsXHJcbiAgICAgICAgQnRuSWNvblNwOmNjLlNwcml0ZSxcclxuICAgICAgICBCdG5CZ1NwOmNjLlNwcml0ZSxcclxuXHJcbiAgICAgICAgZm9yV2hhdDp7XHJcbiAgICAgICAgXHRkZWZhdWx0OlRlbXBCb251cy5OVUxMLFxyXG4gICAgICAgIFx0dHlwZTpUZW1wQm9udXMsXHJcbiAgICAgICAgfSwvL+aYr+S4uuS6huW5suWYm+eUqOeahFxyXG5cclxuICAgICAgICBDbG9zZUFuaTpjYy5BbmltYXRpb24sXHJcbiAgICB9LFxyXG5cclxuICAgIFNob3dQYW5lbDpmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB0aGlzLkxvdmVHb2Qubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLkJldEdvZC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuTWFtbW9tR29kLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5TdG9ja0dvZC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vIHRoaXMuQ2xvc2VBbmkucGxheShcIlNob3dMYXRlclwiKTtcclxuXHJcbiAgICAgICAgaWYoZGF0YS5TcCA9PSBcImFpc2hlblwiKVxyXG4gICAgICAgIHtcclxuICAgICAgICBcdHRoaXMuZm9yV2hhdCA9IFRlbXBCb251cy5Mb3ZlQm9udXM7XHJcbiAgICAgICAgICAgIHRoaXMuTG92ZUdvZC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuU2hvd0J0bkFjdGl2ZShjYy5NZ3IuZ2xvYmFsLmhhc0FjdGl2ZUFpU2hlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGRhdGEuU3AgPT0gXCJkdXNoZW5cIilcclxuICAgICAgICB7XHJcbiAgICAgICAgXHR0aGlzLmZvcldoYXQgPSBUZW1wQm9udXMuQmV0Qm9udXM7XHJcbiAgICAgICAgICAgIHRoaXMuQmV0R29kLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5TaG93QnRuQWN0aXZlKGNjLk1nci5nbG9iYWwuaGFzQWN0aXZlRHVTaGVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZGF0YS5TcCA9PSBcImNhaXNoZW5cIilcclxuICAgICAgICB7XHJcbiAgICAgICAgXHR0aGlzLmZvcldoYXQgPSBUZW1wQm9udXMuQXNzZXRCb251cztcclxuICAgICAgICAgICAgdGhpcy5NYW1tb21Hb2Qubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLlNob3dCdG5BY3RpdmUoY2MuTWdyLmdsb2JhbC5oYXNBY3RpdmVDYWlTaGVuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZGF0YS5TcCA9PSBcImd1c2hlblwiKVxyXG4gICAgICAgIHtcclxuICAgICAgICBcdHRoaXMuZm9yV2hhdCA9IFRlbXBCb251cy5TdG9ja0JvbnVzO1xyXG4gICAgICAgICAgICB0aGlzLlN0b2NrR29kLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5TaG93QnRuQWN0aXZlKGNjLk1nci5nbG9iYWwuaGFzQWN0aXZlR3VTaGVuKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIFNob3dCdG5BY3RpdmU6ZnVuY3Rpb24oYWN0aXZlKXtcclxuICAgICAgICBpZihhY3RpdmUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLkJ0bkxibC5zcHJpdGVGcmFtZSA9IHRoaXMuQXRsYXMuZ2V0U3ByaXRlRnJhbWUoXCJhY3RpdmVfdHh0X3lcIik7XHJcbiAgICAgICAgICAgIHRoaXMuQnRuTGJsLm5vZGUuc2V0UG9zaXRpb24oY2MudjIoMCwyKSk7XHJcbiAgICAgICAgICAgIHRoaXMuQnRuSWNvblNwLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuQnRuQmdTcC5zcHJpdGVGcmFtZSA9IHRoaXMuQXRsYXMuZ2V0U3ByaXRlRnJhbWUoXCJidG5fZ3JheVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5CdG5MYmwuc3ByaXRlRnJhbWUgPSB0aGlzLkF0bGFzLmdldFNwcml0ZUZyYW1lKFwidmlkZW9fYWN0aXZlX3R4dFwiKTtcclxuICAgICAgICAgICAgdGhpcy5CdG5MYmwubm9kZS5zZXRQb3NpdGlvbihjYy52MigzNiwyKSk7XHJcbiAgICAgICAgICAgIHRoaXMuQnRuSWNvblNwLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5CdG5CZ1NwLnNwcml0ZUZyYW1lID0gdGhpcy5BdGxhcy5nZXRTcHJpdGVGcmFtZShcImJsdWVCdG5CZ1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHNob3dSZXdhcmRWaWRlbygpIHtcclxuICAgICAgICB0aGlzLmpzMmFuZHJvaWQoJ3Nob3dfcmV3YXJkX3ZpZGVvJywgJzEnKVxyXG4gICAgfSxcclxuXHJcbiAgICAvLy/mv4DlirHop4bpopHmkq3mlL7lrozmiJDlm57osIPmlrnms5UgY29udGludWVfZ2FtZVxyXG4gICAgLy8vIE5hdGl2ZS5hbmRyb2lkMmpzKFwiY29udGludWVfZ2FtZVwiLCAoKT0+e1xyXG4gICAgLy8vICAgICAvL+a/gOWKseinhumikeaSreaUvuWujOaIkO+8jOWOn+eUn+err+Wbnuiwg1xyXG4gICAgLy8vIH0pO1xyXG4gICAganMyYW5kcm9pZChuYW1lLCBkYXRhKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhgbmFtZToke25hbWV9LWRhdGE6JHtkYXRhfWApO1xyXG4gICAgICAgIGlmKHdpbmRvdy5pbmplY3RlZE9iamVjdCAmJiB3aW5kb3cuaW5qZWN0ZWRPYmplY3Quc2V0SnNDb250ZW50KXtcclxuICAgICAgICAgICAgd2luZG93LmluamVjdGVkT2JqZWN0LnNldEpzQ29udGVudChuYW1lLCBkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIENsaWNrQnRuOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5zaG93UmV3YXJkVmlkZW8oKTtcclxuICAgIFx0Ly9jYy5NZ3IuZ2xvYmFsLlRlbXBBZHNCb251cyA9IHRoaXMuZm9yV2hhdDtcclxuICAgIFx0aWYodGhpcy5mb3JXaGF0ID09IFRlbXBCb251cy5Mb3ZlQm9udXMpXHJcbiAgICBcdHtcclxuICAgICAgICAgICAgaWYoY2MuTWdyLmdsb2JhbC5oYXNBY3RpdmVBaVNoZW4pXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNjLk1nci5BZHNNZ3IuU2hvd1ZpZGVvQWRzKEFkc1BhcmFtLlBvaW50RywgZnVuY3Rpb24ob3V0KXtcclxuICAgICAgICAgICAgICAgIGlmKG91dCA9PSAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLk1nci5Vc2VyRGF0YU1nci5VbkxvY2tPbmVNYXRlKE1hdGVVbkxvY2tUeXBlLlRvRGF0ZSwgY2MuTWdyLlVzZXJEYXRhTWdyLlNleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuTWdyLmdsb2JhbC5UZW1wQWRzQm9udXMgPSBUZW1wQm9udXMuTlVMTDtcclxuICAgICAgICAgICAgICAgICAgICBjYy5NZ3IuZ2xvYmFsLmhhc0FjdGl2ZUFpU2hlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTsgXHJcbiAgICBcdH1cclxuICAgIFx0ZWxzZSBpZih0aGlzLmZvcldoYXQgPT0gVGVtcEJvbnVzLkJldEJvbnVzKVxyXG4gICAgXHR7XHJcbiAgICAgICAgICAgIGlmKGNjLk1nci5nbG9iYWwuaGFzQWN0aXZlRHVTaGVuKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNjLk1nci5BZHNNZ3IuU2hvd1ZpZGVvQWRzKEFkc1BhcmFtLlBvaW50SCwgZnVuY3Rpb24ob3V0KXtcclxuICAgICAgICAgICAgICAgIGlmKG91dCA9PSAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLk1nci5nbG9iYWwuVGVtcEFkc0JldEJvbnVzID0gVGVtcEJvbnVzLkJldEJvbnVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLk1nci5nbG9iYWwuaGFzQWN0aXZlRHVTaGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgXHR9XHJcbiAgICBcdGVsc2UgaWYodGhpcy5mb3JXaGF0ID09IFRlbXBCb251cy5TdG9ja0JvbnVzKVxyXG4gICAgXHR7XHJcbiAgICAgICAgICAgIGlmKGNjLk1nci5nbG9iYWwuaGFzQWN0aXZlR3VTaGVuKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNjLk1nci5BZHNNZ3IuU2hvd1ZpZGVvQWRzKEFkc1BhcmFtLlBvaW50SSwgZnVuY3Rpb24ob3V0KXtcclxuICAgICAgICAgICAgICAgIGlmKG91dCA9PSAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLk1nci5nbG9iYWwuVGVtcEFkc1N0b2NrQm9udXMgPSBUZW1wQm9udXMuU3RvY2tCb251cztcclxuICAgICAgICAgICAgICAgICAgICBjYy5NZ3IuZ2xvYmFsLmhhc0FjdGl2ZUd1U2hlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIFx0fVxyXG4gICAgXHRlbHNlIGlmKHRoaXMuZm9yV2hhdCA9PSBUZW1wQm9udXMuQXNzZXRCb251cylcclxuICAgIFx0e1xyXG4gICAgICAgICAgICBpZihjYy5NZ3IuZ2xvYmFsLmhhc0FjdGl2ZUNhaVNoZW4pXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNjLk1nci5BZHNNZ3IuU2hvd1ZpZGVvQWRzKEFkc1BhcmFtLlBvaW50SiwgZnVuY3Rpb24ob3V0KXtcclxuICAgICAgICAgICAgICAgIGlmKG91dCA9PSAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLk1nci5nbG9iYWwuVGVtcEFkc0Fzc2V0Qm9udXMgPSBUZW1wQm9udXMuQXNzZXRCb251cztcclxuICAgICAgICAgICAgICAgICAgICBjYy5NZ3IuZ2xvYmFsLmhhc0FjdGl2ZUNhaVNoZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICBcdH1cclxuICAgIH0sXHJcblxyXG4gICAgQ2xvc2VQYW5lbDpmdW5jdGlvbigpXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfSxcclxufSk7XHJcbm1vZHVsZS5leHBvcnRzID0gV2F0Y2hBZHNQYW5lbDtcclxuIl19