
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/UI/SkillPanel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9414ep1VQNEB67ZE0tH76tF', 'SkillPanel');
// Scripts/UI/SkillPanel.js

"use strict";

var AdsParam = require("AdsParam");
var CommonTipPanel = require("CommonTipPanel");
var SkillPanel = cc.Class({
  "extends": cc.Component,
  properties: {
    skillParent_1: cc.Node,
    skillParent_2: cc.Node,
    skillParent_3: cc.Node,
    skillParent_4: cc.Node,
    itemPre: cc.Prefab,
    SkillPointLbl: cc.Label,
    CommonTip: CommonTipPanel
  },
  InitPanel: function InitPanel() {
    var list_1 = cc.Mgr.UserDataMgr.getSkillListById(1);
    var list_2 = cc.Mgr.UserDataMgr.getSkillListById(2);
    var list_3 = cc.Mgr.UserDataMgr.getSkillListById(3);
    var list_4 = cc.Mgr.UserDataMgr.getSkillListById(4);
    for (var i = list_1.length - 1; i >= 0; i--) {
      var data = list_1[i];
      var obj = cc.instantiate(this.itemPre);
      obj.parent = this.skillParent_1;
      obj.active = true;
      obj.getComponent("SkillItem").ShowData(data, list_1.length);
    }
    for (var i = list_2.length - 1; i >= 0; i--) {
      var data = list_2[i];
      var obj = cc.instantiate(this.itemPre);
      obj.parent = this.skillParent_2;
      obj.active = true;
      obj.getComponent("SkillItem").ShowData(data, list_2.length);
    }
    for (var i = list_3.length - 1; i >= 0; i--) {
      var data = list_3[i];
      var obj = cc.instantiate(this.itemPre);
      obj.parent = this.skillParent_3;
      obj.active = true;
      obj.getComponent("SkillItem").ShowData(data, list_3.length);
    }
    for (var i = list_4.length - 1; i >= 0; i--) {
      var data = list_4[i];
      var obj = cc.instantiate(this.itemPre);
      obj.parent = this.skillParent_4;
      obj.active = true;
      obj.getComponent("SkillItem").ShowData(data, list_4.length);
    }
  },
  RefreshPanel: function RefreshPanel() {
    this.SkillPointLbl.string = cc.Mgr.UserDataMgr.SkillBonusPoint;
    var children_1 = this.skillParent_1.children;
    var children_2 = this.skillParent_2.children;
    var children_3 = this.skillParent_3.children;
    var children_4 = this.skillParent_4.children;
    var list_1 = cc.Mgr.UserDataMgr.getSkillListById(1);
    var list_2 = cc.Mgr.UserDataMgr.getSkillListById(2);
    var list_3 = cc.Mgr.UserDataMgr.getSkillListById(3);
    var list_4 = cc.Mgr.UserDataMgr.getSkillListById(4);
    for (var i = children_1.length - 1; i >= 0; i--) {
      var sc = children_1[i].getComponent("SkillItem");
      if (sc != null) {
        if (list_1[list_1.length - i - 1] != null) {
          sc.ShowData(list_1[list_1.length - i - 1], list_1.length);
        }
      }
    }
    for (var i = children_2.length - 1; i >= 0; i--) {
      var sc = children_2[i].getComponent("SkillItem");
      if (sc != null) {
        if (list_2[list_2.length - i - 1] != null) {
          sc.ShowData(list_2[list_2.length - i - 1], list_2.length);
        }
      }
    }
    for (var i = children_3.length - 1; i >= 0; i--) {
      var sc = children_3[i].getComponent("SkillItem");
      if (sc != null) {
        if (list_3[list_3.length - i - 1] != null) {
          sc.ShowData(list_3[list_3.length - i - 1], list_3.length);
        }
      }
    }
    for (var i = children_4.length - 1; i >= 0; i--) {
      var sc = children_4[i].getComponent("SkillItem");
      if (sc != null) {
        if (list_4[list_4.length - i - 1] != null) {
          sc.ShowData(list_4[list_4.length - i - 1], list_4.length);
        }
      }
    }
  },
  ShowPanel: function ShowPanel() {
    var children = this.skillParent_1.children;
    this.SkillPointLbl.string = cc.Mgr.UserDataMgr.SkillBonusPoint;
    if (children.length == 0) {
      //cc.log("第一次初始化");
      this.InitPanel();
    } else {
      //cc.log("刷新============");
      this.RefreshPanel();
    }
  },
  ClosePanel: function ClosePanel() {
    cc.Mgr.AudioMgr.playSFX("click");
    cc.Mgr.UserDataMgr.SaveUserData();
    cc.Mgr.UserDataMgr.initData();
    this.node.active = false;
  },
  ShowAds: function ShowAds() {
    cc.Mgr.AudioMgr.playSFX("click");
    if (cc.Mgr.UserDataMgr.VideoAdsTimes >= 3) {
      this.CommonTip.node.active = true;
      var param = {};
      param.text = "今天的广告次数已经用完。明天再来";
      var testDate = new Date();
      cc.Mgr.UserDataMgr.VideoLastTime = testDate.toDateString();
      this.CommonTip.ShowPanel(param);
    } else {
      var self = this;
      cc.Mgr.AdsMgr.ShowVideoAds(AdsParam.PointA, function (out) {
        if (out == 0) {
          cc.Mgr.UserDataMgr.SkillBonusPoint += 150;
          cc.Mgr.UserDataMgr.VideoAdsTimes += 1;
          self.RefreshPanel();
          self.SkillPointLbl.string = cc.Mgr.UserDataMgr.SkillBonusPoint;
        } else {
          console.log("视频广告没有看完或者加载出错");
        }
      });
    }

    //this.CommonTip.node.active = true;
    //var param = {};
    //param.text = "目前广告还未开放，敬请期待";
    //this.CommonTip.ShowPanel(param);
  }
});

module.exports = SkillPanel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcVUlcXFNraWxsUGFuZWwuanMiXSwibmFtZXMiOlsiQWRzUGFyYW0iLCJyZXF1aXJlIiwiQ29tbW9uVGlwUGFuZWwiLCJTa2lsbFBhbmVsIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJza2lsbFBhcmVudF8xIiwiTm9kZSIsInNraWxsUGFyZW50XzIiLCJza2lsbFBhcmVudF8zIiwic2tpbGxQYXJlbnRfNCIsIml0ZW1QcmUiLCJQcmVmYWIiLCJTa2lsbFBvaW50TGJsIiwiTGFiZWwiLCJDb21tb25UaXAiLCJJbml0UGFuZWwiLCJsaXN0XzEiLCJNZ3IiLCJVc2VyRGF0YU1nciIsImdldFNraWxsTGlzdEJ5SWQiLCJsaXN0XzIiLCJsaXN0XzMiLCJsaXN0XzQiLCJpIiwibGVuZ3RoIiwiZGF0YSIsIm9iaiIsImluc3RhbnRpYXRlIiwicGFyZW50IiwiYWN0aXZlIiwiZ2V0Q29tcG9uZW50IiwiU2hvd0RhdGEiLCJSZWZyZXNoUGFuZWwiLCJzdHJpbmciLCJTa2lsbEJvbnVzUG9pbnQiLCJjaGlsZHJlbl8xIiwiY2hpbGRyZW4iLCJjaGlsZHJlbl8yIiwiY2hpbGRyZW5fMyIsImNoaWxkcmVuXzQiLCJzYyIsIlNob3dQYW5lbCIsIkNsb3NlUGFuZWwiLCJBdWRpb01nciIsInBsYXlTRlgiLCJTYXZlVXNlckRhdGEiLCJpbml0RGF0YSIsIm5vZGUiLCJTaG93QWRzIiwiVmlkZW9BZHNUaW1lcyIsInBhcmFtIiwidGV4dCIsInRlc3REYXRlIiwiRGF0ZSIsIlZpZGVvTGFzdFRpbWUiLCJ0b0RhdGVTdHJpbmciLCJzZWxmIiwiQWRzTWdyIiwiU2hvd1ZpZGVvQWRzIiwiUG9pbnRBIiwib3V0IiwiY29uc29sZSIsImxvZyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBQ2xDLElBQUlD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QUUsQ0FBQ2dCLEdBQUcsQ0FBQ0MsV0FBVyxDQUFDb0MsYUFBYSxHQUFHRixRQUFRLENBQUNHLFlBQVksRUFBRTtNQUMxRCxJQUFJLENBQUN6QyxTQUFTLENBQUMyQixTQUFTLENBQUNTLEtBQUssQ0FBQztJQUNuQyxDQUFDLE1BRUQ7TUFDSSxJQUFJTSxJQUFJLEdBQUcsSUFBSTtNQUNmdkQsRUFBRSxDQUFDZ0IsR0FBRyxDQUFDd0MsTUFBTSxDQUFDQyxZQUFZLENBQUM3RCxRQUFRLENBQUM4RCxNQUFNLEVBQUUsVUFBU0MsR0FBRyxFQUFDO1FBQ3JELElBQUdBLEdBQUcsSUFBSSxDQUFDLEVBQ1g7VUFDSTNELEVBQUUsQ0FBQ2dCLEdBQUcsQ0FBQ0MsV0FBVyxDQUFDZ0IsZUFBZSxJQUFJLEdBQUc7VUFDekNqQyxFQUFFLENBQUNnQixHQUFHLENBQUNDLFdBQVcsQ0FBQytCLGFBQWEsSUFBSSxDQUFDO1VBQ3JDTyxJQUFJLENBQUN4QixZQUFZLEVBQUU7VUFDbkJ3QixJQUFJLENBQUM1QyxhQUFhLENBQUNxQixNQUFNLEdBQUdoQyxFQUFFLENBQUNnQixHQUFHLENBQUNDLFdBQVcsQ0FBQ2dCLGVBQWU7UUFDbEUsQ0FBQyxNQUVEO1VBQ0kyQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQztRQUNqQztNQUNKLENBQUMsQ0FBQztJQUVOOztJQUdBO0lBQ0E7SUFDQTtJQUNBO0VBQ0o7QUFFSixDQUFDLENBQUM7O0FBQ0ZDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHaEUsVUFBVSIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEFkc1BhcmFtID0gcmVxdWlyZShcIkFkc1BhcmFtXCIpO1xyXG52YXIgQ29tbW9uVGlwUGFuZWwgPSByZXF1aXJlKFwiQ29tbW9uVGlwUGFuZWxcIik7XHJcbnZhciBTa2lsbFBhbmVsID0gY2MuQ2xhc3Moe1xyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBza2lsbFBhcmVudF8xOmNjLk5vZGUsXHJcbiAgICAgICAgc2tpbGxQYXJlbnRfMjpjYy5Ob2RlLFxyXG4gICAgICAgIHNraWxsUGFyZW50XzM6Y2MuTm9kZSxcclxuICAgICAgICBza2lsbFBhcmVudF80OmNjLk5vZGUsXHJcblxyXG4gICAgICAgIGl0ZW1QcmU6Y2MuUHJlZmFiLFxyXG5cclxuICAgICAgICBTa2lsbFBvaW50TGJsOmNjLkxhYmVsLFxyXG5cclxuICAgICAgICBDb21tb25UaXA6Q29tbW9uVGlwUGFuZWwsXHJcbiAgICB9LFxyXG5cclxuICAgIEluaXRQYW5lbDpmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBsaXN0XzEgPSBjYy5NZ3IuVXNlckRhdGFNZ3IuZ2V0U2tpbGxMaXN0QnlJZCgxKTtcclxuICAgICAgICB2YXIgbGlzdF8yID0gY2MuTWdyLlVzZXJEYXRhTWdyLmdldFNraWxsTGlzdEJ5SWQoMik7XHJcbiAgICAgICAgdmFyIGxpc3RfMyA9IGNjLk1nci5Vc2VyRGF0YU1nci5nZXRTa2lsbExpc3RCeUlkKDMpO1xyXG4gICAgICAgIHZhciBsaXN0XzQgPSBjYy5NZ3IuVXNlckRhdGFNZ3IuZ2V0U2tpbGxMaXN0QnlJZCg0KTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IGxpc3RfMS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IGxpc3RfMVtpXTtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IGNjLmluc3RhbnRpYXRlKHRoaXMuaXRlbVByZSk7XHJcbiAgICAgICAgICAgIG9iai5wYXJlbnQgPSB0aGlzLnNraWxsUGFyZW50XzE7XHJcbiAgICAgICAgICAgIG9iai5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBvYmouZ2V0Q29tcG9uZW50KFwiU2tpbGxJdGVtXCIpLlNob3dEYXRhKGRhdGEsIGxpc3RfMS5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IGxpc3RfMi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IGxpc3RfMltpXTtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IGNjLmluc3RhbnRpYXRlKHRoaXMuaXRlbVByZSk7XHJcbiAgICAgICAgICAgIG9iai5wYXJlbnQgPSB0aGlzLnNraWxsUGFyZW50XzI7XHJcbiAgICAgICAgICAgIG9iai5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBvYmouZ2V0Q29tcG9uZW50KFwiU2tpbGxJdGVtXCIpLlNob3dEYXRhKGRhdGEsIGxpc3RfMi5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IGxpc3RfMy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IGxpc3RfM1tpXTtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IGNjLmluc3RhbnRpYXRlKHRoaXMuaXRlbVByZSk7XHJcbiAgICAgICAgICAgIG9iai5wYXJlbnQgPSB0aGlzLnNraWxsUGFyZW50XzM7XHJcbiAgICAgICAgICAgIG9iai5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBvYmouZ2V0Q29tcG9uZW50KFwiU2tpbGxJdGVtXCIpLlNob3dEYXRhKGRhdGEsIGxpc3RfMy5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IGxpc3RfNC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IGxpc3RfNFtpXTtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IGNjLmluc3RhbnRpYXRlKHRoaXMuaXRlbVByZSk7XHJcbiAgICAgICAgICAgIG9iai5wYXJlbnQgPSB0aGlzLnNraWxsUGFyZW50XzQ7XHJcbiAgICAgICAgICAgIG9iai5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBvYmouZ2V0Q29tcG9uZW50KFwiU2tpbGxJdGVtXCIpLlNob3dEYXRhKGRhdGEsIGxpc3RfNC5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgUmVmcmVzaFBhbmVsOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5Ta2lsbFBvaW50TGJsLnN0cmluZyA9IGNjLk1nci5Vc2VyRGF0YU1nci5Ta2lsbEJvbnVzUG9pbnQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIGNoaWxkcmVuXzEgPSB0aGlzLnNraWxsUGFyZW50XzEuY2hpbGRyZW47XHJcbiAgICAgICAgdmFyIGNoaWxkcmVuXzIgPSB0aGlzLnNraWxsUGFyZW50XzIuY2hpbGRyZW47XHJcbiAgICAgICAgdmFyIGNoaWxkcmVuXzMgPSB0aGlzLnNraWxsUGFyZW50XzMuY2hpbGRyZW47XHJcbiAgICAgICAgdmFyIGNoaWxkcmVuXzQgPSB0aGlzLnNraWxsUGFyZW50XzQuY2hpbGRyZW47XHJcblxyXG4gICAgICAgIHZhciBsaXN0XzEgPSBjYy5NZ3IuVXNlckRhdGFNZ3IuZ2V0U2tpbGxMaXN0QnlJZCgxKTtcclxuICAgICAgICB2YXIgbGlzdF8yID0gY2MuTWdyLlVzZXJEYXRhTWdyLmdldFNraWxsTGlzdEJ5SWQoMik7XHJcbiAgICAgICAgdmFyIGxpc3RfMyA9IGNjLk1nci5Vc2VyRGF0YU1nci5nZXRTa2lsbExpc3RCeUlkKDMpO1xyXG4gICAgICAgIHZhciBsaXN0XzQgPSBjYy5NZ3IuVXNlckRhdGFNZ3IuZ2V0U2tpbGxMaXN0QnlJZCg0KTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuXzEubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgdmFyIHNjID0gY2hpbGRyZW5fMVtpXS5nZXRDb21wb25lbnQoXCJTa2lsbEl0ZW1cIik7XHJcbiAgICAgICAgICAgIGlmKHNjICE9IG51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKGxpc3RfMVtsaXN0XzEubGVuZ3RoIC0gaSAtIDFdICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2MuU2hvd0RhdGEobGlzdF8xW2xpc3RfMS5sZW5ndGggLSBpIC0gMV0sIGxpc3RfMS5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gY2hpbGRyZW5fMi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICB2YXIgc2MgPSBjaGlsZHJlbl8yW2ldLmdldENvbXBvbmVudChcIlNraWxsSXRlbVwiKTtcclxuICAgICAgICAgICAgaWYoc2MgIT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYobGlzdF8yW2xpc3RfMi5sZW5ndGggLSBpIC0gMV0gIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzYy5TaG93RGF0YShsaXN0XzJbbGlzdF8yLmxlbmd0aCAtIGkgLSAxXSwgbGlzdF8yLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbl8zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIHZhciBzYyA9IGNoaWxkcmVuXzNbaV0uZ2V0Q29tcG9uZW50KFwiU2tpbGxJdGVtXCIpO1xyXG4gICAgICAgICAgICBpZihzYyAhPSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZihsaXN0XzNbbGlzdF8zLmxlbmd0aCAtIGkgLSAxXSAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjLlNob3dEYXRhKGxpc3RfM1tsaXN0XzMubGVuZ3RoIC0gaSAtIDFdLCBsaXN0XzMubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuXzQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgdmFyIHNjID0gY2hpbGRyZW5fNFtpXS5nZXRDb21wb25lbnQoXCJTa2lsbEl0ZW1cIik7XHJcbiAgICAgICAgICAgIGlmKHNjICE9IG51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmKGxpc3RfNFtsaXN0XzQubGVuZ3RoIC0gaSAtIDFdICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2MuU2hvd0RhdGEobGlzdF80W2xpc3RfNC5sZW5ndGggLSBpIC0gMV0sIGxpc3RfNC5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcblxyXG4gICAgU2hvd1BhbmVsOmZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnNraWxsUGFyZW50XzEuY2hpbGRyZW47XHJcbiAgICAgICAgdGhpcy5Ta2lsbFBvaW50TGJsLnN0cmluZyA9IGNjLk1nci5Vc2VyRGF0YU1nci5Ta2lsbEJvbnVzUG9pbnQ7XHJcbiAgICAgICAgaWYoY2hpbGRyZW4ubGVuZ3RoID09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvL2NjLmxvZyhcIuesrOS4gOasoeWIneWni+WMllwiKTtcclxuICAgICAgICAgICAgdGhpcy5Jbml0UGFuZWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy9jYy5sb2coXCLliLfmlrA9PT09PT09PT09PT1cIik7XHJcbiAgICAgICAgICAgIHRoaXMuUmVmcmVzaFBhbmVsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBDbG9zZVBhbmVsOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY2MuTWdyLkF1ZGlvTWdyLnBsYXlTRlgoXCJjbGlja1wiKTtcclxuICAgICAgICBjYy5NZ3IuVXNlckRhdGFNZ3IuU2F2ZVVzZXJEYXRhKCk7XHJcbiAgICAgICAgY2MuTWdyLlVzZXJEYXRhTWdyLmluaXREYXRhKCk7XHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICBTaG93QWRzOmZ1bmN0aW9uKClcclxuICAgIHtcclxuICAgICAgICBjYy5NZ3IuQXVkaW9NZ3IucGxheVNGWChcImNsaWNrXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKGNjLk1nci5Vc2VyRGF0YU1nci5WaWRlb0Fkc1RpbWVzID49IDMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLkNvbW1vblRpcC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IHt9O1xyXG4gICAgICAgICAgICBwYXJhbS50ZXh0ID0gXCLku4rlpKnnmoTlub/lkYrmrKHmlbDlt7Lnu4/nlKjlrozjgILmmI7lpKnlho3mnaVcIjtcclxuICAgICAgICAgICAgdmFyIHRlc3REYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgY2MuTWdyLlVzZXJEYXRhTWdyLlZpZGVvTGFzdFRpbWUgPSB0ZXN0RGF0ZS50b0RhdGVTdHJpbmcoKTtcclxuICAgICAgICAgICAgdGhpcy5Db21tb25UaXAuU2hvd1BhbmVsKHBhcmFtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBjYy5NZ3IuQWRzTWdyLlNob3dWaWRlb0FkcyhBZHNQYXJhbS5Qb2ludEEsIGZ1bmN0aW9uKG91dCl7XHJcbiAgICAgICAgICAgICAgICBpZihvdXQgPT0gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjYy5NZ3IuVXNlckRhdGFNZ3IuU2tpbGxCb251c1BvaW50ICs9IDE1MDtcclxuICAgICAgICAgICAgICAgICAgICBjYy5NZ3IuVXNlckRhdGFNZ3IuVmlkZW9BZHNUaW1lcyArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuUmVmcmVzaFBhbmVsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5Ta2lsbFBvaW50TGJsLnN0cmluZyA9IGNjLk1nci5Vc2VyRGF0YU1nci5Ta2lsbEJvbnVzUG9pbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLop4bpopHlub/lkYrmsqHmnInnnIvlrozmiJbogIXliqDovb3lh7rplJlcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIC8vdGhpcy5Db21tb25UaXAubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIC8vdmFyIHBhcmFtID0ge307XHJcbiAgICAgICAgLy9wYXJhbS50ZXh0ID0gXCLnm67liY3lub/lkYrov5jmnKrlvIDmlL7vvIzmlazor7fmnJ/lvoVcIjtcclxuICAgICAgICAvL3RoaXMuQ29tbW9uVGlwLlNob3dQYW5lbChwYXJhbSk7XHJcbiAgICB9LFxyXG5cclxufSk7XHJcbm1vZHVsZS5leHBvcnRzID0gU2tpbGxQYW5lbDtcclxuIl19