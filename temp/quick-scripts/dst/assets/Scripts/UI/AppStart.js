
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/UI/AppStart.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fbda7nIgi9GUokSAkqpAOEo', 'AppStart');
// Scripts/UI/AppStart.js

"use strict";

//是否完成过管理工具的初始化
cc.director.initMgr = false;
function initMgr() {
  cc.Mgr = {};
  cc.Mgr.Parse = false;
  cc.Mgr.preLoadingScene = false;
  cc.Mgr.loadSound = false;
  cc.Mgr.initData = false;
  cc.Mgr.global = require("Global");
  cc.Mgr.Event = require("Event");
  cc.Mgr.ShareInfos = require("ShareInfos");
  cc.Mgr.ShareInfos.init();
  cc.Mgr.PlatformController = require("PlatformController");
  cc.Mgr.PlatformController.Init();
  cc.Mgr.AdsMgr = require("AdsMgr");
  cc.Mgr.AdsMgr.Init();

  //声音
  var AudioMgr = require("AudioMgr");
  cc.Mgr.AudioMgr = new AudioMgr();
  cc.Mgr.AudioMgr.init();
  cc.Mgr.AudioMgr.playBGM("bgm");
  var MapDataMgr = require("MapDataMgr");
  cc.Mgr.MapDataMgr = new MapDataMgr();
  cc.Mgr.MapDataMgr.initMaps(); //初始化解析数据表

  var UserDataMgr = require("UserDataMgr");
  cc.Mgr.UserDataMgr = new UserDataMgr();
}
var RankPanel = require("RankPanel");
var HistoryPanel = require("HistoryPanel");
var HonorPanel = require("HonorPanel");
var SkillPanel = require("SkillPanel");
var SkillUpPanel = require("SkillUpPanel");
var SettingPanel = require("SettingPanel");
var CommonTipPanel = require("CommonTipPanel");
cc.Class({
  "extends": cc.Component,
  properties: {
    StartAtlas: cc.SpriteAtlas,
    BtnsNode: cc.Node,
    InputNode: cc.Node,
    InputText: cc.EditBox,
    SexSp: cc.Sprite,
    LoadingNode: cc.Node,
    LoadingJuHua: cc.Node,
    //面板
    rankPanel: RankPanel,
    historyPanel: HistoryPanel,
    honorPanel: HonorPanel,
    skillPanel: SkillPanel,
    skillUpPanel: SkillUpPanel,
    settingPanel: SettingPanel,
    commonTipPanel: CommonTipPanel,
    NameLbl: cc.Label,
    wxSubContextView: cc.Node,
    SwanSubContextView: cc.Node,
    TitleSp: cc.Sprite
  },
  onLoad: function onLoad() {
    //目前我们先不保存任何数据  每次开始清理一次
    //cc.sys.localStorage.clear();
    cc.director.GlobalEvent.clear();
    this.InputNode.active = false;
    if (cc.director.initMgr == false) {
      cc.log("还没有初始化过");
      initMgr();
      //cc.Mgr.global.InitChangeData();
      cc.director.GlobalEvent.on(cc.Mgr.Event.ParseFinish, function () {
        cc.Mgr.UserDataMgr.initData();
        cc.Mgr.PlatformController.setUserCloudStorage(cc.Mgr.UserDataMgr.HistoryHighAssets);
        cc.director.initMgr = true;
      }, this);
    } else {
      //cc.log("之前有过初始化");
      cc.Mgr.global.InitChangeData();
      cc.Mgr.UserDataMgr.initData();
      cc.director.initMgr = true;
    }
  },
  start: function start() {
    // 更换logo
    this.syncPlatformLogo();

    //首先监听右上角的按钮
    cc.Mgr.PlatformController.ShareTopNav();
    cc.Mgr.PlatformController.ShowClubButton(true);
    cc.director.preloadScene("gamescene", function () {
      cc.Mgr.preLoadingScene = true;
    });
    this.NameLbl.string = cc.Mgr.PlatformController.nickName;
    this.LoadingJuHua.runAction(cc.repeatForever(cc.rotateBy(0.2, 45)));
    var action = cc.sequence(cc.callFunc(function () {}, this), cc.fadeIn(2.0), cc.callFunc(function () {}, this));
    this.BtnsNode.runAction(action);

    //注册事件监听
    cc.director.GlobalEvent.on(cc.Mgr.Event.AchieveTip, function (data) {
      //cc.log("提示打开完成成就提示");
      this.commonTipPanel.node.active = true;
      this.commonTipPanel.ShowPanel(data);
    }, this);
    cc.director.GlobalEvent.on(cc.Mgr.Event.OpenUpgradeSkill, function (data) {
      //cc.log("提示技能升级提示");
      this.skillUpPanel.node.active = true;
      this.skillUpPanel.ShowPanel(data);
    }, this);
    cc.Mgr.AdsMgr.ShowBannerAds();
  },
  onLoadSuccess: function onLoadSuccess() {},
  syncPlatformLogo: function syncPlatformLogo() {
    var _this = this;
    if (cc.sys.platform === cc.sys.BYTEDANCE_GAME) {
      cc.loader.loadRes('/atlas/logo' + cc.sys.BYTEDANCE_GAME, cc.SpriteFrame, function (err, spriteFrame) {
        if (err) {
          console.error('set sprite frame failed! err', '/atlas/logo' + cc.sys.BYTEDANCE_GAME, err);
          return;
        }
        _this.TitleSp.getComponent(cc.Sprite).spriteFrame = spriteFrame;
      });
    }
  },
  gotoGameScene: function gotoGameScene() {
    ///* 先注册名字
    if (!cc.Mgr.UserDataMgr.playerName) {
      this.InputNode.active = true;
      return;
    }
    console.log(cc.Mgr.Parse, cc.Mgr.preLoadingScene, cc.Mgr.initData);
    if (cc.Mgr.Parse && cc.Mgr.preLoadingScene && cc.Mgr.initData) {
      cc.Mgr.PlatformController.ShowClubButton(false);
      cc.Mgr.AudioMgr.playSFX("click");
      cc.director.loadScene("gamescene");
    }
  },
  ConfirmYourName: function ConfirmYourName() {
    cc.Mgr.UserDataMgr.playerName = cc.Mgr.PlatformController.nickName;
    this.InputNode.active = false;
    this.gotoGameScene();
    //if(this.InputText.string != "")
    //{
    //    cc.Mgr.AudioMgr.playSFX("click");
    ////cc.log("你选择的名字是 = "+ this.InputText.string);
    //    cc.Mgr.UserDataMgr.playerName = this.InputText.string;
    //    this.InputNode.active = false;
    //    this.gotoGameScene();
    //}
  },
  update: function update(dt) {
    if (cc.Mgr.Parse && cc.Mgr.preLoadingScene && cc.Mgr.initData) {
      this.LoadingNode.active = false;
    }
  },
  ConfrimSexMan: function ConfrimSexMan() {
    cc.Mgr.AudioMgr.playSFX("click");
    cc.Mgr.UserDataMgr.Sex = 1;
    this.SexSp.spriteFrame = this.StartAtlas.getSpriteFrame("manIcon");
  },
  ConfrimSexWoMan: function ConfrimSexWoMan() {
    cc.Mgr.AudioMgr.playSFX("click");
    cc.Mgr.UserDataMgr.Sex = 2;
    this.SexSp.spriteFrame = this.StartAtlas.getSpriteFrame("womanIcon");
  },
  OpenRank: function OpenRank() {
    cc.Mgr.AudioMgr.playSFX("click");
    if (!cc.Mgr.PlatformController.IsLoginSync()) {
      var param = {};
      param.text = "请先登陆手机百度";
      param.forWhat = "Login";
      this.commonTipPanel.node.active = true;
      this.commonTipPanel.ShowPanel(param);
      return;
    }
    cc.Mgr.PlatformController.showSubContentView();
    cc.Mgr.PlatformController.SendMessageToSubView("RankOpen");
    var isKuaiShou = false;
    if (typeof ks !== 'undefined') {
      //运行在快手平台
      isKuaiShou = true;
    }
    if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) this.wxSubContextView.active = true;else if (cc.sys.platform === cc.sys.BAIDU_GAME) this.SwanSubContextView.active = true;
    if (cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou || cc.sys.platform === cc.sys.BAIDU_GAME) this.rankPanel.node.active = true;
  },
  CloseRankView: function CloseRankView() {
    this.rankPanel.node.active = false;
    cc.Mgr.PlatformController.hideSubContentView();
    cc.Mgr.PlatformController.SendMessageToSubView("RankClose");
    this.wxSubContextView.active = false;
    this.SwanSubContextView.active = false;
  },
  OpenSkill: function OpenSkill() {
    cc.Mgr.AudioMgr.playSFX("click");
    this.skillPanel.node.active = true;
    this.skillPanel.ShowPanel();
  },
  OpenAchieve: function OpenAchieve() {
    cc.Mgr.AudioMgr.playSFX("click");
    this.honorPanel.node.active = true;
    this.honorPanel.ShowPanel();
  },
  OpenRecord: function OpenRecord() {
    cc.Mgr.AudioMgr.playSFX("click");
    //cc.log("历史纪录：++++++" + cc.Mgr.UserDataMgr.RecordList.length);
    if (cc.Mgr.UserDataMgr.RecordList.length == 0) {
      var param = {};
      param.text = "你还未有过游戏记录,请畅快游戏吧";
      param.forWhat = "";
      this.commonTipPanel.node.active = true;
      this.commonTipPanel.ShowPanel(param);
      return;
    }
    this.historyPanel.node.active = true;
    this.historyPanel.ShowPanel();
  },
  OpenCredit: function OpenCredit() {},
  OpenSetting: function OpenSetting() {
    cc.Mgr.AudioMgr.playSFX("click");
    this.settingPanel.node.active = true;
    this.settingPanel.ShowPanel();
  },
  ShareToFriend: function ShareToFriend() {
    var index = Math.floor(Math.random() * 6);
    cc.Mgr.PlatformController.ShareToFriend(index);
  },
  ChangeName: function ChangeName() {
    cc.Mgr.PlatformController.InitRandNickName();
    this.NameLbl.string = cc.Mgr.PlatformController.nickName;
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcVUlcXEFwcFN0YXJ0LmpzIl0sIm5hbWVzIjpbImNjIiwiZGlyZWN0b3IiLCJpbml0TWdyIiwiTWdyIiwiUGFyc2UiLCJwcmVMb2FkaW5nU2NlbmUiLCJsb2FkU291bmQiLCJpbml0RGF0YSIsImdsb2JhbCIsInJlcXVpcmUiLCJFdmVudCIsIlNoYXJlSW5mb3MiLCJpbml0IiwiUGxhdGZvcm1Db250cm9sbGVyIiwiSW5pdCIsIkFkc01nciIsIkF1ZGlvTWdyIiwicGxheUJHTSIsIk1hcERhdGFNZ3IiLCJpbml0TWFwcyIsIlVzZXJEYXRhTWdyIiwiUmFua1BhbmVsIiwiSGlzdG9yeVBhbmVsIiwiSG9ub3JQYW5lbCIsIlNraWxsUGFuZWwiLCJTa2lsbFVwUGFuZWwiLCJTZXR0aW5nUGFuZWwiLCJDb21tb25UaXBQYW5lbCIsIkNsYXNzIiwiQ29tcG9uZW50IiwicHJvcGVydGllcyIsIlN0YXJ0QXRsYXMiLCJTcHJpdGVBdGxhcyIsIkJ0bnNOb2RlIiwiTm9kZSIsIklucHV0Tm9kZSIsIklucHV0VGV4dCIsIkVkaXRCb3giLCJTZXhTcCIsIlNwcml0ZSIsIkxvYWRpbmdOb2RlIiwiTG9hZGluZ0p1SHVhIiwicmFua1BhbmVsIiwiaGlzdG9yeVBhbmVsIiwiaG9ub3JQYW5lbCIsInNraWxsUGFuZWwiLCJza2lsbFVwUGFuZWwiLCJzZXR0aW5nUGFuZWwiLCJjb21tb25UaXBQYW5lbCIsIk5hbWVMYmwiLCJMYWJlbCIsInd4U3ViQ29udGV4dFZpZXciLCJTd2FuU3ViQ29udGV4dFZpZXciLCJUaXRsZVNwIiwib25Mb2FkIiwiR2xvYmFsRXZlbnQiLCJjbGVhciIsImFjdGl2ZSIsImxvZyIsIm9uIiwiUGFyc2VGaW5pc2giLCJzZXRVc2VyQ2xvdWRTdG9yYWdlIiwiSGlzdG9yeUhpZ2hBc3NldHMiLCJJbml0Q2hhbmdlRGF0YSIsInN0YXJ0Iiwic3luY1BsYXRmb3JtTG9nbyIsIlNoYXJlVG9wTmF2IiwiU2hvd0NsdWJCdXR0b24iLCJwcmVsb2FkU2NlbmUiLCJzdHJpbmciLCJuaWNrTmFtZSIsInJ1bkFjdGlvbiIsInJlcGVhdEZvcmV2ZXIiLCJyb3RhdGVCeSIsImFjdGlvbiIsInNlcXVlbmNlIiwiY2FsbEZ1bmMiLCJmYWRlSW4iLCJBY2hpZXZlVGlwIiwiZGF0YSIsIm5vZGUiLCJTaG93UGFuZWwiLCJPcGVuVXBncmFkZVNraWxsIiwiU2hvd0Jhbm5lckFkcyIsIm9uTG9hZFN1Y2Nlc3MiLCJfdGhpcyIsInN5cyIsInBsYXRmb3JtIiwiQllURURBTkNFX0dBTUUiLCJsb2FkZXIiLCJsb2FkUmVzIiwiU3ByaXRlRnJhbWUiLCJlcnIiLCJzcHJpdGVGcmFtZSIsImNvbnNvbGUiLCJlcnJvciIsImdldENvbXBvbmVudCIsImdvdG9HYW1lU2NlbmUiLCJwbGF5ZXJOYW1lIiwicGxheVNGWCIsImxvYWRTY2VuZSIsIkNvbmZpcm1Zb3VyTmFtZSIsInVwZGF0ZSIsImR0IiwiQ29uZnJpbVNleE1hbiIsIlNleCIsImdldFNwcml0ZUZyYW1lIiwiQ29uZnJpbVNleFdvTWFuIiwiT3BlblJhbmsiLCJJc0xvZ2luU3luYyIsInBhcmFtIiwidGV4dCIsImZvcldoYXQiLCJzaG93U3ViQ29udGVudFZpZXciLCJTZW5kTWVzc2FnZVRvU3ViVmlldyIsImlzS3VhaVNob3UiLCJrcyIsIldFQ0hBVF9HQU1FIiwiQkFJRFVfR0FNRSIsIkNsb3NlUmFua1ZpZXciLCJoaWRlU3ViQ29udGVudFZpZXciLCJPcGVuU2tpbGwiLCJPcGVuQWNoaWV2ZSIsIk9wZW5SZWNvcmQiLCJSZWNvcmRMaXN0IiwibGVuZ3RoIiwiT3BlbkNyZWRpdCIsIk9wZW5TZXR0aW5nIiwiU2hhcmVUb0ZyaWVuZCIsImluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiQ2hhbmdlTmFtZSIsIkluaXRSYW5kTmlja05hbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQUEsRUFBRSxDQUFDQyxRQUFRLENBQUNDLE9BQU8sR0FBRyxLQUFLO0FBRTNCLFNBQVNBLE9BQU9BLENBQUEsRUFBRTtFQUNkRixFQUFFLENBQUNHLEdBQUcsR0FBRyxDQUFDLENBQUM7RUFDWEgsRUFBRSxDQUFDRyxHQUFHLENBQUNDLEtBQUssR0FBRyxLQUFLO0VBQ3BCSixFQUFFLENBQUNHLEdBQUcsQ0FBQ0UsZUFBZSxHQUFHLEtBQUs7RUFDOUJMLEVBQUUsQ0FBQ0csR0FBRyxDQUFDRyxTQUFTLEdBQUcsS0FBSztFQUN4Qk4sRUFBRSxDQUFDRyxHQUFHLENBQUNJLFFBQVEsR0FBRyxLQUFLO0VBRXZCUCxFQUFFLENBQUNHLEdBQUcsQ0FBQ0ssTUFBTSxHQUFHQyxPQUFPLENBQUMsUUFBUSxDQUFDO0VBQ2pDVCxFQUFFLENBQUNHLEdBQUcsQ0FBQ08sS0FBSyxHQUFHRCxPQUFPLENBQUMsT0FBTyxDQUFDO0VBQy9CVCxFQUFFLENBQUNHLEdBQUcsQ0FBQ1EsVUFBVSxHQUFHRixPQUFPLENBQUMsWUFBWSxDQUFDO0VBQ3pDVCxFQUFFLENBQUNHLEdBQUcsQ0FBQ1EsVUFBVSxDQUFDQyxJQUFJLEVBQUU7RUFDeEJaLEVBQUUsQ0FBQ0csR0FBRyxDQUFDVSxrQkFBa0IsR0FBR0osT0FBTyxDQUFDLG9CQUFvQixDQUFDO0VBQ3pEVCxFQUFFLENBQUNHLEdBQUcsQ0FBQ1Usa0JBQWtCLENBQUNDLElBQUksRUFBRTtFQUVoQ2QsRUFBRSxDQUFDRyxHQUFHLENBQUNZLE1BQU0sR0FBR04sT0FBTyxDQUFDLFFBQVEsQ0FBQztFQUNqQ1QsRUFBRSxDQUFDRyxHQUFHLENBQUNZLE1BQU0sQ0FBQ0QsSUFBSSxFQUFFOztFQUVwQjtFQUNBLElBQUlFLFFBQVEsR0FBR1AsT0FBTyxDQUFDLFVBQVUsQ0FBQztFQUNsQ1QsRUFBRSxDQUFDRyxHQUFHLENBQUNhLFFBQVEsR0FBRyxJQUFJQSxRQUFRLEVBQUU7RUFDaENoQixFQUFFLENBQUNHLEdBQUcsQ0FBQ2EsUUFBUSxDQUFDSixJQUFJLEVBQUU7RUFDdEJaLEVBQUUsQ0FBQ0csR0FBRyxDQUFDYSxRQUFRLENBQUNDLE9BQU8sQ0FBQyxLQUFLLENBQUM7RUFFOUIsSUFBSUMsVUFBVSxHQUFHVCxPQUFPLENBQUMsWUFBWSxDQUFDO0VBQ3RDVCxFQUFFLENBQUNHLEdBQUcsQ0FBQ2UsVUFBVSxHQUFHLElBQUlBLFVBQVUsRUFBRTtFQUNwQ2xCLEVBQUUsQ0FBQ0csR0FBRyxDQUFDZSxVQUFVLENBQUNDLFFBQVEsRUFBRSxDQUFDLENBQUM7O0VBRTlCLElBQUlDLFdBQVcsR0FBR1gsT0FBTyxDQUFDLGFBQWEsQ0FBQztFQUN4Q1QsRUFBRSxDQUFDRyxHQUFHLENBQUNpQixXQUFXLEdBQUcsSUFBSUEsV0FBVyxFQUFFO0FBRTFDO0FBRUEsSUFBSUMsU0FBUyxHQUFHWixPQUFPLENBQUMsV0FBVyxDQUFDO0FBQ3BDLElBQUlhLFlBQVksR0FBR2IsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUMxQyxJQUFJYyxVQUFVLEdBQUdkLE9BQU8sQ0FBQyxZQUFZLENBQUM7QUFDdEMsSUFBSWUsVUFBVSxHQUFHZixPQUFPLENBQUMsWUFBWSxDQUFDO0FBQ3RDLElBQUlnQixZQUFZLEdBQUdoQixPQUFPLENBQUMsY0FBYyxDQUFDO0FBQzFDLElBQUlpQixZQUFZLEdBQUdqQixPQUFPLENBQUMsY0FBYyxDQUFDO0FBQzFDLElBQUlrQixjQUFjLEdBQUdsQixPQUFPLENBQUMsZ0JBQWdCLENBQUM7QUFDOUNULEVBQUUsQ0FBQzRCLEtBQUssQ0FBQztFQUNMLFdBQVM1QixFQUFFLENBQUM2QixTQUFTO0VBQ3JCQyxVQUFVLEVBQUU7SUFDUkMsVUFBVSxFQUFDL0IsRUFBRSxDQUFDZ0MsV0FBVztJQUN6QkMsUUFBUSxFQUFDakMsRUFBRSxDQUFDa0MsSUFBSTtJQUNoQkMsU0FBUyxFQUFDbkMsRUFBRSxDQUFDa0MsSUFBSTtJQUNqQkUsU0FBUyxFQUFDcEMsRUFBRSxDQUFDcUMsT0FBTztJQUNwQkMsS0FBSyxFQUFDdEMsRUFBRSxDQUFDdUMsTUFBTTtJQUVmQyxXQUFXLEVBQUN4QyxFQUFFLENBQUNrQyxJQUFJO0lBQ25CTyxZQUFZLEVBQUN6QyxFQUFFLENBQUNrQyxJQUFJO0lBRXBCO0lBQ0FRLFNBQVMsRUFBQ3JCLFNBQVM7SUFDbkJzQixZQUFZLEVBQUNyQixZQUFZO0lBQ3pCc0IsVUFBVSxFQUFDckIsVUFBVTtJQUNyQnNCLFVBQVUsRUFBQ3JCLFVBQVU7SUFDckJzQixZQUFZLEVBQUNyQixZQUFZO0lBQ3pCc0IsWUFBWSxFQUFDckIsWUFBWTtJQUN6QnNCLGNBQWMsRUFBQ3JCLGNBQWM7SUFFN0JzQixPQUFPLEVBQUNqRCxFQUFFLENBQUNrRCxLQUFLO0lBRWhCQyxnQkFBZ0IsRUFBQ25ELEVBQUUsQ0FBQ2tDLElBQUk7SUFDeEJrQixrQkFBa0IsRUFBQ3BELEVBQUUsQ0FBQ2tDLElBQUk7SUFFMUJtQixPQUFPLEVBQUVyRCxFQUFFLENBQUN1QztFQUNoQixDQUFDO0VBRURlLE1BQU0sRUFBQyxTQUFBQSxPQUFBLEVBQVk7SUFDZjtJQUNBO0lBQ0F0RCxFQUFFLENBQUNDLFFBQVEsQ0FBQ3NELFdBQVcsQ0FBQ0MsS0FBSyxFQUFFO0lBQy9CLElBQUksQ0FBQ3JCLFNBQVMsQ0FBQ3NCLE1BQU0sR0FBRyxLQUFLO0lBQzdCLElBQUd6RCxFQUFFLENBQUNDLFFBQVEsQ0FBQ0MsT0FBTyxJQUFJLEtBQUssRUFBRTtNQUM3QkYsRUFBRSxDQUFDMEQsR0FBRyxDQUFDLFNBQVMsQ0FBQztNQUNqQnhELE9BQU8sRUFBRTtNQUNUO01BQ0FGLEVBQUUsQ0FBQ0MsUUFBUSxDQUFDc0QsV0FBVyxDQUFDSSxFQUFFLENBQUMzRCxFQUFFLENBQUNHLEdBQUcsQ0FBQ08sS0FBSyxDQUFDa0QsV0FBVyxFQUFFLFlBQVU7UUFDM0Q1RCxFQUFFLENBQUNHLEdBQUcsQ0FBQ2lCLFdBQVcsQ0FBQ2IsUUFBUSxFQUFFO1FBRTdCUCxFQUFFLENBQUNHLEdBQUcsQ0FBQ1Usa0JBQWtCLENBQUNnRCxtQkFBbUIsQ0FBQzdELEVBQUUsQ0FBQ0csR0FBRyxDQUFDaUIsV0FBVyxDQUFDMEMsaUJBQWlCLENBQUM7UUFDbkY5RCxFQUFFLENBQUNDLFFBQVEsQ0FBQ0MsT0FBTyxHQUFHLElBQUk7TUFDOUIsQ0FBQyxFQUFFLElBQUksQ0FBQztJQUNaLENBQUMsTUFBTTtNQUNIO01BQ0FGLEVBQUUsQ0FBQ0csR0FBRyxDQUFDSyxNQUFNLENBQUN1RCxjQUFjLEVBQUU7TUFDOUIvRCxFQUFFLENBQUNHLEdBQUcsQ0FBQ2lCLFdBQVcsQ0FBQ2IsUUFBUSxFQUFFO01BQzdCUCxFQUFFLENBQUNDLFFBQVEsQ0FBQ0MsT0FBTyxHQUFHLElBQUk7SUFDOUI7RUFDSixDQUFDO0VBRUQ4RCxLQUFLLFdBQUFBLE1BQUEsRUFBSTtJQUNMO0lBQ0EsSUFBSSxDQUFDQyxnQkFBZ0IsRUFBRTs7SUFFdkI7SUFDQWpFLEVBQUUsQ0FBQ0csR0FBRyxDQUFDVSxrQkFBa0IsQ0FBQ3FELFdBQVcsRUFBRTtJQUV2Q2xFLEVBQUUsQ0FBQ0csR0FBRyxDQUFDVSxrQkFBa0IsQ0FBQ3NELGNBQWMsQ0FBQyxJQUFJLENBQUM7SUFFOUNuRSxFQUFFLENBQUNDLFFBQVEsQ0FBQ21FLFlBQVksQ0FBQyxXQUFXLEVBQUUsWUFBVTtNQUM1Q3BFLEVBQUUsQ0FBQ0csR0FBRyxDQUFDRSxlQUFlLEdBQUcsSUFBSTtJQUNqQyxDQUFDLENBQUM7SUFFRixJQUFJLENBQUM0QyxPQUFPLENBQUNvQixNQUFNLEdBQUdyRSxFQUFFLENBQUNHLEdBQUcsQ0FBQ1Usa0JBQWtCLENBQUN5RCxRQUFRO0lBRXhELElBQUksQ0FBQzdCLFlBQVksQ0FBQzhCLFNBQVMsQ0FBQ3ZFLEVBQUUsQ0FBQ3dFLGFBQWEsQ0FBQ3hFLEVBQUUsQ0FBQ3lFLFFBQVEsQ0FBQyxHQUFHLEVBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUVsRSxJQUFJQyxNQUFNLEdBQUcxRSxFQUFFLENBQUMyRSxRQUFRLENBQ3BCM0UsRUFBRSxDQUFDNEUsUUFBUSxDQUFDLFlBQVUsQ0FFdEIsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUNSNUUsRUFBRSxDQUFDNkUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUNkN0UsRUFBRSxDQUFDNEUsUUFBUSxDQUFDLFlBQVUsQ0FFdEIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUNYO0lBQ0QsSUFBSSxDQUFDM0MsUUFBUSxDQUFDc0MsU0FBUyxDQUFDRyxNQUFNLENBQUM7O0lBRS9CO0lBQ0ExRSxFQUFFLENBQUNDLFFBQVEsQ0FBQ3NELFdBQVcsQ0FBQ0ksRUFBRSxDQUFDM0QsRUFBRSxDQUFDRyxHQUFHLENBQUNPLEtBQUssQ0FBQ29FLFVBQVUsRUFBRSxVQUFTQyxJQUFJLEVBQUM7TUFDOUQ7TUFDQSxJQUFJLENBQUMvQixjQUFjLENBQUNnQyxJQUFJLENBQUN2QixNQUFNLEdBQUcsSUFBSTtNQUN0QyxJQUFJLENBQUNULGNBQWMsQ0FBQ2lDLFNBQVMsQ0FBQ0YsSUFBSSxDQUFDO0lBQ3ZDLENBQUMsRUFBRSxJQUFJLENBQUM7SUFFUi9FLEVBQUUsQ0FBQ0MsUUFBUSxDQUFDc0QsV0FBVyxDQUFDSSxFQUFFLENBQUMzRCxFQUFFLENBQUNHLEdBQUcsQ0FBQ08sS0FBSyxDQUFDd0UsZ0JBQWdCLEVBQUUsVUFBU0gsSUFBSSxFQUFDO01BQ3BFO01BQ0EsSUFBSSxDQUFDakMsWUFBWSxDQUFDa0MsSUFBSSxDQUFDdkIsTUFBTSxHQUFHLElBQUk7TUFDcEMsSUFBSSxDQUFDWCxZQUFZLENBQUNtQyxTQUFTLENBQUNGLElBQUksQ0FBQztJQUNyQyxDQUFDLEVBQUUsSUFBSSxDQUFDO0lBR1IvRSxFQUFFLENBQUNHLEdBQUcsQ0FBQ1ksTUFBTSxDQUFDb0UsYUFBYSxFQUFFO0VBQ2pDLENBQUM7RUFFREMsYUFBYSxFQUFDLFNBQUFBLGNBQUEsRUFBVyxDQUV6QixDQUFDO0VBRURuQixnQkFBZ0IsRUFBRSxTQUFBQSxpQkFBQSxFQUFZO0lBQUEsSUFBQW9CLEtBQUE7SUFDMUIsSUFBSXJGLEVBQUUsQ0FBQ3NGLEdBQUcsQ0FBQ0MsUUFBUSxLQUFLdkYsRUFBRSxDQUFDc0YsR0FBRyxDQUFDRSxjQUFjLEVBQUU7TUFDM0N4RixFQUFFLENBQUN5RixNQUFNLENBQUNDLE9BQU8sQ0FBQyxhQUFhLEdBQUcxRixFQUFFLENBQUNzRixHQUFHLENBQUNFLGNBQWMsRUFBRXhGLEVBQUUsQ0FBQzJGLFdBQVcsRUFBRSxVQUFDQyxHQUFHLEVBQUVDLFdBQVcsRUFBSztRQUMzRixJQUFJRCxHQUFHLEVBQUU7VUFDTEUsT0FBTyxDQUFDQyxLQUFLLENBQUMsOEJBQThCLEVBQUUsYUFBYSxHQUFHL0YsRUFBRSxDQUFDc0YsR0FBRyxDQUFDRSxjQUFjLEVBQUVJLEdBQUcsQ0FBQztVQUN6RjtRQUNKO1FBQ0FQLEtBQUksQ0FBQ2hDLE9BQU8sQ0FBQzJDLFlBQVksQ0FBQ2hHLEVBQUUsQ0FBQ3VDLE1BQU0sQ0FBQyxDQUFDc0QsV0FBVyxHQUFHQSxXQUFXO01BQ2xFLENBQUMsQ0FBQztJQUNOO0VBQ0osQ0FBQztFQUVESSxhQUFhLEVBQUMsU0FBQUEsY0FBQSxFQUFVO0lBQ3BCO0lBQ0EsSUFBRyxDQUFDakcsRUFBRSxDQUFDRyxHQUFHLENBQUNpQixXQUFXLENBQUM4RSxVQUFVLEVBQ2pDO01BQ0ksSUFBSSxDQUFDL0QsU0FBUyxDQUFDc0IsTUFBTSxHQUFHLElBQUk7TUFDNUI7SUFDSjtJQUNBcUMsT0FBTyxDQUFDcEMsR0FBRyxDQUFDMUQsRUFBRSxDQUFDRyxHQUFHLENBQUNDLEtBQUssRUFBR0osRUFBRSxDQUFDRyxHQUFHLENBQUNFLGVBQWUsRUFBR0wsRUFBRSxDQUFDRyxHQUFHLENBQUNJLFFBQVEsQ0FBQztJQUNwRSxJQUFHUCxFQUFFLENBQUNHLEdBQUcsQ0FBQ0MsS0FBSyxJQUFJSixFQUFFLENBQUNHLEdBQUcsQ0FBQ0UsZUFBZSxJQUFJTCxFQUFFLENBQUNHLEdBQUcsQ0FBQ0ksUUFBUSxFQUM1RDtNQUNJUCxFQUFFLENBQUNHLEdBQUcsQ0FBQ1Usa0JBQWtCLENBQUNzRCxjQUFjLENBQUMsS0FBSyxDQUFDO01BQy9DbkUsRUFBRSxDQUFDRyxHQUFHLENBQUNhLFFBQVEsQ0FBQ21GLE9BQU8sQ0FBQyxPQUFPLENBQUM7TUFDaENuRyxFQUFFLENBQUNDLFFBQVEsQ0FBQ21HLFNBQVMsQ0FBQyxXQUFXLENBQUM7SUFDdEM7RUFDSixDQUFDO0VBRURDLGVBQWUsRUFBQyxTQUFBQSxnQkFBQSxFQUFVO0lBQ3RCckcsRUFBRSxDQUFDRyxHQUFHLENBQUNpQixXQUFXLENBQUM4RSxVQUFVLEdBQUdsRyxFQUFFLENBQUNHLEdBQUcsQ0FBQ1Usa0JBQWtCLENBQUN5RCxRQUFRO0lBQ2xFLElBQUksQ0FBQ25DLFNBQVMsQ0FBQ3NCLE1BQU0sR0FBRyxLQUFLO0lBQzdCLElBQUksQ0FBQ3dDLGFBQWEsRUFBRTtJQUNwQjtJQUNBO0lBQ0E7SUFDSTtJQUNKO0lBQ0E7SUFDQTtJQUNBO0VBQ0osQ0FBQztFQUVESyxNQUFNLFdBQUFBLE9BQUNDLEVBQUUsRUFDVDtJQUNJLElBQUd2RyxFQUFFLENBQUNHLEdBQUcsQ0FBQ0MsS0FBSyxJQUFJSixFQUFFLENBQUNHLEdBQUcsQ0FBQ0UsZUFBZSxJQUFJTCxFQUFFLENBQUNHLEdBQUcsQ0FBQ0ksUUFBUSxFQUM1RDtNQUNJLElBQUksQ0FBQ2lDLFdBQVcsQ0FBQ2lCLE1BQU0sR0FBRyxLQUFLO0lBQ25DO0VBQ0osQ0FBQztFQUVEK0MsYUFBYSxFQUFDLFNBQUFBLGNBQUEsRUFBVTtJQUNwQnhHLEVBQUUsQ0FBQ0csR0FBRyxDQUFDYSxRQUFRLENBQUNtRixPQUFPLENBQUMsT0FBTyxDQUFDO0lBQ2hDbkcsRUFBRSxDQUFDRyxHQUFHLENBQUNpQixXQUFXLENBQUNxRixHQUFHLEdBQUcsQ0FBQztJQUMxQixJQUFJLENBQUNuRSxLQUFLLENBQUN1RCxXQUFXLEdBQUcsSUFBSSxDQUFDOUQsVUFBVSxDQUFDMkUsY0FBYyxDQUFDLFNBQVMsQ0FBQztFQUN0RSxDQUFDO0VBRURDLGVBQWUsRUFBQyxTQUFBQSxnQkFBQSxFQUFVO0lBQ3RCM0csRUFBRSxDQUFDRyxHQUFHLENBQUNhLFFBQVEsQ0FBQ21GLE9BQU8sQ0FBQyxPQUFPLENBQUM7SUFDaENuRyxFQUFFLENBQUNHLEdBQUcsQ0FBQ2lCLFdBQVcsQ0FBQ3FGLEdBQUcsR0FBRyxDQUFDO0lBQzFCLElBQUksQ0FBQ25FLEtBQUssQ0FBQ3VELFdBQVcsR0FBRyxJQUFJLENBQUM5RCxVQUFVLENBQUMyRSxjQUFjLENBQUMsV0FBVyxDQUFDO0VBQ3hFLENBQUM7RUFFREUsUUFBUSxFQUFDLFNBQUFBLFNBQUEsRUFBVTtJQUNmNUcsRUFBRSxDQUFDRyxHQUFHLENBQUNhLFFBQVEsQ0FBQ21GLE9BQU8sQ0FBQyxPQUFPLENBQUM7SUFFaEMsSUFBRyxDQUFDbkcsRUFBRSxDQUFDRyxHQUFHLENBQUNVLGtCQUFrQixDQUFDZ0csV0FBVyxFQUFFLEVBQzNDO01BQ0ksSUFBSUMsS0FBSyxHQUFHLENBQUMsQ0FBQztNQUNkQSxLQUFLLENBQUNDLElBQUksR0FBRyxVQUFVO01BQ3ZCRCxLQUFLLENBQUNFLE9BQU8sR0FBRyxPQUFPO01BQ3ZCLElBQUksQ0FBQ2hFLGNBQWMsQ0FBQ2dDLElBQUksQ0FBQ3ZCLE1BQU0sR0FBRyxJQUFJO01BQ3RDLElBQUksQ0FBQ1QsY0FBYyxDQUFDaUMsU0FBUyxDQUFDNkIsS0FBSyxDQUFDO01BQ3BDO0lBQ0o7SUFFQTlHLEVBQUUsQ0FBQ0csR0FBRyxDQUFDVSxrQkFBa0IsQ0FBQ29HLGtCQUFrQixFQUFFO0lBQzlDakgsRUFBRSxDQUFDRyxHQUFHLENBQUNVLGtCQUFrQixDQUFDcUcsb0JBQW9CLENBQUMsVUFBVSxDQUFDO0lBQzFELElBQUlDLFVBQVUsR0FBRyxLQUFLO0lBQ3RCLElBQUksT0FBT0MsRUFBRSxLQUFLLFdBQVcsRUFBRTtNQUMzQjtNQUNBRCxVQUFVLEdBQUcsSUFBSTtJQUNyQjtJQUNBLElBQUduSCxFQUFFLENBQUNzRixHQUFHLENBQUNDLFFBQVEsS0FBS3ZGLEVBQUUsQ0FBQ3NGLEdBQUcsQ0FBQytCLFdBQVcsSUFBSSxDQUFDRixVQUFVLEVBQ3BELElBQUksQ0FBQ2hFLGdCQUFnQixDQUFDTSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQ25DLElBQUd6RCxFQUFFLENBQUNzRixHQUFHLENBQUNDLFFBQVEsS0FBS3ZGLEVBQUUsQ0FBQ3NGLEdBQUcsQ0FBQ2dDLFVBQVUsRUFDekMsSUFBSSxDQUFDbEUsa0JBQWtCLENBQUNLLE1BQU0sR0FBRyxJQUFJO0lBRXpDLElBQUl6RCxFQUFFLENBQUNzRixHQUFHLENBQUNDLFFBQVEsS0FBS3ZGLEVBQUUsQ0FBQ3NGLEdBQUcsQ0FBQytCLFdBQVcsSUFBSSxDQUFDRixVQUFVLElBQUtuSCxFQUFFLENBQUNzRixHQUFHLENBQUNDLFFBQVEsS0FBS3ZGLEVBQUUsQ0FBQ3NGLEdBQUcsQ0FBQ2dDLFVBQVUsRUFDL0YsSUFBSSxDQUFDNUUsU0FBUyxDQUFDc0MsSUFBSSxDQUFDdkIsTUFBTSxHQUFHLElBQUk7RUFDekMsQ0FBQztFQUVEOEQsYUFBYSxFQUFDLFNBQUFBLGNBQUEsRUFBVTtJQUNwQixJQUFJLENBQUM3RSxTQUFTLENBQUNzQyxJQUFJLENBQUN2QixNQUFNLEdBQUcsS0FBSztJQUNsQ3pELEVBQUUsQ0FBQ0csR0FBRyxDQUFDVSxrQkFBa0IsQ0FBQzJHLGtCQUFrQixFQUFFO0lBQzlDeEgsRUFBRSxDQUFDRyxHQUFHLENBQUNVLGtCQUFrQixDQUFDcUcsb0JBQW9CLENBQUMsV0FBVyxDQUFDO0lBQzNELElBQUksQ0FBQy9ELGdCQUFnQixDQUFDTSxNQUFNLEdBQUcsS0FBSztJQUNwQyxJQUFJLENBQUNMLGtCQUFrQixDQUFDSyxNQUFNLEdBQUcsS0FBSztFQUMxQyxDQUFDO0VBRURnRSxTQUFTLEVBQUMsU0FBQUEsVUFBQSxFQUFVO0lBQ2hCekgsRUFBRSxDQUFDRyxHQUFHLENBQUNhLFFBQVEsQ0FBQ21GLE9BQU8sQ0FBQyxPQUFPLENBQUM7SUFDaEMsSUFBSSxDQUFDdEQsVUFBVSxDQUFDbUMsSUFBSSxDQUFDdkIsTUFBTSxHQUFHLElBQUk7SUFDbEMsSUFBSSxDQUFDWixVQUFVLENBQUNvQyxTQUFTLEVBQUU7RUFDL0IsQ0FBQztFQUVEeUMsV0FBVyxFQUFDLFNBQUFBLFlBQUEsRUFBVTtJQUNsQjFILEVBQUUsQ0FBQ0csR0FBRyxDQUFDYSxRQUFRLENBQUNtRixPQUFPLENBQUMsT0FBTyxDQUFDO0lBQ2hDLElBQUksQ0FBQ3ZELFVBQVUsQ0FBQ29DLElBQUksQ0FBQ3ZCLE1BQU0sR0FBRyxJQUFJO0lBQ2xDLElBQUksQ0FBQ2IsVUFBVSxDQUFDcUMsU0FBUyxFQUFFO0VBQy9CLENBQUM7RUFFRDBDLFVBQVUsRUFBQyxTQUFBQSxXQUFBLEVBQVU7SUFDakIzSCxFQUFFLENBQUNHLEdBQUcsQ0FBQ2EsUUFBUSxDQUFDbUYsT0FBTyxDQUFDLE9BQU8sQ0FBQztJQUNoQztJQUNBLElBQUduRyxFQUFFLENBQUNHLEdBQUcsQ0FBQ2lCLFdBQVcsQ0FBQ3dHLFVBQVUsQ0FBQ0MsTUFBTSxJQUFJLENBQUMsRUFDNUM7TUFDSSxJQUFJZixLQUFLLEdBQUcsQ0FBQyxDQUFDO01BQ2RBLEtBQUssQ0FBQ0MsSUFBSSxHQUFHLGtCQUFrQjtNQUMvQkQsS0FBSyxDQUFDRSxPQUFPLEdBQUcsRUFBRTtNQUNsQixJQUFJLENBQUNoRSxjQUFjLENBQUNnQyxJQUFJLENBQUN2QixNQUFNLEdBQUcsSUFBSTtNQUN0QyxJQUFJLENBQUNULGNBQWMsQ0FBQ2lDLFNBQVMsQ0FBQzZCLEtBQUssQ0FBQztNQUNwQztJQUNKO0lBQ0EsSUFBSSxDQUFDbkUsWUFBWSxDQUFDcUMsSUFBSSxDQUFDdkIsTUFBTSxHQUFHLElBQUk7SUFDcEMsSUFBSSxDQUFDZCxZQUFZLENBQUNzQyxTQUFTLEVBQUU7RUFDakMsQ0FBQztFQUVENkMsVUFBVSxFQUFDLFNBQUFBLFdBQUEsRUFBVSxDQUVyQixDQUFDO0VBRURDLFdBQVcsRUFBQyxTQUFBQSxZQUFBLEVBQVU7SUFDbEIvSCxFQUFFLENBQUNHLEdBQUcsQ0FBQ2EsUUFBUSxDQUFDbUYsT0FBTyxDQUFDLE9BQU8sQ0FBQztJQUNoQyxJQUFJLENBQUNwRCxZQUFZLENBQUNpQyxJQUFJLENBQUN2QixNQUFNLEdBQUcsSUFBSTtJQUNwQyxJQUFJLENBQUNWLFlBQVksQ0FBQ2tDLFNBQVMsRUFBRTtFQUNqQyxDQUFDO0VBRUQrQyxhQUFhLEVBQUMsU0FBQUEsY0FBQSxFQUFVO0lBQ3BCLElBQUlDLEtBQUssR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNELElBQUksQ0FBQ0UsTUFBTSxFQUFFLEdBQUMsQ0FBQyxDQUFDO0lBQ3ZDcEksRUFBRSxDQUFDRyxHQUFHLENBQUNVLGtCQUFrQixDQUFDbUgsYUFBYSxDQUFDQyxLQUFLLENBQUM7RUFDbEQsQ0FBQztFQUVESSxVQUFVLEVBQUMsU0FBQUEsV0FBQSxFQUFVO0lBQ2pCckksRUFBRSxDQUFDRyxHQUFHLENBQUNVLGtCQUFrQixDQUFDeUgsZ0JBQWdCLEVBQUU7SUFDNUMsSUFBSSxDQUFDckYsT0FBTyxDQUFDb0IsTUFBTSxHQUFHckUsRUFBRSxDQUFDRyxHQUFHLENBQUNVLGtCQUFrQixDQUFDeUQsUUFBUTtFQUM1RDtBQUNKLENBQUMsQ0FBQyIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy/mmK/lkKblrozmiJDov4fnrqHnkIblt6XlhbfnmoTliJ3lp4vljJZcclxuY2MuZGlyZWN0b3IuaW5pdE1nciA9IGZhbHNlO1xyXG5cclxuZnVuY3Rpb24gaW5pdE1ncigpe1xyXG4gICAgY2MuTWdyID0ge307XHJcbiAgICBjYy5NZ3IuUGFyc2UgPSBmYWxzZTtcclxuICAgIGNjLk1nci5wcmVMb2FkaW5nU2NlbmUgPSBmYWxzZTtcclxuICAgIGNjLk1nci5sb2FkU291bmQgPSBmYWxzZTtcclxuICAgIGNjLk1nci5pbml0RGF0YSA9IGZhbHNlO1xyXG5cclxuICAgIGNjLk1nci5nbG9iYWwgPSByZXF1aXJlKFwiR2xvYmFsXCIpO1xyXG4gICAgY2MuTWdyLkV2ZW50ID0gcmVxdWlyZShcIkV2ZW50XCIpO1xyXG4gICAgY2MuTWdyLlNoYXJlSW5mb3MgPSByZXF1aXJlKFwiU2hhcmVJbmZvc1wiKTtcclxuICAgIGNjLk1nci5TaGFyZUluZm9zLmluaXQoKTtcclxuICAgIGNjLk1nci5QbGF0Zm9ybUNvbnRyb2xsZXIgPSByZXF1aXJlKFwiUGxhdGZvcm1Db250cm9sbGVyXCIpO1xyXG4gICAgY2MuTWdyLlBsYXRmb3JtQ29udHJvbGxlci5Jbml0KCk7XHJcblxyXG4gICAgY2MuTWdyLkFkc01nciA9IHJlcXVpcmUoXCJBZHNNZ3JcIik7XHJcbiAgICBjYy5NZ3IuQWRzTWdyLkluaXQoKTtcclxuXHJcbiAgICAvL+WjsOmfs1xyXG4gICAgdmFyIEF1ZGlvTWdyID0gcmVxdWlyZShcIkF1ZGlvTWdyXCIpO1xyXG4gICAgY2MuTWdyLkF1ZGlvTWdyID0gbmV3IEF1ZGlvTWdyKCk7XHJcbiAgICBjYy5NZ3IuQXVkaW9NZ3IuaW5pdCgpO1xyXG4gICAgY2MuTWdyLkF1ZGlvTWdyLnBsYXlCR00oXCJiZ21cIik7XHJcblxyXG4gICAgdmFyIE1hcERhdGFNZ3IgPSByZXF1aXJlKFwiTWFwRGF0YU1nclwiKTtcclxuICAgIGNjLk1nci5NYXBEYXRhTWdyID0gbmV3IE1hcERhdGFNZ3IoKTtcclxuICAgIGNjLk1nci5NYXBEYXRhTWdyLmluaXRNYXBzKCk7IC8v5Yid5aeL5YyW6Kej5p6Q5pWw5o2u6KGoXHJcblxyXG4gICAgdmFyIFVzZXJEYXRhTWdyID0gcmVxdWlyZShcIlVzZXJEYXRhTWdyXCIpO1xyXG4gICAgY2MuTWdyLlVzZXJEYXRhTWdyID0gbmV3IFVzZXJEYXRhTWdyKCk7XHJcblxyXG59XHJcblxyXG52YXIgUmFua1BhbmVsID0gcmVxdWlyZShcIlJhbmtQYW5lbFwiKTtcclxudmFyIEhpc3RvcnlQYW5lbCA9IHJlcXVpcmUoXCJIaXN0b3J5UGFuZWxcIik7XHJcbnZhciBIb25vclBhbmVsID0gcmVxdWlyZShcIkhvbm9yUGFuZWxcIik7XHJcbnZhciBTa2lsbFBhbmVsID0gcmVxdWlyZShcIlNraWxsUGFuZWxcIik7XHJcbnZhciBTa2lsbFVwUGFuZWwgPSByZXF1aXJlKFwiU2tpbGxVcFBhbmVsXCIpO1xyXG52YXIgU2V0dGluZ1BhbmVsID0gcmVxdWlyZShcIlNldHRpbmdQYW5lbFwiKTtcclxudmFyIENvbW1vblRpcFBhbmVsID0gcmVxdWlyZShcIkNvbW1vblRpcFBhbmVsXCIpO1xyXG5jYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgU3RhcnRBdGxhczpjYy5TcHJpdGVBdGxhcyxcclxuICAgICAgICBCdG5zTm9kZTpjYy5Ob2RlLFxyXG4gICAgICAgIElucHV0Tm9kZTpjYy5Ob2RlLFxyXG4gICAgICAgIElucHV0VGV4dDpjYy5FZGl0Qm94LFxyXG4gICAgICAgIFNleFNwOmNjLlNwcml0ZSxcclxuXHJcbiAgICAgICAgTG9hZGluZ05vZGU6Y2MuTm9kZSxcclxuICAgICAgICBMb2FkaW5nSnVIdWE6Y2MuTm9kZSxcclxuXHJcbiAgICAgICAgLy/pnaLmnb9cclxuICAgICAgICByYW5rUGFuZWw6UmFua1BhbmVsLFxyXG4gICAgICAgIGhpc3RvcnlQYW5lbDpIaXN0b3J5UGFuZWwsXHJcbiAgICAgICAgaG9ub3JQYW5lbDpIb25vclBhbmVsLFxyXG4gICAgICAgIHNraWxsUGFuZWw6U2tpbGxQYW5lbCxcclxuICAgICAgICBza2lsbFVwUGFuZWw6U2tpbGxVcFBhbmVsLFxyXG4gICAgICAgIHNldHRpbmdQYW5lbDpTZXR0aW5nUGFuZWwsXHJcbiAgICAgICAgY29tbW9uVGlwUGFuZWw6Q29tbW9uVGlwUGFuZWwsXHJcblxyXG4gICAgICAgIE5hbWVMYmw6Y2MuTGFiZWwsXHJcblxyXG4gICAgICAgIHd4U3ViQ29udGV4dFZpZXc6Y2MuTm9kZSxcclxuICAgICAgICBTd2FuU3ViQ29udGV4dFZpZXc6Y2MuTm9kZSxcclxuXHJcbiAgICAgICAgVGl0bGVTcDogY2MuU3ByaXRlLFxyXG4gICAgfSxcclxuXHJcbiAgICBvbkxvYWQ6ZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8v55uu5YmN5oiR5Lus5YWI5LiN5L+d5a2Y5Lu75L2V5pWw5o2uICDmr4/mrKHlvIDlp4vmuIXnkIbkuIDmrKFcclxuICAgICAgICAvL2NjLnN5cy5sb2NhbFN0b3JhZ2UuY2xlYXIoKTtcclxuICAgICAgICBjYy5kaXJlY3Rvci5HbG9iYWxFdmVudC5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMuSW5wdXROb2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIGlmKGNjLmRpcmVjdG9yLmluaXRNZ3IgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgY2MubG9nKFwi6L+Y5rKh5pyJ5Yid5aeL5YyW6L+HXCIpO1xyXG4gICAgICAgICAgICBpbml0TWdyKCk7XHJcbiAgICAgICAgICAgIC8vY2MuTWdyLmdsb2JhbC5Jbml0Q2hhbmdlRGF0YSgpO1xyXG4gICAgICAgICAgICBjYy5kaXJlY3Rvci5HbG9iYWxFdmVudC5vbihjYy5NZ3IuRXZlbnQuUGFyc2VGaW5pc2gsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBjYy5NZ3IuVXNlckRhdGFNZ3IuaW5pdERhdGEoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjYy5NZ3IuUGxhdGZvcm1Db250cm9sbGVyLnNldFVzZXJDbG91ZFN0b3JhZ2UoY2MuTWdyLlVzZXJEYXRhTWdyLkhpc3RvcnlIaWdoQXNzZXRzKTtcclxuICAgICAgICAgICAgICAgIGNjLmRpcmVjdG9yLmluaXRNZ3IgPSB0cnVlO1xyXG4gICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvL2NjLmxvZyhcIuS5i+WJjeaciei/h+WIneWni+WMllwiKTtcclxuICAgICAgICAgICAgY2MuTWdyLmdsb2JhbC5Jbml0Q2hhbmdlRGF0YSgpO1xyXG4gICAgICAgICAgICBjYy5NZ3IuVXNlckRhdGFNZ3IuaW5pdERhdGEoKTtcclxuICAgICAgICAgICAgY2MuZGlyZWN0b3IuaW5pdE1nciA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBzdGFydCAoKSB7XHJcbiAgICAgICAgLy8g5pu05o2ibG9nb1xyXG4gICAgICAgIHRoaXMuc3luY1BsYXRmb3JtTG9nbygpXHJcblxyXG4gICAgICAgIC8v6aaW5YWI55uR5ZCs5Y+z5LiK6KeS55qE5oyJ6ZKuXHJcbiAgICAgICAgY2MuTWdyLlBsYXRmb3JtQ29udHJvbGxlci5TaGFyZVRvcE5hdigpO1xyXG5cclxuICAgICAgICBjYy5NZ3IuUGxhdGZvcm1Db250cm9sbGVyLlNob3dDbHViQnV0dG9uKHRydWUpO1xyXG5cclxuICAgICAgICBjYy5kaXJlY3Rvci5wcmVsb2FkU2NlbmUoXCJnYW1lc2NlbmVcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgY2MuTWdyLnByZUxvYWRpbmdTY2VuZSA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuTmFtZUxibC5zdHJpbmcgPSBjYy5NZ3IuUGxhdGZvcm1Db250cm9sbGVyLm5pY2tOYW1lO1xyXG5cclxuICAgICAgICB0aGlzLkxvYWRpbmdKdUh1YS5ydW5BY3Rpb24oY2MucmVwZWF0Rm9yZXZlcihjYy5yb3RhdGVCeSgwLjIsNDUpKSk7XHJcblxyXG4gICAgICAgIHZhciBhY3Rpb24gPSBjYy5zZXF1ZW5jZShcclxuICAgICAgICAgICAgY2MuY2FsbEZ1bmMoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgY2MuZmFkZUluKDIuMCksXHJcbiAgICAgICAgICAgIGNjLmNhbGxGdW5jKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuQnRuc05vZGUucnVuQWN0aW9uKGFjdGlvbik7XHJcblxyXG4gICAgICAgIC8v5rOo5YaM5LqL5Lu255uR5ZCsXHJcbiAgICAgICAgY2MuZGlyZWN0b3IuR2xvYmFsRXZlbnQub24oY2MuTWdyLkV2ZW50LkFjaGlldmVUaXAsIGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAvL2NjLmxvZyhcIuaPkOekuuaJk+W8gOWujOaIkOaIkOWwseaPkOekulwiKTtcclxuICAgICAgICAgICAgdGhpcy5jb21tb25UaXBQYW5lbC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbW9uVGlwUGFuZWwuU2hvd1BhbmVsKGRhdGEpO1xyXG4gICAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICBjYy5kaXJlY3Rvci5HbG9iYWxFdmVudC5vbihjYy5NZ3IuRXZlbnQuT3BlblVwZ3JhZGVTa2lsbCwgZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIC8vY2MubG9nKFwi5o+Q56S65oqA6IO95Y2H57qn5o+Q56S6XCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNraWxsVXBQYW5lbC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2tpbGxVcFBhbmVsLlNob3dQYW5lbChkYXRhKTtcclxuICAgICAgICB9LCB0aGlzKTtcclxuXHJcblxyXG4gICAgICAgIGNjLk1nci5BZHNNZ3IuU2hvd0Jhbm5lckFkcygpO1xyXG4gICAgfSxcclxuXHJcbiAgICBvbkxvYWRTdWNjZXNzOmZ1bmN0aW9uKCkge1xyXG4gICAgICAgIFxyXG4gICAgfSxcclxuXHJcbiAgICBzeW5jUGxhdGZvcm1Mb2dvOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKSB7XHJcbiAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKCcvYXRsYXMvbG9nbycgKyBjYy5zeXMuQllURURBTkNFX0dBTUUsIGNjLlNwcml0ZUZyYW1lLCAoZXJyLCBzcHJpdGVGcmFtZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3NldCBzcHJpdGUgZnJhbWUgZmFpbGVkISBlcnInLCAnL2F0bGFzL2xvZ28nICsgY2Muc3lzLkJZVEVEQU5DRV9HQU1FLCBlcnIpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLlRpdGxlU3AuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSBzcHJpdGVGcmFtZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGdvdG9HYW1lU2NlbmU6ZnVuY3Rpb24oKXtcclxuICAgICAgICAvLy8qIOWFiOazqOWGjOWQjeWtl1xyXG4gICAgICAgIGlmKCFjYy5NZ3IuVXNlckRhdGFNZ3IucGxheWVyTmFtZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuSW5wdXROb2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coY2MuTWdyLlBhcnNlICwgY2MuTWdyLnByZUxvYWRpbmdTY2VuZSAsIGNjLk1nci5pbml0RGF0YSlcclxuICAgICAgICBpZihjYy5NZ3IuUGFyc2UgJiYgY2MuTWdyLnByZUxvYWRpbmdTY2VuZSAmJiBjYy5NZ3IuaW5pdERhdGEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjYy5NZ3IuUGxhdGZvcm1Db250cm9sbGVyLlNob3dDbHViQnV0dG9uKGZhbHNlKTtcclxuICAgICAgICAgICAgY2MuTWdyLkF1ZGlvTWdyLnBsYXlTRlgoXCJjbGlja1wiKTtcclxuICAgICAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKFwiZ2FtZXNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgQ29uZmlybVlvdXJOYW1lOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY2MuTWdyLlVzZXJEYXRhTWdyLnBsYXllck5hbWUgPSBjYy5NZ3IuUGxhdGZvcm1Db250cm9sbGVyLm5pY2tOYW1lO1xyXG4gICAgICAgIHRoaXMuSW5wdXROb2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ290b0dhbWVTY2VuZSgpO1xyXG4gICAgICAgIC8vaWYodGhpcy5JbnB1dFRleHQuc3RyaW5nICE9IFwiXCIpXHJcbiAgICAgICAgLy97XHJcbiAgICAgICAgLy8gICAgY2MuTWdyLkF1ZGlvTWdyLnBsYXlTRlgoXCJjbGlja1wiKTtcclxuICAgICAgICAgICAgLy8vL2NjLmxvZyhcIuS9oOmAieaLqeeahOWQjeWtl+aYryA9IFwiKyB0aGlzLklucHV0VGV4dC5zdHJpbmcpO1xyXG4gICAgICAgIC8vICAgIGNjLk1nci5Vc2VyRGF0YU1nci5wbGF5ZXJOYW1lID0gdGhpcy5JbnB1dFRleHQuc3RyaW5nO1xyXG4gICAgICAgIC8vICAgIHRoaXMuSW5wdXROb2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIC8vICAgIHRoaXMuZ290b0dhbWVTY2VuZSgpO1xyXG4gICAgICAgIC8vfVxyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGUoZHQpXHJcbiAgICB7XHJcbiAgICAgICAgaWYoY2MuTWdyLlBhcnNlICYmIGNjLk1nci5wcmVMb2FkaW5nU2NlbmUgJiYgY2MuTWdyLmluaXREYXRhKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5Mb2FkaW5nTm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIENvbmZyaW1TZXhNYW46ZnVuY3Rpb24oKXtcclxuICAgICAgICBjYy5NZ3IuQXVkaW9NZ3IucGxheVNGWChcImNsaWNrXCIpO1xyXG4gICAgICAgIGNjLk1nci5Vc2VyRGF0YU1nci5TZXggPSAxO1xyXG4gICAgICAgIHRoaXMuU2V4U3Auc3ByaXRlRnJhbWUgPSB0aGlzLlN0YXJ0QXRsYXMuZ2V0U3ByaXRlRnJhbWUoXCJtYW5JY29uXCIpO1xyXG4gICAgfSxcclxuXHJcbiAgICBDb25mcmltU2V4V29NYW46ZnVuY3Rpb24oKXtcclxuICAgICAgICBjYy5NZ3IuQXVkaW9NZ3IucGxheVNGWChcImNsaWNrXCIpO1xyXG4gICAgICAgIGNjLk1nci5Vc2VyRGF0YU1nci5TZXggPSAyO1xyXG4gICAgICAgIHRoaXMuU2V4U3Auc3ByaXRlRnJhbWUgPSB0aGlzLlN0YXJ0QXRsYXMuZ2V0U3ByaXRlRnJhbWUoXCJ3b21hbkljb25cIik7XHJcbiAgICB9LFxyXG5cclxuICAgIE9wZW5SYW5rOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY2MuTWdyLkF1ZGlvTWdyLnBsYXlTRlgoXCJjbGlja1wiKTtcclxuXHJcbiAgICAgICAgaWYoIWNjLk1nci5QbGF0Zm9ybUNvbnRyb2xsZXIuSXNMb2dpblN5bmMoKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IHt9O1xyXG4gICAgICAgICAgICBwYXJhbS50ZXh0ID0gXCLor7flhYjnmbvpmYbmiYvmnLrnmb7luqZcIjtcclxuICAgICAgICAgICAgcGFyYW0uZm9yV2hhdCA9IFwiTG9naW5cIjtcclxuICAgICAgICAgICAgdGhpcy5jb21tb25UaXBQYW5lbC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbW9uVGlwUGFuZWwuU2hvd1BhbmVsKHBhcmFtKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2MuTWdyLlBsYXRmb3JtQ29udHJvbGxlci5zaG93U3ViQ29udGVudFZpZXcoKTtcclxuICAgICAgICBjYy5NZ3IuUGxhdGZvcm1Db250cm9sbGVyLlNlbmRNZXNzYWdlVG9TdWJWaWV3KFwiUmFua09wZW5cIik7XHJcbiAgICAgICAgbGV0IGlzS3VhaVNob3UgPSBmYWxzZTtcclxuICAgICAgICBpZiAodHlwZW9mIGtzICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAvL+i/kOihjOWcqOW/q+aJi+W5s+WPsFxyXG4gICAgICAgICAgICBpc0t1YWlTaG91ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuV0VDSEFUX0dBTUUgJiYgIWlzS3VhaVNob3UpXHJcbiAgICAgICAgICAgIHRoaXMud3hTdWJDb250ZXh0Vmlldy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQkFJRFVfR0FNRSlcclxuICAgICAgICAgICAgdGhpcy5Td2FuU3ViQ29udGV4dFZpZXcuYWN0aXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYoKGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLldFQ0hBVF9HQU1FICYmICFpc0t1YWlTaG91KSB8fCBjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5CQUlEVV9HQU1FKVxyXG4gICAgICAgICAgICB0aGlzLnJhbmtQYW5lbC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICB9LFxyXG5cclxuICAgIENsb3NlUmFua1ZpZXc6ZnVuY3Rpb24oKXtcclxuICAgICAgICB0aGlzLnJhbmtQYW5lbC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIGNjLk1nci5QbGF0Zm9ybUNvbnRyb2xsZXIuaGlkZVN1YkNvbnRlbnRWaWV3KCk7XHJcbiAgICAgICAgY2MuTWdyLlBsYXRmb3JtQ29udHJvbGxlci5TZW5kTWVzc2FnZVRvU3ViVmlldyhcIlJhbmtDbG9zZVwiKTtcclxuICAgICAgICB0aGlzLnd4U3ViQ29udGV4dFZpZXcuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5Td2FuU3ViQ29udGV4dFZpZXcuYWN0aXZlID0gZmFsc2U7XHJcbiAgICB9LFxyXG5cclxuICAgIE9wZW5Ta2lsbDpmdW5jdGlvbigpe1xyXG4gICAgICAgIGNjLk1nci5BdWRpb01nci5wbGF5U0ZYKFwiY2xpY2tcIik7XHJcbiAgICAgICAgdGhpcy5za2lsbFBhbmVsLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNraWxsUGFuZWwuU2hvd1BhbmVsKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIE9wZW5BY2hpZXZlOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY2MuTWdyLkF1ZGlvTWdyLnBsYXlTRlgoXCJjbGlja1wiKTtcclxuICAgICAgICB0aGlzLmhvbm9yUGFuZWwubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaG9ub3JQYW5lbC5TaG93UGFuZWwoKTtcclxuICAgIH0sXHJcblxyXG4gICAgT3BlblJlY29yZDpmdW5jdGlvbigpe1xyXG4gICAgICAgIGNjLk1nci5BdWRpb01nci5wbGF5U0ZYKFwiY2xpY2tcIik7XHJcbiAgICAgICAgLy9jYy5sb2coXCLljoblj7LnuqrlvZXvvJorKysrKytcIiArIGNjLk1nci5Vc2VyRGF0YU1nci5SZWNvcmRMaXN0Lmxlbmd0aCk7XHJcbiAgICAgICAgaWYoY2MuTWdyLlVzZXJEYXRhTWdyLlJlY29yZExpc3QubGVuZ3RoID09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgcGFyYW0gPSB7fTtcclxuICAgICAgICAgICAgcGFyYW0udGV4dCA9IFwi5L2g6L+Y5pyq5pyJ6L+H5ri45oiP6K6w5b2VLOivt+eVheW/q+a4uOaIj+WQp1wiO1xyXG4gICAgICAgICAgICBwYXJhbS5mb3JXaGF0ID0gXCJcIjtcclxuICAgICAgICAgICAgdGhpcy5jb21tb25UaXBQYW5lbC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbW9uVGlwUGFuZWwuU2hvd1BhbmVsKHBhcmFtKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhpc3RvcnlQYW5lbC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5oaXN0b3J5UGFuZWwuU2hvd1BhbmVsKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIE9wZW5DcmVkaXQ6ZnVuY3Rpb24oKXtcclxuXHJcbiAgICB9LFxyXG5cclxuICAgIE9wZW5TZXR0aW5nOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY2MuTWdyLkF1ZGlvTWdyLnBsYXlTRlgoXCJjbGlja1wiKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdQYW5lbC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nUGFuZWwuU2hvd1BhbmVsKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIFNoYXJlVG9GcmllbmQ6ZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNik7XHJcbiAgICAgICAgY2MuTWdyLlBsYXRmb3JtQ29udHJvbGxlci5TaGFyZVRvRnJpZW5kKGluZGV4KTtcclxuICAgIH0sXHJcblxyXG4gICAgQ2hhbmdlTmFtZTpmdW5jdGlvbigpe1xyXG4gICAgICAgIGNjLk1nci5QbGF0Zm9ybUNvbnRyb2xsZXIuSW5pdFJhbmROaWNrTmFtZSgpO1xyXG4gICAgICAgIHRoaXMuTmFtZUxibC5zdHJpbmcgPSBjYy5NZ3IuUGxhdGZvcm1Db250cm9sbGVyLm5pY2tOYW1lO1xyXG4gICAgfSxcclxufSk7XHJcbiJdfQ==