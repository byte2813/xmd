
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/UI/MateItemPanel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3ddc1fmT9tNz7yE3bKf6WIK', 'MateItemPanel');
// Scripts/UI/MateItemPanel.js

"use strict";

var ItemType = require("ItemType");
var MateGetType = require("MateGetType");
var MateBonusType = require("MateBonusType");
var MateItemPanel = cc.Class({
  "extends": cc.Component,
  properties: {
    Atlas: cc.SpriteAtlas,
    cost: cc.Integer,
    nameLbl: cc.Sprite,
    iconSp: cc.Sprite,
    desLbl: cc.Label,
    MarryCond: cc.Node,
    MarryCondLbl: cc.Label,
    Id: cc.Integer,
    LovePoint: cc.Integer,
    PdesLbl: cc.Label
  },
  ShowPanel: function ShowPanel(data) {
    this.Id = data.Id;
    this.LovePoint = data.LovePoint;
    this.iconSp.spriteFrame = this.Atlas.getSpriteFrame(data.icon);
    //this.nameLbl.string = data.name;
    var mateData = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Mate, data.Id);
    var lovePointList = mateData.lovePointList;
    var index = 0;
    for (var i = lovePointList.length - 1; i >= 0; i--) {
      if (lovePointList[i].curLevel == data.curLevel) {
        index = i;
        break;
      }
    }
    var idex = 1 + Math.floor(Math.random() * 6);
    this.PdesLbl.string = cc.Mgr.global.getTranslation("date_" + this.Id);
    this.cost = lovePointList[index].cost - Math.floor(lovePointList[index].cost * cc.Mgr.UserDataMgr.DateMoneyBonus);
    this.desLbl.string = this.cost;
    this.MarryCond.active = true;
    if (this.LovePoint == 99) {
      var DD = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Mate, this.Id);
      this.PdesLbl.string = "结婚后:" + this.getMateBonusDes();
      this.MarryCondLbl.string = this.getUnlockTypes(DD.getCondList);
    } else {
      this.MarryCondLbl.string = "亲密度达到99显示";
    }
  },
  ClosePanel: function ClosePanel() {
    cc.Mgr.AudioMgr.playSFX("click");
    this.node.active = false;
  },
  getMateBonusDes: function getMateBonusDes() {
    var bonusList = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Mate, this.Id).bonusList;
    var str = "";
    for (var i = 0; i < bonusList.length; i++) {
      switch (bonusList[i].bonusType) {
        case MateBonusType.HP:
          if (bonusList[i].bonusNum > 0) str = str + " " + "每年健康:+" + bonusList[i].bonusNum;else str = str + " " + "每年健康:" + bonusList[i].bonusNum;
          break;
        case MateBonusType.Reputation:
          str = str + " " + "每年名声:+" + bonusList[i].bonusNum;
          break;
        case MateBonusType.Money:
          str = str + " " + "每年现金:+" + bonusList[i].bonusNum;
          break;
        case MateBonusType.WareHouseCapcity:
          str = str + " " + "仓储:+" + bonusList[i].bonusNum;
          break;
        case MateBonusType.Treat:
          str = str + " " + "治疗降费:" + bonusList[i].bonusNum * 100 + "%";
          break;
      }
    }
    return str;
  },
  //约起来
  DateClick: function DateClick() {
    var flag = cc.Mgr.UserDataMgr.JudeHasAnyMate();
    if (flag && this.LovePoint == 99) {
      cc.Mgr.AudioMgr.playSFX("click");
      var param = {};
      var seed = Math.floor(Math.random() * 2);
      param.text = cc.Mgr.global.getTranslation("HasMarray_" + seed);
      cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCommonTip, param);
      return;
    }
    if (cc.Mgr.UserDataMgr.Cash < this.cost) {
      cc.Mgr.AudioMgr.playSFX("click");
      var param = {};
      var seed = Math.floor(Math.random() * 2);
      param.text = cc.Mgr.global.getTranslation("NoMoneyDate_" + seed);
      cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCommonTip, param);
      return;
    }
    var DD = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Mate, this.Id);
    var result = this.JudeCanMarry(DD.getCondList);
    if (this.LovePoint == 99 && !result.canMarry) {
      cc.Mgr.AudioMgr.playSFX("click");
      var param = {};
      var des = "";
      //cc.log("=======================" + result.desList.length);
      for (var i = 0; i < result.desList.length; i++) {
        des = des + "\n" + cc.Mgr.global.getTranslation("MateMarryCond_" + this.Id);
      }
      param.text = des;
      cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCommonTip, param);
    } else {
      cc.Mgr.UserDataMgr.Cash -= this.cost;
      var outpar = cc.Mgr.UserDataMgr.RefreshMateData(this.Id);
      if (outpar.isFull == true) {
        var bonusList = DD.bonusList;
        this.getBonus(bonusList);
        //var param = {};
        //param.text = cc.Mgr.global.getTranslation("MarryTxt_" + cc.Mgr.UserDataMgr.Sex);
        cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenMarry, DD);
      } else {
        var seed = Math.floor(Math.random() * 6);
        var param = {};
        param.forWhat = "DateLater";
        param.text = cc.Mgr.global.getTranslation("DateOut_" + seed) + "\n" + "<color=#e77122>亲密度达到:" + outpar.LovePoint + "</c>";
        cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCommonTip, param);
      }
      var dt = {};
      dt.Id = this.Id;
      cc.director.GlobalEvent.emit(cc.Mgr.Event.DateSuccess, dt);
      this.ClosePanel();
    }
  },
  JudeCanMarry: function JudeCanMarry(getCondList) {
    var canMarry = false;
    var result = {};
    var txt = [];
    for (var i = 0; i < getCondList.length; i++) {
      var cond = getCondList[i];
      switch (cond.unlockType) {
        case MateGetType.Money:
          canMarry = true;
          break;
        case MateGetType.House:
          canMarry = cc.Mgr.UserDataMgr.JudeHasHouse(cond.value);
          break;
        case MateGetType.Car:
          canMarry = cc.Mgr.UserDataMgr.JudeHasCar(cond.value);
          break;
        case MateGetType.Asset:
          canMarry = cc.Mgr.UserDataMgr.JudeAsset(cond.value);
          break;
        case MateGetType.Reputation:
          canMarry = cc.Mgr.UserDataMgr.JudeReputation(cond.value);
          break;
        case MateGetType.HP:
          canMarry = cc.Mgr.UserDataMgr.JudeHpPoint(cond.value);
          break;
        case MateGetType.Company:
          canMarry = cc.Mgr.UserDataMgr.JudeHasCompany();
          break;
      }
      if (canMarry == false) {
        txt.push(cond.unlockType);
        result.canMarry = canMarry;
        result.desList = txt;
        return result;
        break;
      }
    }
    result.canMarry = canMarry;
    result.desList = txt;
    return result;
  },
  getUnlockTypes: function getUnlockTypes(getCondList) {
    var txt = "";
    for (var i = 0; i < getCondList.length; i++) {
      var cond = getCondList[i];
      txt += this.getCondDes(cond.unlockType, cond.value) + " ";
    }
    return txt;
  },
  getCondDes: function getCondDes(type, value) {
    var txt = "";
    if (value == 0) {
      switch (type) {
        case MateGetType.Money:
          txt = "腰缠万贯";
          break;
        case MateGetType.House:
          txt = "房子一套";
          break;
        case MateGetType.Car:
          txt = "小车一辆";
          break;
        case MateGetType.Asset:
          txt = "资产百万";
          break;
        case MateGetType.Reputation:
          txt = "声名鹊起";
          break;
        case MateGetType.HP:
          txt = "身体健康";
          break;
        case MateGetType.Company:
          txt = "拥有任意一家公司";
          break;
      }
    } else {
      switch (type) {
        case MateGetType.Money:
          txt = "现金" + value;
          break;
        case MateGetType.House:
          var DD = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.House, value);
          txt = DD.name + "一套";
          break;
        case MateGetType.Car:
          var DD = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Car, value);
          txt = DD.name + "一辆";
          break;
        case MateGetType.Asset:
          txt = "资产达到:" + value;
          break;
        case MateGetType.Reputation:
          txt = "名声达到:" + value;
          break;
        case MateGetType.HP:
          txt = "健康值达到:" + value;
          break;
        case MateGetType.Company:
          var DD = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Company, value);
          txt = DD.name + "一家";
          break;
      }
    }
    return txt;
  },
  getBonus: function getBonus(bonusList) {
    cc.Mgr.UserDataMgr.getMateBonusReward(bonusList);
  }
});
module.exports = MateItemPanel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcVUlcXE1hdGVJdGVtUGFuZWwuanMiXSwibmFtZXMiOlsiSXRlbVR5cGUiLCJyZXF1aXJlIiwiTWF0ZUdldFR5cGUiLCJNYXRlQm9udXNUeXBlIiwiTWF0ZUl0ZW1QYW5lbCIsImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwiQXRsYXMiLCJTcHJpdGVBdGxhcyIsImNvc3QiLCJJbnRlZ2VyIiwibmFtZUxibCIsIlNwcml0ZSIsImljb25TcCIsImRlc0xibCIsIkxhYmVsIiwiTWFycnlDb25kIiwiTm9kZSIsIk1hcnJ5Q29uZExibCIsIklkIiwiTG92ZVBvaW50IiwiUGRlc0xibCIsIlNob3dQYW5lbCIsImRhdGEiLCJzcHJpdGVGcmFtZSIsImdldFNwcml0ZUZyYW1lIiwiaWNvbiIsIm1hdGVEYXRhIiwiTWdyIiwiTWFwRGF0YU1nciIsImdldERhdGFCeUl0ZW1UeXBlQW5kSWQiLCJNYXRlIiwibG92ZVBvaW50TGlzdCIsImluZGV4IiwiaSIsImxlbmd0aCIsImN1ckxldmVsIiwiaWRleCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInN0cmluZyIsImdsb2JhbCIsImdldFRyYW5zbGF0aW9uIiwiVXNlckRhdGFNZ3IiLCJEYXRlTW9uZXlCb251cyIsImFjdGl2ZSIsIkREIiwiZ2V0TWF0ZUJvbnVzRGVzIiwiZ2V0VW5sb2NrVHlwZXMiLCJnZXRDb25kTGlzdCIsIkNsb3NlUGFuZWwiLCJBdWRpb01nciIsInBsYXlTRlgiLCJub2RlIiwiYm9udXNMaXN0Iiwic3RyIiwiYm9udXNUeXBlIiwiSFAiLCJib251c051bSIsIlJlcHV0YXRpb24iLCJNb25leSIsIldhcmVIb3VzZUNhcGNpdHkiLCJUcmVhdCIsIkRhdGVDbGljayIsImZsYWciLCJKdWRlSGFzQW55TWF0ZSIsInBhcmFtIiwic2VlZCIsInRleHQiLCJkaXJlY3RvciIsIkdsb2JhbEV2ZW50IiwiZW1pdCIsIkV2ZW50IiwiT3BlbkNvbW1vblRpcCIsIkNhc2giLCJyZXN1bHQiLCJKdWRlQ2FuTWFycnkiLCJjYW5NYXJyeSIsImRlcyIsImRlc0xpc3QiLCJvdXRwYXIiLCJSZWZyZXNoTWF0ZURhdGEiLCJpc0Z1bGwiLCJnZXRCb251cyIsIk9wZW5NYXJyeSIsImZvcldoYXQiLCJkdCIsIkRhdGVTdWNjZXNzIiwidHh0IiwiY29uZCIsInVubG9ja1R5cGUiLCJIb3VzZSIsIkp1ZGVIYXNIb3VzZSIsInZhbHVlIiwiQ2FyIiwiSnVkZUhhc0NhciIsIkFzc2V0IiwiSnVkZUFzc2V0IiwiSnVkZVJlcHV0YXRpb24iLCJKdWRlSHBQb2ludCIsIkNvbXBhbnkiLCJKdWRlSGFzQ29tcGFueSIsInB1c2giLCJnZXRDb25kRGVzIiwidHlwZSIsIm5hbWUiLCJnZXRNYXRlQm9udXNSZXdhcmQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNsQyxJQUFJQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyxhQUFhLENBQUM7QUFDeEMsSUFBSUUsYUFBYSxHQUFHRixPQUFPLENBQUMsZUFBZSxDQUFDO0FBQzVDLElBQUlHLGFBQWEsR0FBR0MsRUFBRSxDQUFDQyxLQUFLLENBQUM7RUFDekIsV0FBU0QsRUFBRSxDQUFDRSxTQUFTO0VBRXJCQyxVQUFVLEVBQUU7SUFDUkMsS0FBSyxFQUFDSixFQUFFLENBQUNLLFdBQVc7SUFDcEJDLElBQUksRUFBQ04sRUFBRSxDQUFDTyxPQUFPO0lBQ2ZDLE9BQU8sRUFBQ1IsRUFBRSxDQUFDUyxNQUFNO0lBQ2pCQyxNQUFNLEVBQUNWLEVBQUUsQ0FBQ1MsTUFBTTtJQUNoQkUsTUFBTSxFQUFDWCxFQUFFLENBQUNZLEtBQUs7SUFDZkMsU0FBUyxFQUFDYixFQUFFLENBQUNjLElBQUk7SUFDakJDLFlBQVksRUFBQ2YsRUFBRSxDQUFDWSxLQUFLO0lBQ3JCSSxFQUFFLEVBQUNoQixFQUFFLENBQUNPLE9BQU87SUFDYlUsU0FB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ZVwiKTtcclxudmFyIE1hdGVHZXRUeXBlID0gcmVxdWlyZShcIk1hdGVHZXRUeXBlXCIpO1xyXG52YXIgTWF0ZUJvbnVzVHlwZSA9IHJlcXVpcmUoXCJNYXRlQm9udXNUeXBlXCIpO1xyXG52YXIgTWF0ZUl0ZW1QYW5lbCA9IGNjLkNsYXNzKHtcclxuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgQXRsYXM6Y2MuU3ByaXRlQXRsYXMsXHJcbiAgICAgICAgY29zdDpjYy5JbnRlZ2VyLFxyXG4gICAgICAgIG5hbWVMYmw6Y2MuU3ByaXRlLFxyXG4gICAgICAgIGljb25TcDpjYy5TcHJpdGUsXHJcbiAgICAgICAgZGVzTGJsOmNjLkxhYmVsLFxyXG4gICAgICAgIE1hcnJ5Q29uZDpjYy5Ob2RlLFxyXG4gICAgICAgIE1hcnJ5Q29uZExibDpjYy5MYWJlbCxcclxuICAgICAgICBJZDpjYy5JbnRlZ2VyLFxyXG4gICAgICAgIExvdmVQb2ludDpjYy5JbnRlZ2VyLFxyXG4gICAgICAgIFBkZXNMYmw6Y2MuTGFiZWwsXHJcbiAgICB9LFxyXG5cclxuICAgIFNob3dQYW5lbDpmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgXHR0aGlzLklkID0gZGF0YS5JZDtcclxuICAgICAgICB0aGlzLkxvdmVQb2ludCA9IGRhdGEuTG92ZVBvaW50O1xyXG4gICAgXHR0aGlzLmljb25TcC5zcHJpdGVGcmFtZSA9IHRoaXMuQXRsYXMuZ2V0U3ByaXRlRnJhbWUoZGF0YS5pY29uKTtcclxuICAgIFx0Ly90aGlzLm5hbWVMYmwuc3RyaW5nID0gZGF0YS5uYW1lO1xyXG4gICAgXHR2YXIgbWF0ZURhdGEgPSBjYy5NZ3IuTWFwRGF0YU1nci5nZXREYXRhQnlJdGVtVHlwZUFuZElkKEl0ZW1UeXBlLk1hdGUsIGRhdGEuSWQpO1xyXG4gICAgXHR2YXIgbG92ZVBvaW50TGlzdCA9IG1hdGVEYXRhLmxvdmVQb2ludExpc3Q7XHJcbiAgICBcdHZhciBpbmRleCA9IDA7XHJcbiAgICBcdGZvciAodmFyIGkgPSBsb3ZlUG9pbnRMaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICBcdFx0aWYobG92ZVBvaW50TGlzdFtpXS5jdXJMZXZlbCA9PSBkYXRhLmN1ckxldmVsKVxyXG4gICAgXHRcdHtcclxuICAgIFx0XHRcdGluZGV4ID0gaTtcclxuICAgIFx0XHRcdGJyZWFrO1xyXG4gICAgXHRcdH1cclxuICAgIFx0fVxyXG4gICAgICAgIHZhciBpZGV4ID0gMSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDYpO1xyXG4gICAgICAgIHRoaXMuUGRlc0xibC5zdHJpbmcgPSBjYy5NZ3IuZ2xvYmFsLmdldFRyYW5zbGF0aW9uKFwiZGF0ZV9cIit0aGlzLklkKTtcclxuICAgICAgICB0aGlzLmNvc3QgPSBsb3ZlUG9pbnRMaXN0W2luZGV4XS5jb3N0IC0gTWF0aC5mbG9vcihsb3ZlUG9pbnRMaXN0W2luZGV4XS5jb3N0ICogY2MuTWdyLlVzZXJEYXRhTWdyLkRhdGVNb25leUJvbnVzKTtcclxuICAgIFx0dGhpcy5kZXNMYmwuc3RyaW5nID0gdGhpcy5jb3N0O1xyXG5cclxuICAgICAgICB0aGlzLk1hcnJ5Q29uZC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGlmKHRoaXMuTG92ZVBvaW50ID09IDk5KVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIEREID0gY2MuTWdyLk1hcERhdGFNZ3IuZ2V0RGF0YUJ5SXRlbVR5cGVBbmRJZChJdGVtVHlwZS5NYXRlLCB0aGlzLklkKTtcclxuICAgICAgICAgICAgdGhpcy5QZGVzTGJsLnN0cmluZyA9IFwi57uT5ama5ZCOOlwiK3RoaXMuZ2V0TWF0ZUJvbnVzRGVzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuTWFycnlDb25kTGJsLnN0cmluZyA9IHRoaXMuZ2V0VW5sb2NrVHlwZXMoREQuZ2V0Q29uZExpc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLk1hcnJ5Q29uZExibC5zdHJpbmcgPSBcIuS6suWvhuW6pui+vuWIsDk55pi+56S6XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBDbG9zZVBhbmVsOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY2MuTWdyLkF1ZGlvTWdyLnBsYXlTRlgoXCJjbGlja1wiKTtcclxuICAgIFx0dGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICBnZXRNYXRlQm9udXNEZXM6ZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBib251c0xpc3QgPSBjYy5NZ3IuTWFwRGF0YU1nci5nZXREYXRhQnlJdGVtVHlwZUFuZElkKEl0ZW1UeXBlLk1hdGUgLHRoaXMuSWQpLmJvbnVzTGlzdDtcclxuICAgICAgICB2YXIgc3RyID0gXCJcIjtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvbnVzTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzd2l0Y2goYm9udXNMaXN0W2ldLmJvbnVzVHlwZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNYXRlQm9udXNUeXBlLkhQOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGJvbnVzTGlzdFtpXS5ib251c051bT4wKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIrXCIgXCIgKyBcIuavj+W5tOWBpeW6tzorXCIgKyBib251c0xpc3RbaV0uYm9udXNOdW07XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBzdHIrXCIgXCIgKyBcIuavj+W5tOWBpeW6tzpcIiArIGJvbnVzTGlzdFtpXS5ib251c051bTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTWF0ZUJvbnVzVHlwZS5SZXB1dGF0aW9uOlxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0citcIiBcIiAgKyBcIuavj+W5tOWQjeWjsDorXCIgKyBib251c0xpc3RbaV0uYm9udXNOdW07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1hdGVCb251c1R5cGUuTW9uZXk6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyK1wiIFwiICArIFwi5q+P5bm0546w6YeROitcIiArIGJvbnVzTGlzdFtpXS5ib251c051bTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTWF0ZUJvbnVzVHlwZS5XYXJlSG91c2VDYXBjaXR5OlxyXG4gICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0citcIiBcIiAgKyBcIuS7k+WCqDorXCIgKyBib251c0xpc3RbaV0uYm9udXNOdW07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1hdGVCb251c1R5cGUuVHJlYXQ6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyK1wiIFwiICArIFwi5rK755aX6ZmN6LS5OlwiICsgYm9udXNMaXN0W2ldLmJvbnVzTnVtKjEwMCArIFwiJVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9LFxyXG5cclxuICAgIC8v57qm6LW35p2lXHJcbiAgICBEYXRlQ2xpY2s6ZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgZmxhZyA9IGNjLk1nci5Vc2VyRGF0YU1nci5KdWRlSGFzQW55TWF0ZSgpO1xyXG4gICAgICAgIGlmKGZsYWcgJiYgdGhpcy5Mb3ZlUG9pbnQgPT0gOTkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjYy5NZ3IuQXVkaW9NZ3IucGxheVNGWChcImNsaWNrXCIpO1xyXG4gICAgICAgICAgICB2YXIgcGFyYW0gPSB7fTtcclxuICAgICAgICAgICAgdmFyIHNlZWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKTtcclxuICAgICAgICAgICAgcGFyYW0udGV4dCA9IGNjLk1nci5nbG9iYWwuZ2V0VHJhbnNsYXRpb24oXCJIYXNNYXJyYXlfXCIgKyBzZWVkKTtcclxuICAgICAgICAgICAgY2MuZGlyZWN0b3IuR2xvYmFsRXZlbnQuZW1pdChjYy5NZ3IuRXZlbnQuT3BlbkNvbW1vblRpcCwgcGFyYW0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgIFx0aWYoY2MuTWdyLlVzZXJEYXRhTWdyLkNhc2ggPCB0aGlzLmNvc3QpXHJcbiAgICBcdHtcclxuICAgICAgICAgICAgY2MuTWdyLkF1ZGlvTWdyLnBsYXlTRlgoXCJjbGlja1wiKTtcclxuICAgIFx0XHR2YXIgcGFyYW0gPSB7fTtcclxuICAgICAgICAgICAgdmFyIHNlZWQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyKTtcclxuICAgIFx0XHRwYXJhbS50ZXh0ID0gY2MuTWdyLmdsb2JhbC5nZXRUcmFuc2xhdGlvbihcIk5vTW9uZXlEYXRlX1wiICsgc2VlZCk7XHJcbiAgICBcdFx0Y2MuZGlyZWN0b3IuR2xvYmFsRXZlbnQuZW1pdChjYy5NZ3IuRXZlbnQuT3BlbkNvbW1vblRpcCwgcGFyYW0pO1xyXG4gICAgXHRcdHJldHVybjtcclxuICAgIFx0fVxyXG5cclxuICAgICAgICB2YXIgREQgPSBjYy5NZ3IuTWFwRGF0YU1nci5nZXREYXRhQnlJdGVtVHlwZUFuZElkKEl0ZW1UeXBlLk1hdGUsIHRoaXMuSWQpO1xyXG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLkp1ZGVDYW5NYXJyeShERC5nZXRDb25kTGlzdCk7XHJcbiAgICAgICAgaWYodGhpcy5Mb3ZlUG9pbnQgPT0gOTkgJiYgIXJlc3VsdC5jYW5NYXJyeSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNjLk1nci5BdWRpb01nci5wbGF5U0ZYKFwiY2xpY2tcIik7XHJcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IHt9O1xyXG4gICAgICAgICAgICB2YXIgZGVzID0gXCJcIjtcclxuICAgICAgICAgICAgLy9jYy5sb2coXCI9PT09PT09PT09PT09PT09PT09PT09PVwiICsgcmVzdWx0LmRlc0xpc3QubGVuZ3RoKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQuZGVzTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZGVzID0gZGVzK1wiXFxuXCIgKyBjYy5NZ3IuZ2xvYmFsLmdldFRyYW5zbGF0aW9uKFwiTWF0ZU1hcnJ5Q29uZF9cIiArIHRoaXMuSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhcmFtLnRleHQgPSBkZXM7XHJcbiAgICAgICAgICAgIGNjLmRpcmVjdG9yLkdsb2JhbEV2ZW50LmVtaXQoY2MuTWdyLkV2ZW50Lk9wZW5Db21tb25UaXAsIHBhcmFtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY2MuTWdyLlVzZXJEYXRhTWdyLkNhc2ggLT0gdGhpcy5jb3N0O1xyXG4gICAgICAgICAgICB2YXIgb3V0cGFyID0gY2MuTWdyLlVzZXJEYXRhTWdyLlJlZnJlc2hNYXRlRGF0YSh0aGlzLklkKTtcclxuICAgICAgICAgICAgaWYob3V0cGFyLmlzRnVsbCA9PSB0cnVlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm9udXNMaXN0ID0gREQuYm9udXNMaXN0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRCb251cyhib251c0xpc3QpO1xyXG4gICAgICAgICAgICAgICAgLy92YXIgcGFyYW0gPSB7fTtcclxuICAgICAgICAgICAgICAgIC8vcGFyYW0udGV4dCA9IGNjLk1nci5nbG9iYWwuZ2V0VHJhbnNsYXRpb24oXCJNYXJyeVR4dF9cIiArIGNjLk1nci5Vc2VyRGF0YU1nci5TZXgpO1xyXG4gICAgICAgICAgICAgICAgY2MuZGlyZWN0b3IuR2xvYmFsRXZlbnQuZW1pdChjYy5NZ3IuRXZlbnQuT3Blbk1hcnJ5LCBERCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VlZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDYpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtID0ge307XHJcbiAgICAgICAgICAgICAgICBwYXJhbS5mb3JXaGF0ID0gXCJEYXRlTGF0ZXJcIjtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnRleHQgPSBjYy5NZ3IuZ2xvYmFsLmdldFRyYW5zbGF0aW9uKFwiRGF0ZU91dF9cIiArIHNlZWQpICsgXCJcXG5cIiArIFwiPGNvbG9yPSNlNzcxMjI+5Lqy5a+G5bqm6L6+5YiwOlwiKyBvdXRwYXIuTG92ZVBvaW50K1wiPC9jPlwiO1xyXG4gICAgICAgICAgICAgICAgY2MuZGlyZWN0b3IuR2xvYmFsRXZlbnQuZW1pdChjYy5NZ3IuRXZlbnQuT3BlbkNvbW1vblRpcCwgcGFyYW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBkdCA9IHt9O1xyXG4gICAgICAgICAgICBkdC5JZCA9IHRoaXMuSWQ7XHJcbiAgICAgICAgICAgIGNjLmRpcmVjdG9yLkdsb2JhbEV2ZW50LmVtaXQoY2MuTWdyLkV2ZW50LkRhdGVTdWNjZXNzLCBkdCk7XHJcbiAgICAgICAgICAgIHRoaXMuQ2xvc2VQYW5lbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgSnVkZUNhbk1hcnJ5OmZ1bmN0aW9uKGdldENvbmRMaXN0KXtcclxuICAgICAgICB2YXIgY2FuTWFycnkgPSBmYWxzZTtcclxuICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICAgICAgdmFyIHR4dCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2V0Q29uZExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGNvbmQgPSBnZXRDb25kTGlzdFtpXTtcclxuICAgICAgICAgICAgc3dpdGNoIChjb25kLnVubG9ja1R5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgTWF0ZUdldFR5cGUuTW9uZXk6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FuTWFycnkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNYXRlR2V0VHlwZS5Ib3VzZTpcclxuICAgICAgICAgICAgICAgICAgICBjYW5NYXJyeSA9IGNjLk1nci5Vc2VyRGF0YU1nci5KdWRlSGFzSG91c2UoY29uZC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1hdGVHZXRUeXBlLkNhcjpcclxuICAgICAgICAgICAgICAgICAgICBjYW5NYXJyeSA9IGNjLk1nci5Vc2VyRGF0YU1nci5KdWRlSGFzQ2FyKGNvbmQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNYXRlR2V0VHlwZS5Bc3NldDpcclxuICAgICAgICAgICAgICAgICAgICBjYW5NYXJyeSA9IGNjLk1nci5Vc2VyRGF0YU1nci5KdWRlQXNzZXQoY29uZC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1hdGVHZXRUeXBlLlJlcHV0YXRpb246XHJcbiAgICAgICAgICAgICAgICAgICAgY2FuTWFycnkgPSBjYy5NZ3IuVXNlckRhdGFNZ3IuSnVkZVJlcHV0YXRpb24oY29uZC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE1hdGVHZXRUeXBlLkhQOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhbk1hcnJ5ID0gY2MuTWdyLlVzZXJEYXRhTWdyLkp1ZGVIcFBvaW50KGNvbmQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBNYXRlR2V0VHlwZS5Db21wYW55OlxyXG4gICAgICAgICAgICAgICAgICAgIGNhbk1hcnJ5ID0gY2MuTWdyLlVzZXJEYXRhTWdyLkp1ZGVIYXNDb21wYW55KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKGNhbk1hcnJ5ID09IGZhbHNlKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0eHQucHVzaChjb25kLnVubG9ja1R5cGUpO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LmNhbk1hcnJ5ID0gY2FuTWFycnk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQuZGVzTGlzdCA9IHR4dDtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXN1bHQuY2FuTWFycnkgPSBjYW5NYXJyeTtcclxuICAgICAgICByZXN1bHQuZGVzTGlzdCA9IHR4dDtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfSxcclxuXHJcbiAgICBnZXRVbmxvY2tUeXBlczpmdW5jdGlvbihnZXRDb25kTGlzdClcclxuICAgIHtcclxuICAgICAgICB2YXIgdHh0ID0gXCJcIjtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdldENvbmRMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjb25kID0gZ2V0Q29uZExpc3RbaV07XHJcbiAgICAgICAgICAgIHR4dCArPSB0aGlzLmdldENvbmREZXMoY29uZC51bmxvY2tUeXBlLCBjb25kLnZhbHVlKSArIFwiIFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHh0O1xyXG4gICAgfSxcclxuXHJcbiAgICBnZXRDb25kRGVzOmZ1bmN0aW9uKHR5cGUsIHZhbHVlKVxyXG4gICAge1xyXG4gICAgICAgIHZhciB0eHQgPSBcIlwiO1xyXG4gICAgICAgIGlmKHZhbHVlID09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBNYXRlR2V0VHlwZS5Nb25leTpcclxuICAgICAgICAgICAgICAgIHR4dCA9IFwi6IWw57yg5LiH6LSvXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBNYXRlR2V0VHlwZS5Ib3VzZTpcclxuICAgICAgICAgICAgICAgIHR4dCA9IFwi5oi/5a2Q5LiA5aWXXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBNYXRlR2V0VHlwZS5DYXI6XHJcbiAgICAgICAgICAgICAgICB0eHQgPSBcIuWwj+i9puS4gOi+hlwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTWF0ZUdldFR5cGUuQXNzZXQ6XHJcbiAgICAgICAgICAgICAgICB0eHQgPSBcIui1hOS6p+eZvuS4h1wiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTWF0ZUdldFR5cGUuUmVwdXRhdGlvbjpcclxuICAgICAgICAgICAgICAgIHR4dCA9IFwi5aOw5ZCN6bmK6LW3XCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBNYXRlR2V0VHlwZS5IUDpcclxuICAgICAgICAgICAgICAgIHR4dCA9IFwi6Lqr5L2T5YGl5bq3XCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBNYXRlR2V0VHlwZS5Db21wYW55OlxyXG4gICAgICAgICAgICAgICAgdHh0ID0gXCLmi6XmnInku7vmhI/kuIDlrrblhazlj7hcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIE1hdGVHZXRUeXBlLk1vbmV5OlxyXG4gICAgICAgICAgICAgICAgdHh0ID0gXCLnjrDph5FcIit2YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIE1hdGVHZXRUeXBlLkhvdXNlOlxyXG4gICAgICAgICAgICAgICAgdmFyIEREID0gY2MuTWdyLk1hcERhdGFNZ3IuZ2V0RGF0YUJ5SXRlbVR5cGVBbmRJZChJdGVtVHlwZS5Ib3VzZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdHh0ID0gREQubmFtZSArIFwi5LiA5aWXXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBNYXRlR2V0VHlwZS5DYXI6XHJcbiAgICAgICAgICAgICAgICB2YXIgREQgPSBjYy5NZ3IuTWFwRGF0YU1nci5nZXREYXRhQnlJdGVtVHlwZUFuZElkKEl0ZW1UeXBlLkNhciwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdHh0ID0gREQubmFtZSArIFwi5LiA6L6GXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBNYXRlR2V0VHlwZS5Bc3NldDpcclxuICAgICAgICAgICAgICAgIHR4dCA9IFwi6LWE5Lqn6L6+5YiwOlwiK3ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTWF0ZUdldFR5cGUuUmVwdXRhdGlvbjpcclxuICAgICAgICAgICAgICAgIHR4dCA9IFwi5ZCN5aOw6L6+5YiwOlwiK3ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgTWF0ZUdldFR5cGUuSFA6XHJcbiAgICAgICAgICAgICAgICB0eHQgPSBcIuWBpeW6t+WAvOi+vuWIsDpcIit2YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIE1hdGVHZXRUeXBlLkNvbXBhbnk6XHJcbiAgICAgICAgICAgICAgICB2YXIgREQgPSBjYy5NZ3IuTWFwRGF0YU1nci5nZXREYXRhQnlJdGVtVHlwZUFuZElkKEl0ZW1UeXBlLkNvbXBhbnksIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHR4dCA9IERELm5hbWUgKyBcIuS4gOWutlwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IFxyXG4gICAgICAgIHJldHVybiB0eHQ7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldEJvbnVzOmZ1bmN0aW9uKGJvbnVzTGlzdClcclxuICAgIHtcclxuICAgICAgICBjYy5NZ3IuVXNlckRhdGFNZ3IuZ2V0TWF0ZUJvbnVzUmV3YXJkKGJvbnVzTGlzdCk7XHJcbiAgICB9LFxyXG59KTtcclxubW9kdWxlLmV4cG9ydHMgPSBNYXRlSXRlbVBhbmVsOyJdfQ==