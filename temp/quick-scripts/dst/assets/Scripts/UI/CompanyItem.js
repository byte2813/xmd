
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Scripts/UI/CompanyItem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9e61c2yr0NJ2abO1EeVmALW', 'CompanyItem');
// Scripts/UI/CompanyItem.js

"use strict";

var ItemType = require("ItemType");
var UserState = require("UserState");
var CompanyItem = cc.Class({
  "extends": cc.Component,
  properties: {
    Id: cc.Integer,
    stockNum: cc.Integer,
    LimitYear: cc.Integer,
    Atlas: cc.SpriteAtlas,
    IconSp: cc.Sprite,
    nameLbl: cc.Sprite,
    priceLbl: cc.Label,
    costLbl: cc.Label,
    numLbl: cc.Label,
    ratioLbl: cc.Label,
    InLockLbl: cc.Label,
    CreateBtn: cc.Node,
    BuySaleBtns: cc.Node,
    canGetProfit: false,
    bankRupt: false,
    //是否已经破产

    Data: null
  },
  init: function init(data) {
    this.Data = null;
    this.Data = data;
    this.bankRupt = false;
    this.LimitYear = data.LimitYear - 1; //限制交易年限
    this.stockNum = 0;
    this.ratioLbl.string = (data.bonusRatio * 100).toString() + "%";
    this.Id = data.Id;
    this.IconSp.spriteFrame = this.Atlas.getSpriteFrame(data.icon);
    this.nameLbl.spriteFrame = this.Atlas.getSpriteFrame(data.name);
    this.costLbl.string = data.stockCost;
    this.priceLbl.string = data.stockPrice;
    this.numLbl.string = Math.floor(data.stockNum / 100);
  },
  refreshPrice: function refreshPrice() {
    var mapdata = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Company, this.Data.Id);
    var proList = mapdata.proList;
    var unList = mapdata.unList;
    var seed = Math.random();
    var stockPrice = this.Data.stockPrice;
    ////cc.log(seed + "   ++++++++++++++++++++++++++++++++++++++++++  " + proList[0].weight);

    if (this.bankRupt == true) {
      stockPrice = mapdata.inPrice;
      this.bankRupt = false;
      this.InLockLbl.node.active = false;
      this.CreateBtn.active = true;
      this.BuySaleBtns.active = false;
    } else {
      if (this.stockNum > 0)
        //只有股票 持有量大于0时才可用 计算该股票的 上涨概率加成
        {
          //cc.log("拥有这家公司时候 --刷第一个比例");
          seed += cc.Mgr.UserDataMgr.StockUpBonus / 100;
          if (seed < proList[0].weight)
            //跌
            {
              var iseed = Math.random() * (proList[0].upRatio - proList[0].lowRatio) + (1 - proList[0].upRatio);
              stockPrice = stockPrice - this.Data.stockPrice * iseed;
            } else
            //涨
            {
              var iseed = Math.random() * (proList[1].upRatio - proList[1].lowRatio) + (proList[1].lowRatio - 1);
              stockPrice = stockPrice + this.Data.stockPrice * iseed;
            }
        } else {
        //cc.log("没有这家公司时候 --刷第二个比例");
        if (seed < unList[0].weight)
          //跌
          {
            var iseed = Math.random() * (unList[0].upRatio - unList[0].lowRatio) + (1 - unList[0].upRatio);
            stockPrice = stockPrice - this.Data.stockPrice * iseed;
          } else
          //涨
          {
            var iseed = Math.random() * (unList[1].upRatio - unList[1].lowRatio) + (unList[1].lowRatio - 1);
            stockPrice = stockPrice + this.Data.stockPrice * iseed;
          }
      }
    }
    this.Data.stockPrice = Math.floor(stockPrice * 100) / 100;
    this.priceLbl.string = this.Data.stockPrice;
    this.costLbl.string = this.Data.stockCost;

    //有公司破产了
    if (this.Data.stockPrice <= this.Data.bankruptPrice) {
      this.bankRupt = true;
      this.InLockLbl.node.active = true;
      this.CreateBtn.active = false;
      this.BuySaleBtns.active = false;
      this.canGetProfit = false;
      cc.Mgr.UserDataMgr.CanGetStockProfit = false;
      this.InLockLbl.string = "该行业一片萧条";
      this.costLbl.string = "0";
      this.numLbl.string = "0";
      this.LimitYear = this.Data.LimitYear - 1;
      if (this.stockNum > 0) {
        if (cc.Mgr.UserDataMgr.BankruptAge == 0) {
          cc.Mgr.UserDataMgr.BankruptAge = cc.Mgr.UserDataMgr.Age;
        }
        cc.Mgr.UserDataMgr.Cash += Math.floor(this.Data.stockPrice * 0.5 * this.stockNum); //折半出售
        var param = {};
        param.Num = this.stockNum;
        param.price = this.stockPrice;
        param.Id = this.Data.Id;
        var reData = cc.Mgr.UserDataMgr.SaleStocks(param);
        this.stockNum = reData.stockNum;
        var param = {};
        param.forWhat = "";
        var comname = cc.Mgr.global.getTranslation("company_" + this.data.Id);
        param.text = "您创办的[" + "<color=#e77122>" + comname + "</c>" + "]由于经营不善,已破产处理,公司股票将折半价抛售";
        cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCommonTip, param);
      }
    } else {
      this.bankRupt = false;
      if (this.stockNum > 0 && this.LimitYear > 0) {
        if (this.LimitYear > 0) {
          this.LimitYear -= 1;
          this.InLockLbl.string = "创业期" + this.LimitYear + "年";
        }
        this.canGetProfit = false;
      }
      if (this.stockNum <= 0 && this.LimitYear <= 0) {
        this.InLockLbl.node.active = false;
        this.BuySaleBtns.active = false;
        this.CreateBtn.active = true;
        this.canGetProfit = false;
      } else if (this.LimitYear <= 0 && this.stockNum > 0) {
        this.InLockLbl.node.active = false;
        this.BuySaleBtns.active = true;
        this.canGetProfit = true;
      }
      var param = {};
      param.stockCost = this.Data.stockCost;
      param.stockPrice = this.Data.stockPrice;
      cc.Mgr.UserDataMgr.RefreshStockData(this.Id, param);
    }
  },
  RefreshUIShowAfter: function RefreshUIShowAfter() {
    var num = cc.Mgr.UserDataMgr.getDataByItemTypeAndId(ItemType.Company, this.Id).stockNum;
    this.numLbl.string = Math.floor(num / 100);
  },
  RefreshUIShow: function RefreshUIShow(data) {
    this.stockNum = data.stockNum;
    this.priceLbl.string = data.stockPrice.toString();
    this.costLbl.string = data.stockCost.toString();
    this.numLbl.string = Math.floor(data.stockNum / 100);
    if (data.stockNum > 0 && this.LimitYear <= 0) {
      this.InLockLbl.node.active = false;
      this.CreateBtn.active = false;
      this.BuySaleBtns.active = true;
      this.canGetProfit = true;
    } else if (data.stockNum > 0 && this.LimitYear > 0) {
      this.InLockLbl.node.active = true;
      this.CreateBtn.active = false;
      this.BuySaleBtns.active = false;
      this.canGetProfit = false;
      this.InLockLbl.string = "创业期" + this.LimitYear + "年";
    } else if (data.stockNum <= 0) {
      this.InLockLbl.node.active = false;
      this.CreateBtn.active = true;
      this.BuySaleBtns.active = false;
      this.canGetProfit = false;
      //出售完了 需要重新创办
      this.LimitYear = this.Data.LimitYear - 1;
    }
  },
  //创办公司
  OpenCompanyCreateTip: function OpenCompanyCreateTip() {
    cc.Mgr.AudioMgr.playSFX("click");
    if (cc.Mgr.UserDataMgr.userState == UserState.NotOK) {
      var param = {};
      param.text = cc.Mgr.global.getTranslation("InHealDownLine");
      cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCommonTip, param);
      return;
    }
    if (cc.Mgr.UserDataMgr.hasCompany == true) {
      var param = {};
      param.forWhat = "";
      param.text = "<color=#e77122>您已经创办一家公司</c>";
      //cc.log("===提醒下已经有一家公司在名下===");
      cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCommonTip, param);
      return;
    }
    cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCompanyCreate, this.Data);
  },
  //出售股票
  OpenStuckSaleTip: function OpenStuckSaleTip() {
    cc.Mgr.AudioMgr.playSFX("click");
    if (cc.Mgr.UserDataMgr.userState == UserState.NotOK) {
      var param = {};
      param.text = cc.Mgr.global.getTranslation("InHealDownLine");
      cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCommonTip, param);
      return;
    }
    cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenStuckSaleTip, this.Data);
  },
  //购入股票
  OpenStuckBuyTip: function OpenStuckBuyTip() {
    cc.Mgr.AudioMgr.playSFX("click");
    if (cc.Mgr.UserDataMgr.userState == UserState.NotOK) {
      var param = {};
      param.text = cc.Mgr.global.getTranslation("InHealDownLine");
      cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCommonTip, param);
      return;
    }
    cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenStuckBuyTip, this.Data);
  }
});
module.exports = CompanyItem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0c1xcVUlcXENvbXBhbnlJdGVtLmpzIl0sIm5hbWVzIjpbIkl0ZW1UeXBlIiwicmVxdWlyZSIsIlVzZXJTdGF0ZSIsIkNvbXBhbnlJdGVtIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJJZCIsIkludGVnZXIiLCJzdG9ja051bSIsIkxpbWl0WWVhciIsIkF0bGFzIiwiU3ByaXRlQXRsYXMiLCJJY29uU3AiLCJTcHJpdGUiLCJuYW1lTGJsIiwicHJpY2VMYmwiLCJMYWJlbCIsImNvc3RMYmwiLCJudW1MYmwiLCJyYXRpb0xibCIsIkluTG9ja0xibCIsIkNyZWF0ZUJ0biIsIk5vZGUiLCJCdXlTYWxlQnRucyIsImNhbkdldFByb2ZpdCIsImJhbmtSdXB0IiwiRGF0YSIsImluaXQiLCJkYXRhIiwic3RyaW5nIiwiYm9udXNSYXRpbyIsInRvU3RyaW5nIiwic3ByaXRlRnJhbWUiLCJnZXRTcHJpdGVGcmFtZSIsImljb24iLCJuYW1lIiwic3RvY2tDb3N0Iiwic3RvY2tQcmljZSIsIk1hdGgiLCJmbG9vciIsInJlZnJlc2hQcmljZSIsIm1hcGRhdGEiLCJNZ3IiLCJNYXBEYXRhTWdyIiwiZ2V0RGF0YUJ5SXRlbVR5cGVBbmRJZCIsIkNvbXBhbnkiLCJwcm9MaXN0IiwidW5MaXN0Iiwic2VlZCIsInJhbmRvbSIsImluUHJpY2UiLCJub2RlIiwiYWN0aXZlIiwiVXNlckRhdGFNZ3IiLCJTdG9ja1VwQm9udXMiLCJ3ZWlnaHQiLCJpc2VlZCIsInVwUmF0aW8iLCJsb3dSYXRpbyIsImJhbmtydXB0UHJpY2UiLCJDYW5HZXRTdG9ja1Byb2ZpdCIsIkJhbmtydXB0QWdlIiwiQWdlIiwiQ2FzaCIsInBhcmFtIiwiTnVtIiwicHJpY2UiLCJyZURhdGEiLCJTYWxlU3RvY2tzIiwiZm9yV2hhdCIsImNvbW5hbWUiLCJnbG9iYWwiLCJnZXRUcmFuc2xhdGlvbiIsInRleHQiLCJkaXJlY3RvciIsIkdsb2JhbEV2ZW50IiwiZW1pdCIsIkV2ZW50IiwiT3BlbkNvbW1vblRpcCIsIlJlZnJlc2hTdG9ja0RhdGEiLCJSZWZyZXNoVUlTaG93QWZ0ZXIiLCJudW0iLCJSZWZyZXNoVUlTaG93IiwiT3BlbkNvbXBhbnlDcmVhdGVUaXAiLCJBdWRpb01nciIsInBsYXlTRlgiLCJ1c2VyU3RhdGUiLCJOb3RPSyIsImhhc0NvbXBhbnkiLCJPcGVuQ29tcGFueUNyZWF0ZSIsIk9wZW5TdHVja1NhbGVUaXAiLCJPcGVuU3R1Y2tCdXlUaXAiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUNsQyxJQUFJQyxTQUFTLEdBQUdELE9BQU8sQ0FBQyxXQUFXLENBQUM7QUFDcEMsSUFBSUUsV0FBVyxHQUFHQyxFQUFFLENBQUNDLEtBQUssQ0FBQztFQUN2QixXQUFTRCxFQUFFLENBQUNFLFNBQVM7RUFFckJDLFVBQVUsRUFBRTtJQUNSQyxFQUFFLEVBQUNKLEVBQUUsQ0FBQ0ssT0FBTztJQUNiQyxRQUFRLEVBQUNOLEVBQUUsQ0FBQ0ssT0FBTztJQUNuQkUsU0FBUyxFQUFDUCxFQUFFLENBQUNLLE9BQU87SUFFcEJHLEtBQUssRUFBQ1IsRUFBRSxDQUFDUyxXQUFXO0lBQ3BCQyxNQUFNLEVBQUNWLEVBQUUsQ0FBQ1csTUFBTTtJQUNoQkMsT0FBTyxFQUFDWixFQUFFLENBQUNXLE1BQU07SUFDakJFLFFBQVEsRUFBQ2IsRUFBRSxDQUFDYyxLQUFLO0lBQ2pCQyxPQUFPLEVBQUNmLEVBQUUsQ0FBQ2MsS0FBSztJQUNoQkUsTUFBTSxFQUFDaEIsRUFBRSxDQUFDYyxLQUFLO0lBRWZHLFFBQVEsRUFBQ2pCLEVBQUUsQ0FBQ2MsS0FBSztJQUVqQkksU0FBUyxFQUFDbEIsRUFBRSxDQUFDYyxLQUFLO0lBQ2xCSyxTQUFTLEVBQUNuQixFQUFFLENBQUNvQixJQUFJO0lBQ2pCQyxXQUFXLEVBQUNyQixFQUFFLENBQUNvQixJQUFJO0lBRW5CRSxZ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QyxHQUFHLENBQUNtQyxLQUFLLENBQUNjLGVBQWUsRUFBRSxJQUFJLENBQUNqRSxJQUFJLENBQUM7RUFDekU7QUFFSixDQUFDLENBQUM7QUFDRmtFLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHNUYsV0FBVyIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEl0ZW1UeXBlID0gcmVxdWlyZShcIkl0ZW1UeXBlXCIpO1xyXG52YXIgVXNlclN0YXRlID0gcmVxdWlyZShcIlVzZXJTdGF0ZVwiKTtcclxudmFyIENvbXBhbnlJdGVtID0gY2MuQ2xhc3Moe1xyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBJZDpjYy5JbnRlZ2VyLFxyXG4gICAgICAgIHN0b2NrTnVtOmNjLkludGVnZXIsXHJcbiAgICAgICAgTGltaXRZZWFyOmNjLkludGVnZXIsXHJcblxyXG4gICAgICAgIEF0bGFzOmNjLlNwcml0ZUF0bGFzLFxyXG4gICAgICAgIEljb25TcDpjYy5TcHJpdGUsXHJcbiAgICAgICAgbmFtZUxibDpjYy5TcHJpdGUsXHJcbiAgICAgICAgcHJpY2VMYmw6Y2MuTGFiZWwsXHJcbiAgICAgICAgY29zdExibDpjYy5MYWJlbCxcclxuICAgICAgICBudW1MYmw6Y2MuTGFiZWwsXHJcblxyXG4gICAgICAgIHJhdGlvTGJsOmNjLkxhYmVsLFxyXG5cclxuICAgICAgICBJbkxvY2tMYmw6Y2MuTGFiZWwsXHJcbiAgICAgICAgQ3JlYXRlQnRuOmNjLk5vZGUsXHJcbiAgICAgICAgQnV5U2FsZUJ0bnM6Y2MuTm9kZSxcclxuXHJcbiAgICAgICAgY2FuR2V0UHJvZml0OmZhbHNlLFxyXG5cclxuICAgICAgICBiYW5rUnVwdDpmYWxzZSwgLy/mmK/lkKblt7Lnu4/noLTkuqdcclxuXHJcbiAgICAgICAgRGF0YTpudWxsLFxyXG4gICAgfSxcclxuXHJcbiAgICBpbml0OmZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5EYXRhID0gbnVsbDtcclxuICAgICAgICB0aGlzLkRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMuYmFua1J1cHQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLkxpbWl0WWVhciA9IGRhdGEuTGltaXRZZWFyIC0gMTsgLy/pmZDliLbkuqTmmJPlubTpmZBcclxuICAgICAgICB0aGlzLnN0b2NrTnVtID0gMDtcclxuICAgICAgICB0aGlzLnJhdGlvTGJsLnN0cmluZyA9IChkYXRhLmJvbnVzUmF0aW8gKiAxMDApLnRvU3RyaW5nKCkgKyBcIiVcIjtcclxuICAgICAgICB0aGlzLklkID0gZGF0YS5JZDtcclxuICAgICAgICB0aGlzLkljb25TcC5zcHJpdGVGcmFtZSA9IHRoaXMuQXRsYXMuZ2V0U3ByaXRlRnJhbWUoZGF0YS5pY29uKTtcclxuICAgICAgICB0aGlzLm5hbWVMYmwuc3ByaXRlRnJhbWUgPSB0aGlzLkF0bGFzLmdldFNwcml0ZUZyYW1lKGRhdGEubmFtZSk7XHJcbiAgICAgICAgdGhpcy5jb3N0TGJsLnN0cmluZyA9IGRhdGEuc3RvY2tDb3N0O1xyXG4gICAgICAgIHRoaXMucHJpY2VMYmwuc3RyaW5nID0gZGF0YS5zdG9ja1ByaWNlO1xyXG4gICAgICAgIHRoaXMubnVtTGJsLnN0cmluZyA9IE1hdGguZmxvb3IoZGF0YS5zdG9ja051bSAvIDEwMCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHJlZnJlc2hQcmljZTpmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBtYXBkYXRhID0gY2MuTWdyLk1hcERhdGFNZ3IuZ2V0RGF0YUJ5SXRlbVR5cGVBbmRJZChJdGVtVHlwZS5Db21wYW55LCB0aGlzLkRhdGEuSWQpO1xyXG4gICAgICAgIHZhciBwcm9MaXN0ID0gbWFwZGF0YS5wcm9MaXN0O1xyXG4gICAgICAgIHZhciB1bkxpc3QgPSBtYXBkYXRhLnVuTGlzdDtcclxuICAgICAgICB2YXIgc2VlZCA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICAgICAgdmFyIHN0b2NrUHJpY2UgPSB0aGlzLkRhdGEuc3RvY2tQcmljZTtcclxuICAgICAgICAvLy8vY2MubG9nKHNlZWQgKyBcIiAgICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKyAgXCIgKyBwcm9MaXN0WzBdLndlaWdodCk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuYmFua1J1cHQgPT0gdHJ1ZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHN0b2NrUHJpY2UgPSBtYXBkYXRhLmluUHJpY2U7XHJcbiAgICAgICAgICAgIHRoaXMuYmFua1J1cHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5JbkxvY2tMYmwubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5DcmVhdGVCdG4uYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5CdXlTYWxlQnRucy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYodGhpcy5zdG9ja051bSA+IDApIC8v5Y+q5pyJ6IKh56WoIOaMgeaciemHj+Wkp+S6jjDml7bmiY3lj6/nlKgg6K6h566X6K+l6IKh56Wo55qEIOS4iua2qOamgueOh+WKoOaIkFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvL2NjLmxvZyhcIuaLpeaciei/meWutuWFrOWPuOaXtuWAmSAtLeWIt+esrOS4gOS4quavlOS+i1wiKTtcclxuICAgICAgICAgICAgICAgIHNlZWQgKz0gY2MuTWdyLlVzZXJEYXRhTWdyLlN0b2NrVXBCb251cyAvIDEwMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihzZWVkIDwgcHJvTGlzdFswXS53ZWlnaHQpIC8v6LeMXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzZWVkID0gTWF0aC5yYW5kb20oKSAqIChwcm9MaXN0WzBdLnVwUmF0aW8gLSBwcm9MaXN0WzBdLmxvd1JhdGlvKSArICgxLXByb0xpc3RbMF0udXBSYXRpbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvY2tQcmljZSA9IHN0b2NrUHJpY2UgLSB0aGlzLkRhdGEuc3RvY2tQcmljZSAqIGlzZWVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSAvL+a2qFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpc2VlZCA9IE1hdGgucmFuZG9tKCkgKiAocHJvTGlzdFsxXS51cFJhdGlvIC0gcHJvTGlzdFsxXS5sb3dSYXRpbykgKyAocHJvTGlzdFsxXS5sb3dSYXRpbyAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b2NrUHJpY2UgPSBzdG9ja1ByaWNlICsgdGhpcy5EYXRhLnN0b2NrUHJpY2UgKiBpc2VlZDtcclxuICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgLy9jYy5sb2coXCLmsqHmnInov5nlrrblhazlj7jml7blgJkgLS3liLfnrKzkuozkuKrmr5TkvotcIik7XHJcbiAgICAgICAgICAgICAgICBpZihzZWVkIDwgdW5MaXN0WzBdLndlaWdodCkgLy/ot4xcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNlZWQgPSBNYXRoLnJhbmRvbSgpICogKHVuTGlzdFswXS51cFJhdGlvIC0gdW5MaXN0WzBdLmxvd1JhdGlvKSArICgxIC0gdW5MaXN0WzBdLnVwUmF0aW8pO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b2NrUHJpY2UgPSBzdG9ja1ByaWNlIC0gdGhpcy5EYXRhLnN0b2NrUHJpY2UgKiBpc2VlZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgLy/mtqhcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNlZWQgPSBNYXRoLnJhbmRvbSgpICogKHVuTGlzdFsxXS51cFJhdGlvIC0gdW5MaXN0WzFdLmxvd1JhdGlvKSArICh1bkxpc3RbMV0ubG93UmF0aW8gLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBzdG9ja1ByaWNlID0gc3RvY2tQcmljZSArIHRoaXMuRGF0YS5zdG9ja1ByaWNlICogaXNlZWQ7XHJcbiAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLkRhdGEuc3RvY2tQcmljZSA9IE1hdGguZmxvb3Ioc3RvY2tQcmljZSAqIDEwMCkvMTAwO1xyXG4gICAgICAgIHRoaXMucHJpY2VMYmwuc3RyaW5nID0gdGhpcy5EYXRhLnN0b2NrUHJpY2U7XHJcbiAgICAgICAgdGhpcy5jb3N0TGJsLnN0cmluZyA9IHRoaXMuRGF0YS5zdG9ja0Nvc3Q7XHJcblxyXG4gICAgICAgIC8v5pyJ5YWs5Y+456C05Lqn5LqGXHJcbiAgICAgICAgaWYodGhpcy5EYXRhLnN0b2NrUHJpY2UgPD0gdGhpcy5EYXRhLmJhbmtydXB0UHJpY2UpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmJhbmtSdXB0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5JbkxvY2tMYmwubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLkNyZWF0ZUJ0bi5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5CdXlTYWxlQnRucy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5jYW5HZXRQcm9maXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgY2MuTWdyLlVzZXJEYXRhTWdyLkNhbkdldFN0b2NrUHJvZml0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuSW5Mb2NrTGJsLnN0cmluZyA9IFwi6K+l6KGM5Lia5LiA54mH6JCn5p2hXCI7XHJcbiAgICAgICAgICAgIHRoaXMuY29zdExibC5zdHJpbmcgPSBcIjBcIjtcclxuICAgICAgICAgICAgdGhpcy5udW1MYmwuc3RyaW5nID0gXCIwXCI7XHJcbiAgICAgICAgICAgIHRoaXMuTGltaXRZZWFyID0gdGhpcy5EYXRhLkxpbWl0WWVhciAtIDE7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLnN0b2NrTnVtID4gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYoY2MuTWdyLlVzZXJEYXRhTWdyLkJhbmtydXB0QWdlID09IDApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MuTWdyLlVzZXJEYXRhTWdyLkJhbmtydXB0QWdlID0gY2MuTWdyLlVzZXJEYXRhTWdyLkFnZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNjLk1nci5Vc2VyRGF0YU1nci5DYXNoICs9IE1hdGguZmxvb3IodGhpcy5EYXRhLnN0b2NrUHJpY2UgKiAwLjUgKiB0aGlzLnN0b2NrTnVtKTsgLy/mipjljYrlh7rllK5cclxuICAgICAgICAgICAgICAgIHZhciBwYXJhbSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uTnVtID0gdGhpcy5zdG9ja051bTtcclxuICAgICAgICAgICAgICAgIHBhcmFtLnByaWNlID0gdGhpcy5zdG9ja1ByaWNlO1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uSWQgPSB0aGlzLkRhdGEuSWQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVEYXRhID0gY2MuTWdyLlVzZXJEYXRhTWdyLlNhbGVTdG9ja3MocGFyYW0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9ja051bSA9IHJlRGF0YS5zdG9ja051bTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJhbSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgcGFyYW0uZm9yV2hhdCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tbmFtZSA9IGNjLk1nci5nbG9iYWwuZ2V0VHJhbnNsYXRpb24oXCJjb21wYW55X1wiICt0aGlzLmRhdGEuSWQpO1xyXG4gICAgICAgICAgICAgICAgcGFyYW0udGV4dCA9IFwi5oKo5Yib5Yqe55qEW1wiK1wiPGNvbG9yPSNlNzcxMjI+XCIrY29tbmFtZStcIjwvYz5cIitcIl3nlLHkuo7nu4/okKXkuI3lloQs5bey56C05Lqn5aSE55CGLOWFrOWPuOiCoeelqOWwhuaKmOWNiuS7t+aKm+WUrlwiO1xyXG4gICAgICAgICAgICAgICAgY2MuZGlyZWN0b3IuR2xvYmFsRXZlbnQuZW1pdChjYy5NZ3IuRXZlbnQuT3BlbkNvbW1vblRpcCAsIHBhcmFtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLmJhbmtSdXB0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RvY2tOdW0gPiAwICYmIHRoaXMuTGltaXRZZWFyID4gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5MaW1pdFllYXIgPiAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuTGltaXRZZWFyIC09IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5JbkxvY2tMYmwuc3RyaW5nID0gXCLliJvkuJrmnJ9cIiArIHRoaXMuTGltaXRZZWFyICsgXCLlubRcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY2FuR2V0UHJvZml0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RvY2tOdW0gPD0gMCAmJiB0aGlzLkxpbWl0WWVhciA8PSAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkluTG9ja0xibC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5CdXlTYWxlQnRucy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuQ3JlYXRlQnRuLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhbkdldFByb2ZpdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5MaW1pdFllYXIgPD0gMCAmJiB0aGlzLnN0b2NrTnVtID4gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5JbkxvY2tMYmwubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuQnV5U2FsZUJ0bnMuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FuR2V0UHJvZml0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHBhcmFtID0ge307XHJcbiAgICAgICAgICAgIHBhcmFtLnN0b2NrQ29zdCA9IHRoaXMuRGF0YS5zdG9ja0Nvc3Q7XHJcbiAgICAgICAgICAgIHBhcmFtLnN0b2NrUHJpY2UgPSB0aGlzLkRhdGEuc3RvY2tQcmljZTtcclxuICAgICAgICAgICAgY2MuTWdyLlVzZXJEYXRhTWdyLlJlZnJlc2hTdG9ja0RhdGEodGhpcy5JZCwgcGFyYW0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgUmVmcmVzaFVJU2hvd0FmdGVyOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIG51bSA9IGNjLk1nci5Vc2VyRGF0YU1nci5nZXREYXRhQnlJdGVtVHlwZUFuZElkKEl0ZW1UeXBlLkNvbXBhbnksIHRoaXMuSWQpLnN0b2NrTnVtO1xyXG4gICAgICAgIHRoaXMubnVtTGJsLnN0cmluZyA9IE1hdGguZmxvb3IobnVtIC8gMTAwKTtcclxuICAgIH0sXHJcblxyXG4gICAgUmVmcmVzaFVJU2hvdzpmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICB0aGlzLnN0b2NrTnVtID0gZGF0YS5zdG9ja051bTtcclxuXHJcbiAgICAgICAgdGhpcy5wcmljZUxibC5zdHJpbmcgPSBkYXRhLnN0b2NrUHJpY2UudG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLmNvc3RMYmwuc3RyaW5nID0gZGF0YS5zdG9ja0Nvc3QudG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLm51bUxibC5zdHJpbmcgPSBNYXRoLmZsb29yKGRhdGEuc3RvY2tOdW0gLyAxMDApO1xyXG4gICAgICAgIGlmKGRhdGEuc3RvY2tOdW0gPiAwICYmIHRoaXMuTGltaXRZZWFyIDw9IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLkluTG9ja0xibC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLkNyZWF0ZUJ0bi5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5CdXlTYWxlQnRucy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmNhbkdldFByb2ZpdCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoZGF0YS5zdG9ja051bSA+IDAgJiYgdGhpcy5MaW1pdFllYXIgPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5JbkxvY2tMYmwubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLkNyZWF0ZUJ0bi5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5CdXlTYWxlQnRucy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5jYW5HZXRQcm9maXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5JbkxvY2tMYmwuc3RyaW5nID0gXCLliJvkuJrmnJ9cIiArIHRoaXMuTGltaXRZZWFyICsgXCLlubRcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihkYXRhLnN0b2NrTnVtIDw9IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0aGlzLkluTG9ja0xibC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLkNyZWF0ZUJ0bi5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLkJ1eVNhbGVCdG5zLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmNhbkdldFByb2ZpdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvL+WHuuWUruWujOS6hiDpnIDopoHph43mlrDliJvlip5cclxuICAgICAgICAgICAgdGhpcy5MaW1pdFllYXIgPSB0aGlzLkRhdGEuTGltaXRZZWFyIC0gMTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLy/liJvlip7lhazlj7hcclxuICAgIE9wZW5Db21wYW55Q3JlYXRlVGlwOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY2MuTWdyLkF1ZGlvTWdyLnBsYXlTRlgoXCJjbGlja1wiKTtcclxuXHJcbiAgICAgICAgaWYoY2MuTWdyLlVzZXJEYXRhTWdyLnVzZXJTdGF0ZSA9PSBVc2VyU3RhdGUuTm90T0spXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgcGFyYW0gPSB7fTtcclxuICAgICAgICAgICAgcGFyYW0udGV4dCA9IGNjLk1nci5nbG9iYWwuZ2V0VHJhbnNsYXRpb24oXCJJbkhlYWxEb3duTGluZVwiKTtcclxuICAgICAgICAgICAgY2MuZGlyZWN0b3IuR2xvYmFsRXZlbnQuZW1pdChjYy5NZ3IuRXZlbnQuT3BlbkNvbW1vblRpcCwgcGFyYW0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihjYy5NZ3IuVXNlckRhdGFNZ3IuaGFzQ29tcGFueSA9PSB0cnVlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHBhcmFtID0ge307XHJcbiAgICAgICAgICAgIHBhcmFtLmZvcldoYXQgPSBcIlwiO1xyXG4gICAgICAgICAgICBwYXJhbS50ZXh0ID0gXCI8Y29sb3I9I2U3NzEyMj7mgqjlt7Lnu4/liJvlip7kuIDlrrblhazlj7g8L2M+XCI7XHJcbiAgICAgICAgICAgIC8vY2MubG9nKFwiPT095o+Q6YaS5LiL5bey57uP5pyJ5LiA5a625YWs5Y+45Zyo5ZCN5LiLPT09XCIpO1xyXG4gICAgICAgICAgICBjYy5kaXJlY3Rvci5HbG9iYWxFdmVudC5lbWl0KGNjLk1nci5FdmVudC5PcGVuQ29tbW9uVGlwLCBwYXJhbSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2MuZGlyZWN0b3IuR2xvYmFsRXZlbnQuZW1pdChjYy5NZ3IuRXZlbnQuT3BlbkNvbXBhbnlDcmVhdGUsIHRoaXMuRGF0YSk7XHJcbiAgICB9LFxyXG4gICAgLy/lh7rllK7ogqHnpahcclxuICAgIE9wZW5TdHVja1NhbGVUaXA6ZnVuY3Rpb24oKXtcclxuICAgICAgICBjYy5NZ3IuQXVkaW9NZ3IucGxheVNGWChcImNsaWNrXCIpO1xyXG5cclxuICAgICAgICBpZihjYy5NZ3IuVXNlckRhdGFNZ3IudXNlclN0YXRlID09IFVzZXJTdGF0ZS5Ob3RPSylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBwYXJhbSA9IHt9O1xyXG4gICAgICAgICAgICBwYXJhbS50ZXh0ID0gY2MuTWdyLmdsb2JhbC5nZXRUcmFuc2xhdGlvbihcIkluSGVhbERvd25MaW5lXCIpO1xyXG4gICAgICAgICAgICBjYy5kaXJlY3Rvci5HbG9iYWxFdmVudC5lbWl0KGNjLk1nci5FdmVudC5PcGVuQ29tbW9uVGlwLCBwYXJhbSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNjLmRpcmVjdG9yLkdsb2JhbEV2ZW50LmVtaXQoY2MuTWdyLkV2ZW50Lk9wZW5TdHVja1NhbGVUaXAsIHRoaXMuRGF0YSk7XHJcbiAgICB9LFxyXG4gICAgLy/otK3lhaXogqHnpahcclxuICAgIE9wZW5TdHVja0J1eVRpcDpmdW5jdGlvbigpe1xyXG4gICAgICAgIGNjLk1nci5BdWRpb01nci5wbGF5U0ZYKFwiY2xpY2tcIik7XHJcblxyXG4gICAgICAgIGlmKGNjLk1nci5Vc2VyRGF0YU1nci51c2VyU3RhdGUgPT0gVXNlclN0YXRlLk5vdE9LKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHBhcmFtID0ge307XHJcbiAgICAgICAgICAgIHBhcmFtLnRleHQgPSBjYy5NZ3IuZ2xvYmFsLmdldFRyYW5zbGF0aW9uKFwiSW5IZWFsRG93bkxpbmVcIik7XHJcbiAgICAgICAgICAgIGNjLmRpcmVjdG9yLkdsb2JhbEV2ZW50LmVtaXQoY2MuTWdyLkV2ZW50Lk9wZW5Db21tb25UaXAsIHBhcmFtKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2MuZGlyZWN0b3IuR2xvYmFsRXZlbnQuZW1pdChjYy5NZ3IuRXZlbnQuT3BlblN0dWNrQnV5VGlwLCB0aGlzLkRhdGEpO1xyXG4gICAgfSxcclxuXHJcbn0pO1xyXG5tb2R1bGUuZXhwb3J0cyA9IENvbXBhbnlJdGVtO1xyXG4iXX0=