{"version":3,"sources":["assets\\Scripts\\UI\\MarryPanel.js"],"names":["MarryPanel","cc","Class","Component","properties","RoleAtlas","SpriteAtlas","roleSp","Sprite","TipLbl","Label","MarryLbl1","MarryLbl2","ShowPanel","data","Mgr","UserDataMgr","MarryAge","MarryRoleId","Id","Age","spriteFrame","getSpriteFrame","icon","name","global","getTranslation","string","playerName","ClosePanel","AudioMgr","playSFX","node","active","ShareToFriend","PlatformController","module","exports"],"mappings":";;;;;;AACA,IAAIA,UAAU,GAAGC,EAAE,CAACC,KAAK,CAAC;EACtB,WAASD,EAAE,CAACE,SAAS;EAErBC,UAAU,EAAE;IACTC,SAAS,EAACJ,EAAE,CAACK,WAAW;IACxBC,MAAM,EAACN,EAAE,CAACO,MAAM;IAChBC,MAAM,EAACR,EAAE,CAACS,KAAK;IACfC,SAAS,EAACV,EAAE,CAACS,KAAK;IAClBE,SAAS,EAACX,EAAE,CAACS;EAChB,CAAC;EAEDG,SAAS,EAAC,SAAAA,UAASC,IAAI,EACvB;IACI,IAAGb,EAAE,CAACc,GAAG,CAACC,WAAW,CAACC,QAAQ,IAAI,CAAC,EACnC;MACEhB,EAAE,CAACc,GAAG,CAACC,WAAW,CAACE,WAAW,GAAGJ,IAAI,CAACK,EAAE;MACxClB,EAAE,CAACc,GAAG,CAACC,WAAW,CAACC,QAAQ,GAAGhB,EAAE,CAACc,GAAG,CAACC,WAAW,CAACI,GAAG;IACtD;IACA,IAAI,CAACb,MAAM,CAACc,WAAW,GAAG,IAAI,CAAChB,SAAS,CAACiB,cAAc,CAACR,IAAI,CAACS,IAAI,CAAC;IAClE,IAAIC,IAAI,GAAGvB,EAAE,CAACc,GAAG,CAACU,MAAM,CAACC,cAAc,CAAC,OAAO,GAACZ,IAAI,CAACK,EAAE,CAAC;IACxD,IAAI,CAACV,MAAM,CAACkB,MAAM,GAAG,IAAI,GAAC1B,EAAE,CAACc,GAAG,CAACC,WAAW,CAACY,UAAU,GAAE,IAAI,GAACJ,IAAI,GAAE,MAAM;IAC1E,IAAI,CAACb,SAAS,CAACgB,MAAM,GAAG1B,EAAE,CAACc,GAAG,CAACC,WAAW,CAACY,UAAU;IACrD,IAAI,CAAChB,SAAS,CAACe,MAAM,GAAGH,IAAI;EAChC,CAAC;EAEDK,UAAU,EAAC,SAAAA,WAAA,EAAU;IACjB5B,EAAE,CAACc,GAAG,CAACe,QAAQ,CAACC,OAAO,CAAC,OAAO,CAAC;IAChC,IAAI,CAACC,IAAI,CAACC,MAAM,GAAG,KAAK;EAC5B,CAAC;EAEDC,aAAa,EAAC,SAAAA,cAAA,EAAU;IACtBjC,EAAE,CAACc,GAAG,CAACoB,kBAAkB,CAACD,aAAa,CAAC,CAAC,CAAC;EAC5C;AAEJ,CAAC,CAAC;AACFE,MAAM,CAACC,OAAO,GAAGrC,UAAU","sourceRoot":"/","sourcesContent":["\r\nvar MarryPanel = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n       RoleAtlas:cc.SpriteAtlas,\r\n       roleSp:cc.Sprite,\r\n       TipLbl:cc.Label,\r\n       MarryLbl1:cc.Label,\r\n       MarryLbl2:cc.Label,\r\n    },\r\n\r\n    ShowPanel:function(data)\r\n    {\r\n        if(cc.Mgr.UserDataMgr.MarryAge == 0)\r\n        {\r\n          cc.Mgr.UserDataMgr.MarryRoleId = data.Id;\r\n          cc.Mgr.UserDataMgr.MarryAge = cc.Mgr.UserDataMgr.Age;\r\n        }\r\n        this.roleSp.spriteFrame = this.RoleAtlas.getSpriteFrame(data.icon);\r\n        var name = cc.Mgr.global.getTranslation(\"role_\"+data.Id);\r\n        this.TipLbl.string = \"恭喜\"+cc.Mgr.UserDataMgr.playerName +\"&&\"+name +\"结成伴侣\";\r\n        this.MarryLbl1.string = cc.Mgr.UserDataMgr.playerName;\r\n        this.MarryLbl2.string = name;\r\n    },\r\n\r\n    ClosePanel:function(){\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        this.node.active = false;\r\n    },\r\n\r\n    ShareToFriend:function(){\r\n      cc.Mgr.PlatformController.ShareToFriend(1);\r\n    },\r\n\r\n});\r\nmodule.exports = MarryPanel;\r\n"]}