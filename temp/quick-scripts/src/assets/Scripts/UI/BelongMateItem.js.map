{"version":3,"sources":["assets\\Scripts\\UI\\BelongMateItem.js"],"names":["ItemType","require","MateBonusType","BelongMateItem","cc","Class","Component","properties","Atals","SpriteAtlas","Icon","Sprite","nameSp","desLbl","Label","itemType","Car","type","Data","init","data","spriteFrame","getSpriteFrame","icon","name","bonusList","Mgr","MapDataMgr","getDataByItemTypeAndId","Mate","Id","str","i","length","bonusType","HP","bonusNum","Reputation","Money","WareHouseCapcity","Treat","string","clickOpen","AudioMgr","playSFX","param","Type","price","flag","director","GlobalEvent","emit","Event","OpenCommonBuy","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var ItemType = require(\"ItemType\");\r\nvar MateBonusType = require(\"MateBonusType\");\r\nvar BelongMateItem = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        Atals:cc.SpriteAtlas,\r\n        Icon:cc.Sprite,\r\n        nameSp:cc.Sprite,\r\n        desLbl:cc.Label,\r\n        itemType:{\r\n            default:ItemType.Car,\r\n            type:ItemType,\r\n        },\r\n        Data:null,\r\n    },\r\n\r\n    init:function(data, itemType){\r\n        this.itemType = itemType\r\n        this.Data = data;\r\n        this.Icon.spriteFrame = this.Atals.getSpriteFrame(data.icon);\r\n        this.nameSp.spriteFrame = this.Atals.getSpriteFrame(data.name);\r\n        var bonusList = cc.Mgr.MapDataMgr.getDataByItemTypeAndId(ItemType.Mate ,data.Id).bonusList;\r\n        var str = \"\";\r\n        for (var i = 0; i < bonusList.length; i++) {\r\n            switch(bonusList[i].bonusType)\r\n            {\r\n                case MateBonusType.HP:\r\n                    if(bonusList[i].bonusNum>0)\r\n                        str = str+\" \" + \"每年健康:+\" + bonusList[i].bonusNum;\r\n                    else\r\n                        str = str+\" \" + \"每年健康:\" + bonusList[i].bonusNum;\r\n                    break;\r\n                case MateBonusType.Reputation:\r\n                    str = str+\" \"  + \"每年名声:+\" + bonusList[i].bonusNum;\r\n                    break;\r\n                case MateBonusType.Money:\r\n                    str = str+\" \"  + \"每年现金:+\" + bonusList[i].bonusNum;\r\n                    break;\r\n                case MateBonusType.WareHouseCapcity:\r\n                    str = str+\" \"  + \"仓储:+\" + bonusList[i].bonusNum;\r\n                    break;\r\n                case MateBonusType.Treat:\r\n                    str = str+\" \"  + \"治疗降费:+\" + bonusList[i].bonusNum*100 + \"%\";\r\n                    break;\r\n            }\r\n        }\r\n        this.desLbl.string = str;\r\n    },\r\n\r\n    clickOpen:function(){\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        var param = {};\r\n        param.icon = this.Data.icon;\r\n        param.name = this.Data.name;\r\n        param.Id = this.Data.Id;\r\n        param.Type = ItemType.Mate;\r\n        param.price = 0;\r\n        param.flag = \"Sale\";\r\n        cc.director.GlobalEvent.emit(cc.Mgr.Event.OpenCommonBuy, param);\r\n    },\r\n});\r\nmodule.exports = BelongMateItem;\r\n"]}