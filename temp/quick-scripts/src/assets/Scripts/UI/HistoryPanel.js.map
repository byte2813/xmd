{"version":3,"sources":["assets\\Scripts\\UI\\HistoryPanel.js"],"names":["HistoryPanel","cc","Class","Component","properties","nameLbl","Label","personNum","assetHigh","retireAsset","Million","TenMillion","HundredMillion","ShowPanel","string","Mgr","UserDataMgr","playerName","playTimes","param","getRecordData","highAsset","as","milltimes","thousend","hundredmill","list","RecordList","allasset","highAssets","i","length","assets","level","Math","floor","ChangeName","ClosePanel","AudioMgr","playSFX","node","active","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\nvar HistoryPanel = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        nameLbl:cc.Label,\r\n        personNum:cc.Label,\r\n        assetHigh:cc.Label,\r\n        retireAsset:cc.Label,\r\n        Million:cc.Label,\r\n        TenMillion:cc.Label,\r\n        HundredMillion:cc.Label,\r\n    },\r\n\r\n    ShowPanel:function () {\r\n        this.nameLbl.string = cc.Mgr.UserDataMgr.playerName;\r\n        this.personNum.string = cc.Mgr.UserDataMgr.playTimes;\r\n\r\n        var param = this.getRecordData();\r\n        this.assetHigh.string = param.highAsset;\r\n        this.retireAsset.string = param.as;\r\n        this.Million.string = param.milltimes;\r\n        this.TenMillion.string = param.thousend;\r\n        this.HundredMillion.string = param.hundredmill;\r\n    },\r\n\r\n    getRecordData:function(){\r\n        //cc.log(JSON.stringify(cc.Mgr.UserDataMgr.RecordList))\r\n        var list = cc.Mgr.UserDataMgr.RecordList;\r\n        var allasset = 0;\r\n        var milltimes = 0;\r\n        var thousend = 0;\r\n        var hundredmill = 0;\r\n        var highAsset = list[0].highAssets;\r\n        for (var i = 0; i < list.length; i++) {\r\n            allasset += list[i].assets;\r\n            if(list[i].highAssets > highAsset)\r\n            {\r\n                highAsset = list[i].highAssets;\r\n            }\r\n            if(list[i].level == 1)\r\n            {\r\n                milltimes += 1;\r\n            }\r\n            else if(list[i].level == 2)\r\n            {\r\n                thousend += 1;\r\n            }\r\n            else if(list[i].level == 3)\r\n            {\r\n                hundredmill += 1;\r\n            }\r\n        }\r\n\r\n        var as = Math.floor(allasset / list.length);\r\n        var param = {};\r\n        param.as = as;\r\n        param.milltimes = milltimes;\r\n        param.thousend = thousend;\r\n        param.hundredmill = hundredmill;\r\n        param.highAsset = highAsset;\r\n        return param;\r\n    },\r\n\r\n    ChangeName:function(){\r\n        //cc.log(\"===========\");\r\n    },\r\n\r\n    ClosePanel:function(){\r\n        cc.Mgr.AudioMgr.playSFX(\"click\");\r\n        this.node.active = false;\r\n    },\r\n\r\n});\r\nmodule.exports = HistoryPanel;\r\n"]}