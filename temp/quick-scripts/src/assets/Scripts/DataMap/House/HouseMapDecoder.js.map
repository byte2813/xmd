{"version":3,"sources":["assets\\Scripts\\DataMap\\House\\HouseMapDecoder.js"],"names":["HouseData","require","HouseMapDecoder","cc","Class","Component","properties","jsonName","houseList","type","DecodeJson","event","self","reCb","loader","loadRes","error","obj","jsonRoot","json","house","i","length","houseD","Id","icon","name","price","addBonus","addHp","getDataByName","data","getDataByItemId","itemId","getJsonLength","getDataList","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var HouseData = require(\"HouseData\");\r\nvar HouseMapDecoder = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        jsonName:\"house\",\r\n        houseList:{\r\n            default:[],\r\n            type:[HouseData],\r\n        },\r\n    },\r\n\r\n    //解析数据\r\n    DecodeJson:function (event) {\r\n        //cc.log(\"===解析房屋数据===\");\r\n        var self = this;\r\n        self.reCb = event;\r\n        cc.loader.loadRes(\"json/\"+self.jsonName, function (error, obj) {\r\n            if(error)\r\n            {\r\n                //cc.log(\"+++解析出错，查下json+++\" + error);\r\n                self.reCb(false);\r\n                return;\r\n            }\r\n            \r\n            var jsonRoot = obj.json.house;\r\n            //cc.log(\"===数据长度===\" + jsonRoot.length);\r\n            for (var i = 0; i < jsonRoot.length; i++) {\r\n                var houseD = new HouseData();\r\n                houseD.Id = jsonRoot[i].Id;\r\n                houseD.icon = jsonRoot[i].icon;\r\n                houseD.name = jsonRoot[i].name;\r\n                houseD.price = jsonRoot[i].price;\r\n                houseD.addBonus = jsonRoot[i].addBonus;\r\n                houseD.addHp = jsonRoot[i].addHp;\r\n                \r\n                self.houseList[i] = houseD; \r\n            }\r\n            self.reCb(true);\r\n        });\r\n    },\r\n\r\n    //通过名字拿到当前的数据 不建议用，你要用我也没办法\r\n    getDataByName:function (name) {\r\n        var data = null;\r\n        for (var i = this.houseList.length - 1; i >= 0; i--) {\r\n            if(name == this.houseList[i].name)\r\n            {\r\n                data = this.houseList[i];\r\n                break;\r\n            }\r\n        }\r\n        return data;\r\n    },\r\n\r\n    //通过itemid获取数据\r\n    getDataByItemId:function(itemId){\r\n        var data = null;\r\n        for (var i = this.houseList.length - 1; i >= 0; i--) {\r\n            if(itemId == this.houseList[i].Id)\r\n            {\r\n                data = this.houseList[i];\r\n                break;\r\n            }\r\n        }\r\n        return data;\r\n    },\r\n\r\n    getJsonLength:function(){\r\n        return this.houseList.length\r\n    },\r\n\r\n    getDataList:function(){\r\n        return this.houseList;\r\n    },\r\n\r\n});\r\nmodule.exports = HouseMapDecoder;"]}