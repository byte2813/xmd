{"version":3,"sources":["assets\\Scripts\\DataMap\\Car\\CarMapDecoder.js"],"names":["CarData","require","CarMapDecoder","cc","Class","Component","properties","jsonName","carList","type","DecodeJson","event","self","reCb","loader","loadRes","error","obj","jsonRoot","json","car","i","length","carD","Id","icon","name","price","addBonus","addHp","addDate","getDataByName","data","getDataByItemId","itemId","getJsonLength","getDataList","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["var CarData = require(\"CarData\");\r\nvar CarMapDecoder = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        jsonName:\"car\",\r\n        carList:{\r\n            default:[],\r\n            type:[CarData],\r\n        },\r\n    },\r\n\r\n    //解析数据\r\n    DecodeJson:function (event) {\r\n        //cc.log(\"===解析汽车数据===\");\r\n        var self = this;\r\n        self.reCb = event;\r\n        cc.loader.loadRes(\"json/\"+self.jsonName, function (error, obj) {\r\n            if(error)\r\n            {\r\n                //cc.log(\"+++解析出错，查下json+++\" + error);\r\n                self.reCb(false);\r\n                return;\r\n            }\r\n            \r\n            var jsonRoot = obj.json.car;\r\n            //cc.log(\"===数据长度===\" + jsonRoot.length);\r\n            for (var i = 0; i < jsonRoot.length; i++) {\r\n                var carD = new CarData();\r\n                carD.Id = jsonRoot[i].Id;\r\n                carD.icon = jsonRoot[i].icon;\r\n                carD.name = jsonRoot[i].name;\r\n                carD.price = jsonRoot[i].price;\r\n                carD.addBonus = jsonRoot[i].addBonus;\r\n                carD.addHp = jsonRoot[i].addHp;\r\n                carD.addDate = jsonRoot[i].addDate;\r\n                self.carList[i] = carD; \r\n            }\r\n            self.reCb(true);\r\n        });\r\n    },\r\n\r\n    //通过名字拿到当前的数据 不建议用，你要用我也没办法\r\n    getDataByName:function (name) {\r\n        var data = null;\r\n        for (var i = this.carList.length - 1; i >= 0; i--) {\r\n            if(name == this.carList[i].name)\r\n            {\r\n                data = this.carList[i];\r\n                break;\r\n            }\r\n        }\r\n        return data;\r\n    },\r\n\r\n    //通过itemid获取数据\r\n    getDataByItemId:function(itemId){\r\n        var data = null;\r\n        for (var i = this.carList.length - 1; i >= 0; i--) {\r\n            if(itemId == this.carList[i].Id)\r\n            {\r\n                data = this.carList[i];\r\n                break;\r\n            }\r\n        }\r\n        return data;\r\n    },\r\n\r\n    getJsonLength:function(){\r\n        return this.carList.length\r\n    },\r\n\r\n    getDataList:function(){\r\n        return this.carList;\r\n    },\r\n});\r\nmodule.exports = CarMapDecoder;\r\n"]}