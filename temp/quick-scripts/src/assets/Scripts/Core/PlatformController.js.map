{"version":3,"sources":["assets\\Scripts\\Core\\PlatformController.js"],"names":["PlatformController","cc","Class","statics","wxSubContextViewLock","nickName","Init","InitRandNickName","IsLoginSync","sys","platform","BAIDU_GAME","result","swan","isLoginSync","isLogin","console","log","BYTEDANCE_GAME","Login","self","login","success","setUserCloudStorage","Mgr","UserDataMgr","HistoryHighAssets","fail","showModal","title","content","cancelText","res","confirm","cancel","exit","CreateGameClub","isKuaiShou","ks","WECHAT_GAME","winSize","view","getVisibleSize","leftRatio","width","topRatio","height","sysInfo","wx","getSystemInfoSync","leftPos","windowWidth","topPos","windowHeight","gameClubBtn","createGameClubButton","icon","text","style","left","top","ShowClubButton","flag","show","hide","seed","Math","floor","random","global","getTranslation","ShareTopNav","index","info","ShareInfos","getShareInfos","showShareMenu","withShareTicket","onShareAppMessage","imageUrlId","imageUrl","tt","url","ShareToFriendTxt","str","shareAppMessage","ShareToFriend","showToast","duration","socre","kvData","wxgame","score","update_time","Date","getTime","JSON","stringify","kvDataList","Array","push","key","value","KVDataList","complete","IsSupportRank","showSubContentView","param","director","GlobalEvent","emit","Event","ShowRank","hideSubContentView","SendMessageToSubView","code","curScore","msg","getOpenDataContext","postMessage","message","CollateData","data","userInfo","j","i","length","openid","nickname","avatarUrl","kVDataListValuestr","substr","gameScore","parse","sort","a","b","mySordId","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["\r\nvar PlatformController = cc.Class({\r\n    statics:{\r\n        wxSubContextViewLock:0,\r\n        //微信 wx\r\n        //头条 tt\r\n        //百度 baidu\r\n        nickName:\"校长王\",\r\n\r\n        Init:function () {\r\n            this.InitRandNickName();\r\n            \r\n            // this.CreateGameClub();\r\n        },\r\n\r\n        //百度 头条等先判定是否登陆了\r\n        IsLoginSync:function(){\r\n        \tif(cc.sys.platform === cc.sys.BAIDU_GAME) {\r\n        \t\tvar result = swan.isLoginSync();\r\n    \t\t\tif(result.isLogin)\r\n    \t\t\t{\r\n    \t\t\t\tconsole.log(\"已经有登陆了\");\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t\treturn false;\r\n        \t} else if(cc.sys.platform === cc.sys.BYTEDANCE_GAME) {\r\n\r\n        \t}\r\n\r\n        \treturn true;\r\n        },\r\n\r\n        Login:function(){\r\n        \tvar self = this;\r\n        \tif(cc.sys.platform === cc.sys.BAIDU_GAME)\r\n        \t{\r\n        \t\tswan.login({\r\n\t\t\t        success: function () {\r\n\t\t\t            self.setUserCloudStorage(cc.Mgr.UserDataMgr.HistoryHighAssets);\r\n\t\t\t        },\r\n\t\t\t        fail: function () {\r\n\t\t\t            swan.showModal({\r\n\t\t\t                title: \"登录失败\",\r\n\t\t\t                content: \"是否重新登录？\",\r\n\t\t\t                cancelText: \"退出游戏\",\r\n\t\t\t                success: function (res) {\r\n\t\t\t                    if (res.confirm) {\r\n\t\t\t                        console.log(\"点击了确定\");\r\n\t\t\t                        self.Login();\r\n\t\t\t                    }\r\n\t\t\t                    else if (res.cancel) {\r\n\t\t\t                        console.log(\"点击了取消\");\r\n\t\t\t                        swan.exit();\r\n\t\t\t                    }\r\n\t\t\t                }\r\n\t\t\t            })\r\n\t\t\t        }\r\n\t\t\t    })\r\n        \t}\r\n        \telse if(cc.sys.platform === cc.sys.BYTEDANCE_GAME)\r\n        \t{\r\n\r\n        \t}\r\n\r\n        \treturn true;\r\n        },\r\n\r\n        //游戏圈按钮\r\n        CreateGameClub:function(){\r\n\t\t\tlet isKuaiShou = false;\r\n\t\t\tif (typeof ks !== 'undefined') {\r\n\t\t\t\t//运行在快手平台\r\n\t\t\t\tisKuaiShou = true;\r\n\t\t\t}\r\n        \tif(cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou)\r\n        \t{\r\n        \t\tvar winSize = cc.view.getVisibleSize();\r\n        \t\tvar leftRatio = 68 / winSize.width;\r\n        \t\tvar topRatio = 275 / winSize.height;\r\n\r\n        \t\tvar sysInfo = wx.getSystemInfoSync();\r\n\r\n        \t\tthis.leftPos = sysInfo.windowWidth * leftRatio;\r\n        \t\tthis.topPos = sysInfo.windowHeight * topRatio;\r\n\r\n        \t\tconsole.log(this.topPos + \"  ================创建游戏圈按钮===============\" + this.leftPos);\r\n\r\n        \t\tvar self = this;\r\n        \t\tthis.gameClubBtn = wx.createGameClubButton({\r\n        \t\t\ticon:'green',\r\n        \t\t\ttext:\"游戏圈\",\r\n        \t\t\tstyle:{\r\n        \t\t\t\tleft:self.leftPos - 20,\r\n        \t\t\t\ttop:self.topPos - 20,\r\n        \t\t\t\twidth: 45,\r\n        \t\t\t\theight: 45,\r\n        \t\t\t}\r\n        \t\t});\r\n        \t}\r\n        },\r\n\r\n        ShowClubButton:function(flag = false)\r\n        {\r\n\t\t\tlet isKuaiShou = false;\r\n\t\t\tif (typeof ks !== 'undefined') {\r\n\t\t\t\t//运行在快手平台\r\n\t\t\t\tisKuaiShou = true;\r\n\t\t\t}\r\n        \tif(cc.sys.platform === cc.sys.WECHAT_GAME && this.gameClubBtn != null && !isKuaiShou)\r\n        \t{\r\n        \t\tif(flag == true)\r\n        \t\t\tthis.gameClubBtn.show();\r\n        \t\telse\r\n        \t\t\tthis.gameClubBtn.hide();\r\n        \t}\r\n        },\r\n\r\n        //随机一个名字\r\n        InitRandNickName:function(){\r\n        \tvar seed = Math.floor(Math.random()*24) + 1;\r\n        \tthis.nickName = cc.Mgr.global.getTranslation(\"Name\"+ seed);\r\n        \tcc.log(\"================================ \" + this.nickName)\r\n        },\r\n\r\n        //右上角的转发按钮\r\n        ShareTopNav:function(){\r\n        \tvar index = Math.floor(Math.random()*6);\r\n\t        let info = cc.Mgr.ShareInfos.getShareInfos(index);\r\n\t\t\tlet isKuaiShou = false;\r\n\t\t\tif (typeof ks !== 'undefined') {\r\n\t\t\t\t//运行在快手平台\r\n\t\t\t\tisKuaiShou = true;\r\n\t\t\t}\r\n\t        if(cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou)\r\n\t        {\r\n\t            wx.showShareMenu({withShareTicket:true});\r\n\t            wx.onShareAppMessage(function () {\r\n\t                // 用户点击了“转发”按钮\r\n\t                return {\r\n\t                  title: \"【有人@你】我在这个游戏里面挣了一个亿\",\r\n\t                  imageUrlId: 'dwMg-qBPS8S7MIWk4VRHxw',\r\n\t                  imageUrl: \"https://paopao.talkyun.com.cn/yiyi/1.jpg\",\r\n\t                }\r\n\t            })\r\n\t        }\r\n\t        else if(cc.sys.platform === cc.sys.BYTEDANCE_GAME)\r\n\t        {\r\n\t            tt.showShareMenu(false);\r\n\t            tt.onShareAppMessage(function () {\r\n\t                // 用户点击了“转发”按钮\r\n\t                return {\r\n\t                  title: info.text,\r\n\t                  //imageUrlId: 'Ik14RZj7SV2BtigrtE3d1g',\r\n\t                  imageUrl: info.url,\r\n\t                }\r\n\t            })\r\n\t        }\r\n\t        else if(cc.sys.platform === cc.sys.BAIDU_GAME)\r\n\t        {\r\n\t            swan.showShareMenu(false);\r\n\t            swan.onShareAppMessage(function () {\r\n\t                // 用户点击了“转发”按钮\r\n\t                return {\r\n\t                  title: info.text,\r\n\t                  imageUrl: info.url\r\n\t                }\r\n\t            })\r\n\t        }\r\n        },\r\n\r\n        //转发一段文本\r\n        ShareToFriendTxt:function(str){\r\n\t\t\tlet isKuaiShou = false;\r\n\t\t\tif (typeof ks !== 'undefined') {\r\n\t\t\t\t//运行在快手平台\r\n\t\t\t\tisKuaiShou = true;\r\n\t\t\t}\r\n        \tif(cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou)\r\n\t        {\r\n\t            console.log(\"点击了分享啊\");\r\n\t            wx.shareAppMessage({\r\n\t                title: str,\r\n\t            })\r\n\t        }\r\n\t        else if(cc.sys.platform === cc.sys.BYTEDANCE_GAME)\r\n\t        {\r\n\t            tt.shareAppMessage({\r\n\t                title: str,\r\n\t            })\r\n\t        }\r\n\t        else if(cc.sys.platform === cc.sys.BAIDU_GAME)\r\n\t        {\r\n\t            console.log(\"点击了分享啊\");\r\n\t            swan.shareAppMessage({\r\n\t                title: str,\r\n\t            })\r\n\t        }\r\n\t\t\telse if(isKuaiShou)\r\n\t\t\t{\r\n\t\t\t\tks.shareAppMessage({})\r\n\t\t\t}\r\n        },\r\n\r\n        //自定义转发\r\n        ShareToFriend:function(index){\r\n        \tvar info = cc.Mgr.ShareInfos.getShareInfos(index);\r\n\t\t\tlet isKuaiShou = false;\r\n\t\t\tif (typeof ks !== 'undefined') {\r\n\t\t\t\t//运行在快手平台\r\n\t\t\t\tisKuaiShou = true;\r\n\t\t\t}\r\n\t        if(cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou)\r\n\t        {\r\n\t            console.log(\"点击了分享啊\");\r\n\t            wx.shareAppMessage({\r\n\t                title: info.text,\r\n\t                imageUrl: info.url,\r\n\t            })\r\n\t        }\r\n\t        else if(cc.sys.platform === cc.sys.BYTEDANCE_GAME)\r\n\t        {\r\n\t            tt.shareAppMessage({\r\n\t                title: info.text,\r\n\t                imageUrl: info.url\r\n\t            })\r\n\t        }\r\n\t        else if(cc.sys.platform === cc.sys.BAIDU_GAME)\r\n\t        {\r\n\t            console.log(\"点击了分享啊\");\r\n\t            swan.shareAppMessage({\r\n\t                title: info.text,\r\n\t                imageUrl: info.url\r\n\t            })\r\n\t        }\r\n\t\t\telse if(isKuaiShou)\r\n\t\t\t{\r\n\t\t\t\tks.shareAppMessage({})\r\n\t\t\t}\r\n        },\r\n \t\t//显示平台的小弹窗 回调用\r\n        showToast:function(text)\r\n\t    {\r\n\t\t\tlet isKuaiShou = false;\r\n\t\t\tif (typeof ks !== 'undefined') {\r\n\t\t\t\t//运行在快手平台\r\n\t\t\t\tisKuaiShou = true;\r\n\t\t\t}\r\n\t        cc.log(text);\r\n\t        if(cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou)\r\n\t        {\r\n\t            wx.showToast({\r\n\t                title: text,\r\n\t                icon: 'success',\r\n\t                duration: 2000\r\n\t            })\r\n\t        }\r\n\t        else if(cc.sys.platform === cc.sys.BYTEDANCE_GAME)\r\n\t        {\r\n\t            tt.showToast({\r\n\t                title: text,\r\n\t                icon: 'success',\r\n\t                duration: 2000\r\n\t            })\r\n\t        }\r\n\t        else if(cc.sys.platform === cc.sys.BAIDU_GAME)\r\n\t        {\r\n\t            swan.showToast({\r\n\t                title: text,\r\n\t                icon: 'success',\r\n\t                duration: 2000\r\n\t            })\r\n\t        }\r\n\t\t\telse if(isKuaiShou)\r\n\t\t\t{\r\n\t\t\t\tks.showToast({\r\n\t\t\t\t\ttitle: text,\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t    },\r\n\t    //微信开放数据存储 score 代表当前要保存的东西\r\n\t    setUserCloudStorage:function(socre) \r\n\t    {\r\n\t    \tif(!this.IsLoginSync())\r\n\t    \t{\r\n\t    \t\treturn;\r\n\t    \t}\r\n\t\t\tlet isKuaiShou = false;\r\n\t\t\tif (typeof ks !== 'undefined') {\r\n\t\t\t\t//运行在快手平台\r\n\t\t\t\tisKuaiShou = true;\r\n\t\t\t}\r\n\t    \t\r\n\t        cc.log(\"setUserCloudStorage socre = \" + socre);\r\n\t        if(cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou)\r\n\t        {\r\n\t            var kvData={};\r\n\t            kvData.wxgame={};\r\n\t            kvData.wxgame.score = socre;\r\n\t            kvData.wxgame.update_time =  new Date().getTime();\r\n\t            console.log(JSON.stringify(kvData));\r\n\r\n\t            var kvDataList = new Array();\r\n\t            kvDataList.push({key: \"\bxmbScore\", value: JSON.stringify(kvData)});\r\n\t            wx.setUserCloudStorage({\r\n\t\t            KVDataList: kvDataList,\r\n\t\t            success: res => {\r\n\t\t                console.log(\"success:\" + JSON.stringify(res))\r\n\t\t            },\r\n\t\t            fail: res => {\r\n\t\t                console.log(\"fail : \" + res);\r\n\t\t            }\r\n\t            });\r\n\t        }\r\n\t        else if(cc.sys.platform === cc.sys.BAIDU_GAME)\r\n\t        {\r\n\t        \tvar kvData={};\r\n\t            kvData.wxgame={};\r\n\t            kvData.wxgame.score = socre;\r\n\t            kvData.wxgame.update_time =  new Date().getTime();\r\n\t            console.log(JSON.stringify(kvData));\r\n\r\n\t            var kvDataList = new Array();\r\n\t            kvDataList.push({key: \"\bxmbScore\", value: JSON.stringify(kvData)});\r\n\r\n\t        \tswan.setUserCloudStorage({\r\n\t\t\t\t\tKVDataList: kvDataList,\r\n\t\t\t\t\tsuccess: res => console.log(\"success \"+res),\r\n\t\t\t\t\tfail: res => console.log(\"fail \"+res),\r\n\t\t\t\t\tcomplete: res => console.log(\"complete \"+res)\r\n\t\t\t\t});\r\n\t        }\r\n\t    },\r\n\r\n\t    //是否支持排行功能\r\n\t    IsSupportRank:function()\r\n\t    {\r\n\t\t\tlet isKuaiShou = false;\r\n\t\t\tif (typeof ks !== 'undefined') {\r\n\t\t\t\t//运行在快手平台\r\n\t\t\t\tisKuaiShou = true;\r\n\t\t\t}\r\n\t        if((cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) || cc.sys.platform === cc.sys.BAIDU_GAME)\r\n\t            return true;\r\n\r\n\t        return false;\r\n\t    },\r\n\r\n\t    //显示子域\r\n\t    showSubContentView:function()\r\n\t    {\r\n\t\t\tlet isKuaiShou = false;\r\n\t\t\tif (typeof ks !== 'undefined') {\r\n\t\t\t\t//运行在快手平台\r\n\t\t\t\tisKuaiShou = true;\r\n\t\t\t}\r\n\t        if((cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) || cc.sys.platform === cc.sys.BAIDU_GAME )\r\n\t        {\r\n\t\t        var param = {};\r\n\t\t        param.flag = true;\r\n\t\t        cc.director.GlobalEvent.emit(cc.Mgr.Event.ShowRank, param);\r\n\t        }\r\n\t    },\r\n\r\n\t    hideSubContentView:function()\r\n\t    {\r\n\t\t\tlet isKuaiShou = false;\r\n\t\t\tif (typeof ks !== 'undefined') {\r\n\t\t\t\t//运行在快手平台\r\n\t\t\t\tisKuaiShou = true;\r\n\t\t\t}\r\n\t        if((cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou) || cc.sys.platform === cc.sys.BAIDU_GAME )\r\n\t        {\r\n\t            var param = {};\r\n\t\t        param.flag = false;\r\n\t\t        cc.director.GlobalEvent.emit(cc.Mgr.Event.ShowRank, param);\r\n\t        }\r\n\t    },\r\n\r\n\t    SendMessageToSubView:function(code,curScore=0)\r\n\t    {\r\n\t        var msg={};\r\n\t        msg.code = code;\r\n\t        msg.curScore = curScore;\r\n\t\t\tlet isKuaiShou = false;\r\n\t\t\tif (typeof ks !== 'undefined') {\r\n\t\t\t\t//运行在快手平台\r\n\t\t\t\tisKuaiShou = true;\r\n\t\t\t}\r\n\t        if(cc.sys.platform === cc.sys.WECHAT_GAME && !isKuaiShou)\r\n\t        {\r\n\t            wx.getOpenDataContext().postMessage({\r\n\t                message: msg\r\n\t            });\r\n\t        }\r\n\t        else if(cc.sys.platform === cc.sys.BAIDU_GAME)\r\n\t        {\r\n\t        \tswan.getOpenDataContext().postMessage({\r\n\t\t\t\t    message: msg\r\n\t\t\t\t});\r\n\t        }\r\n\t    },\r\n\r\n\t    //整理数据\r\n\t    CollateData:function(data)\r\n\t    {\r\n\t        this.userInfo = [];\r\n\t        var j = 0;\r\n\t        for (let i = 0; i < data.length; ++i) {\r\n\t            if(data[i].KVDataList.length == 0)\r\n\t            {\r\n\t                console.log(\"combData 没有此项数据\");\r\n\t                continue;\r\n\t            }\r\n\t            //{\"openid\":\"o0OhZ5Kn2xO9b5FVR8TE0YXOl3Wc\",\"nickname\":\"杨彬\",\"avatarUrl\":\"https://wx.qlogo.cn/mmopen/vi_32/FcRibGPkicSKhn6LA1OWfL7ictiaKiajzibzW8zwQibkGKdCJmmiasvibcRasI2KytcVtW8ClH5IQTsOs3CB8vyMSUAOarA/132\",\"KVDataList\":[{\"key\":\"\\belsfkScore\",\"value\":\"{\\\"wxgame\\\":{\\\"score\\\":1889,\\\"update_time\\\":1553824369920}}\"}]}\r\n\t            this.userInfo[j]={};\r\n\t            this.userInfo[j].openid = data[i].openid;\r\n\t            this.userInfo[j].nickname = data[i].nickname;\r\n\t            this.userInfo[j].avatarUrl = data[i].avatarUrl;\r\n\r\n\t            var kVDataListValuestr = data[i].KVDataList[0].value;\r\n\t            kVDataListValuestr = kVDataListValuestr.substr(1); //删除第一个字符\r\n\t            kVDataListValuestr = kVDataListValuestr.substr(0, kVDataListValuestr.length-1); \r\n\t            kVDataListValuestr = \"{\" + kVDataListValuestr + \"}\";\r\n\t            var gameScore = JSON.parse(kVDataListValuestr).wxgame;\r\n\t            this.userInfo[j].score = gameScore.score;\r\n\t            j++;\r\n\t        }\r\n\t        //给用户数据进行排序\r\n\t        this.userInfo.sort((a,b)=>{\r\n\t                if(a.score<b.score)\r\n\t                    return 1;\r\n\t                else if(a.score>b.score)\r\n\t                    return -1\r\n\t                else\r\n\t                    return 0;\r\n\t            }\r\n\t        );\r\n\t        console.log(\"CollateData--- \" + JSON.stringify(this.userInfo));\r\n\t        for(var i=0 ;i<this.userInfo.length;i++)\r\n\t        {\t//挑出自己的排名\r\n\t            if(this.userInfo[i].avatarUrl == this.avatarUrl)\r\n\t            {\r\n\t                this.mySordId = i;\r\n\t            }\r\n\t        } \r\n\t    },\r\n    },\r\n});\r\nmodule.exports = PlatformController;\r\n"]}